<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>pages</title>
      <link href="/2022/05/15/pages/"/>
      <url>/2022/05/15/pages/</url>
      
        <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Welcome to my blog, enter password to read.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="c79f2b855dfe996afe60242c93f21b176542c895ac40e6e2070667680d8312ee">d0d703fa332139beb12ceb85f23df7fc2dd2ad6c1e2d88c79a07ca82a4c752383c4b274b70abf24c2627b91511ca38c6827a85fb24bb1d405ef366f63d449475cc7e7021b2f42aea7973805ef690a099be12a8caa2ffdf6dbc9f6212144592fad5a584f16d9cbcc534663cce7d13c5205693b5799467cdca4f31b1eb3da117c4464e9d65e8d2ea086423bfac557b55b88f807ccf0b25016324b2051db850900f99f12708a26a6549e44778d76c46ce31d1a6d64c5e9d8db63da0630457acc014c67941c9a3f8ca646afc155801e88b3509b175e7ac010b442778b88935322dc16758351f90281084ecfd1b06f21cb5a1c4e1255c460c67ea328840963b1ad7b1f852cafe5fdc6953ede3c0673d806bfa1335098b0257522bbf62892e6d64c6c5</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Melodyä¸»é¢˜åšå®¢æ·»åŠ æ–‡ç« æ›´æ–°å’Œå¤šè¯„è®ºç³»ç»Ÿ</title>
      <link href="/2022/05/15/Hexo-melody-blog-beautification2/"/>
      <url>/2022/05/15/Hexo-melody-blog-beautification2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>&emsp;&emsp;åšå®¢æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´æ˜¯æˆ‘æƒ³äº†å¾ˆä¹…çš„äº‹ï¼Œå†™åšå®¢çš„æ—¶å€™ç»å¸¸æœ‰ä¿®æ”¹æ—§åšå®¢çš„ä¹ æƒ¯ï¼Œæ¯æ¬¡æ—§åšå®¢æ›´æ–°å®Œæ¯•æ¨é€åˆ°ä»“åº“æ—¶å‘ç°æ›´æ–°è¿‡çš„åšå®¢ä¾ç„¶åŸ‹æ²¡åœ¨å¥½å¤šé¡µä¹‹åï¼Œå› ä¸ºHexoåšå®¢é»˜è®¤ä»¥æ–‡ç« çš„å‘å¸ƒæ—¶é—´æ’åºï¼Œè€Œä¸æ˜¯æ›´æ–°æ—¶é—´ã€‚</p><p>&emsp;&emsp;æŠ˜è…¾å¤šè¯„è®ºç³»ç»Ÿæ˜¯å› ä¸ºæˆ‘ä¹‹å‰ä½¿ç”¨çš„åšå®¢è¯„è®ºç³»ç»Ÿæ˜¯Valineå›½é™…ç‰ˆï¼ˆValineå›½å†…ç‰ˆéœ€è¦å®åè®¤è¯ï¼Œå¤ªéº»çƒ¦äº†ï¼‰ï¼Œä¸ç¨³å®šï¼Œæœ‰æ—¶å€™ä¼šåŸŸåå¤±æ•ˆï¼Œå¯¼è‡´åšå®¢æ— æ³•è¯„è®ºï¼Œæ‰€ä»¥æƒ³é…ç½®Disquså’ŒValineåŒè¯„è®ºç³»ç»Ÿã€‚</p><a id="more"></a><h2 id="äºŒã€æ­£æ–‡"><a href="#äºŒã€æ­£æ–‡" class="headerlink" title="äºŒã€æ­£æ–‡"></a>äºŒã€æ­£æ–‡</h2><h3 id="2-1-æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´"><a href="#2-1-æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´" class="headerlink" title="2.1 æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´"></a>2.1 æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´</h3><p>&emsp;&emsp;æœ¬ç«™ä½¿ç”¨çš„æ˜¯<code>Melody</code>ï¼Œæ— è®ºæ˜¯æ–‡ç« åˆ—è¡¨ç¼©ç•¥é¡µè¿˜æ˜¯åšå®¢æ–‡ç« é¡µé¢å‡æ²¡æœ‰æ–‡ç« æ›´æ–°æ—¶é—´çš„å­—æ®µã€‚ä¿®æ”¹æ–‡ä»¶\themes\melody\layout\includes\recent-posts.pugæ–‡ä»¶ä¸­10-16è¡Œä¹‹é—´çš„å†…å®¹ï¼Œç»™æ–‡ç« åˆ—è¡¨é¡µæ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">each article in page.posts.data</span><br><span class="line">  .recent-post-item.article-container</span><br><span class="line">    - var link &#x3D; article.link || article.path</span><br><span class="line">      a.article-title(href&#x3D;url_for(link))&#x3D; article.title || _p(&#39;no_title&#39;)</span><br><span class="line">    if (article.top)</span><br><span class="line">      span.article-meta</span><br><span class="line">        i.fa.fa-thumb-tack.article-meta__icon.sticky</span><br><span class="line">        span.sticky&#x3D; _p(&#39;sticky&#39;)</span><br><span class="line">        span.article-meta__separator(style&#x3D;&quot;margin-right: 0.3rem&quot;) |</span><br><span class="line">    if (theme.post_meta.date_type)</span><br><span class="line">      &#x2F;&#x2F;- var date_type &#x3D; theme.post_meta.date_type &#x3D;&#x3D; &#39;updated&#39; ? &#39;updated&#39; : &#39;date&#39;</span><br><span class="line">      - var date_type1 &#x3D; &#39;date&#39;</span><br><span class="line">      - var date_type2 &#x3D; &#39;updated&#39;</span><br><span class="line">      time.post-meta__date #[i.fa.fa-calendar(aria-hidden&#x3D;&quot;true&quot;)] å‘è¡¨äº #[&#x3D;date(article[date_type1], config.date_format)]</span><br><span class="line">      span.post-meta__separator |</span><br><span class="line">      time.post-meta__date #[i.fa.fa-calendar-check-o(aria-hidden&#x3D;&quot;true&quot;)] æ›´æ–°äº #[&#x3D;date(article[date_type2], config.date_format)]</span><br><span class="line">    if (article.layout &#x3D;&#x3D;&#x3D; &#39;slides&#39;)</span><br><span class="line">      a.article-type(href&#x3D;&#39;&#x2F;slides&#39;) Slides</span><br><span class="line">    if (theme.post_meta.categories &amp;&amp; article.categories.data.length &gt; 0)</span><br><span class="line">      span.article-meta</span><br><span class="line">        span.article-meta__separator |</span><br><span class="line">        each item, index in article.categories.data</span><br><span class="line">          i.fa.fa-inbox.article-meta__icon(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">          a(href&#x3D;url_for(item.path)).article-meta__categories #[&#x3D;item.name]</span><br><span class="line">          if (index &lt; article.categories.data.length - 1)</span><br><span class="line">              i.fa.fa-angle-right(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">    if (theme.post_meta.tags &amp;&amp; article.tags.data.length &gt; 0)</span><br><span class="line">      span.article-meta.tags</span><br><span class="line">        span.article-meta__separator |</span><br><span class="line">        each item, index in article.tags.data</span><br><span class="line">          i.fa.fa-tag.article-meta__icon(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">          a(href&#x3D;url_for(item.path)).article-meta__tags #[&#x3D;item.name]</span><br><span class="line">          if (index &lt; article.tags.data.length - 1)</span><br><span class="line">            span.article-meta__link -</span><br><span class="line">    if (article.layout &#x3D;&#x3D;&#x3D; &#39;slides&#39;)</span><br><span class="line">      include .&#x2F;mixins&#x2F;slide.pug </span><br><span class="line">      - var iframeLink &#x3D; article.iframe || link</span><br><span class="line">      +slideIframe(iframeLink)</span><br><span class="line">    else if article.excerpt</span><br><span class="line">      .content!&#x3D; article.excerpt</span><br><span class="line">      a.more(href&#x3D;url_for(link) + &#39;#more&#39;)&#x3D; _p(&#39;read_more&#39;)</span><br><span class="line">    else if theme.auto_excerpt &amp;&amp; theme.auto_excerpt.enable</span><br><span class="line">      - const content &#x3D; strip_html(article.content)</span><br><span class="line">      - let expert &#x3D; content.substring(0, theme.auto_excerpt.length) </span><br><span class="line">      - content.length &gt; theme.auto_excerpt.length ? expert +&#x3D; &#39; ...&#39; : &#39;&#39;</span><br><span class="line">      .content!&#x3D; expert</span><br><span class="line">      a.more(href&#x3D;url_for(link) + &#39;#more&#39; style&#x3D;&quot;margin-top: 14px&quot;)&#x3D; _p(&#39;read_more&#39;)</span><br><span class="line">    else</span><br><span class="line">      .content!&#x3D; article.content</span><br><span class="line">    hr</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶<code>melody.yml</code>ä¸­<code>post_meta</code>å­—æ®µå†…å®¹ï¼Œå°†<code>date_type</code>å€¼æ›´æ”¹ä¸º<code>both</code>ï¼Œè¿™æ ·åšçš„åŸå› æ˜¯\themes\melody\layout\post.pugæ–‡ä»¶å†…å¯èµ°<code>theme.post_meta.date_type === &#39;both&#39;</code>åˆ†æ”¯ã€‚å®ç°åšå®¢æ–‡ç« é¡µæ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  #date_type: created # created or updated</span><br><span class="line">  date_type: both</span><br><span class="line">  categories: true</span><br><span class="line">  tags: true</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;\themes\melody\layout\post.pugæ–‡ä»¶ç¬¬12è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">block top_img</span><br><span class="line">  - var top_img &#x3D; page.top_img || theme.post_meta.top_img || theme.top_img || config.top_img</span><br><span class="line">  if (top_img &amp;&amp; page.top_img !&#x3D;&#x3D; false)</span><br><span class="line">    - var bg_img &#x3D; top_img !&#x3D;&#x3D; true ? &#96;background-image: url($&#123;top_img&#125;)&#96; : &#39;&#39;</span><br><span class="line">    - var flag &#x3D; top_img &#x3D;&#x3D;&#x3D; true ? &#39;no-bg&#39; : &#39;&#39;</span><br><span class="line">    div#top-container(style&#x3D;bg_img class&#x3D;flag)</span><br><span class="line">      include .&#x2F;includes&#x2F;header.pug</span><br><span class="line">      #post-info</span><br><span class="line">        #post-title&#x3D; page.title || _p(&#39;no_title&#39;)</span><br><span class="line">        #post-meta</span><br><span class="line">          if (theme.post_meta.date_type)</span><br><span class="line">            if (theme.post_meta.date_type &#x3D;&#x3D;&#x3D; &#39;both&#39;)</span><br><span class="line">              time.post-meta__date</span><br><span class="line">                i.fa.fa-calendar(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">                &#x3D;&#39; &#39;+_p(&#39;post.created&#39;)+&#39; &#39;+date(page.date, config.date_format)</span><br><span class="line">                span.post-meta__separator |</span><br><span class="line">                i.fa.fa-calendar-check-o(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">                &#x3D;&#39; &#39;+_p(&#39;post.updated&#39;)+&#39; &#39;+date(page.updated, config.date_format)</span><br><span class="line">            else</span><br><span class="line">              - var date_type &#x3D; theme.post_meta.date_type &#x3D;&#x3D;&#x3D; &#39;updated&#39; ? &#39;updated&#39; : &#39;date&#39;</span><br><span class="line">              time.post-meta__date #[i.fa.fa-calendar(aria-hidden&#x3D;&quot;true&quot;)] #[&#x3D;date(page[date_type], config.date_format)]</span><br><span class="line">          if (theme.post_meta.categories &amp;&amp; page.categories.data.length &gt; 0)</span><br><span class="line">            if (theme.post_meta.date_type)</span><br><span class="line">              span.post-meta__separator |</span><br><span class="line">            each item, index in page.categories.data</span><br><span class="line">              i.fa.fa-inbox.post-meta__icon(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">              a(href&#x3D;url_for(item.path)).post-meta__categories #[&#x3D;item.name]</span><br><span class="line">              if (index &lt; page.categories.data.length - 1)</span><br><span class="line">                 i.fa.fa-angle-right(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">          if (theme.disqus.enable &amp;&amp; theme.disqus.count)</span><br><span class="line">            if (theme.post_meta.date_type || theme.post_meta.categories &amp;&amp; page.categories.data.length &gt; 0)</span><br><span class="line">              span.post-meta__separator |</span><br><span class="line">            i.fa.fa-comment-o.post-meta__icon(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">            a(href&#x3D;url_for(page.path) + &#39;#disqus_thread&#39;)</span><br><span class="line">              span.disqus-comment-count(data-disqus-identifier&#x3D;page.path)</span><br><span class="line">          if (theme.wordcount &amp;&amp; theme.wordcount.enable)</span><br><span class="line">            .post-meta-wordcount</span><br><span class="line">              span&#x3D; _p(&#39;post.wordcount&#39;) + &#39;: &#39;</span><br><span class="line">              span.word-count&#x3D; wordcount(page.content)</span><br><span class="line">              span.post-meta__separator |</span><br><span class="line">              span&#x3D; _p(&#39;post.min2read&#39;, min2read(page.content, &#123;cn: 350, en: 160&#125;))</span><br><span class="line">  else</span><br><span class="line">    div#top-container.plain</span><br><span class="line">      include .&#x2F;includes&#x2F;header.pug</span><br></pre></td></tr></table></figure><h3 id="2-2-ä¿®æ”¹æ–‡ç« æ’åºæ–¹å¼"><a href="#2-2-ä¿®æ”¹æ–‡ç« æ’åºæ–¹å¼" class="headerlink" title="2.2 ä¿®æ”¹æ–‡ç« æ’åºæ–¹å¼"></a>2.2 ä¿®æ”¹æ–‡ç« æ’åºæ–¹å¼</h3><p>&emsp;&emsp;ç½‘ä¸Šæœäº†ä¸€äº›ç›¸å…³èµ„æ–™ï¼Œçœ‹åˆ°æœ‰äººè¯´hexoæœ‰é»˜è®¤çš„<code>updated</code>å‚æ•°ï¼Œé»˜è®¤è·Ÿæ–‡ç« çš„åˆ›å»ºæ—¶é—´ç›¸åŒï¼Œåªéœ€è¦æ›´æ”¹ä¸»ç«™é…ç½®æ–‡ä»¶<code>_config.yml</code>çš„<code>order_by: -date</code>ä¿®æ”¹ä¸º<code>order_by: -updated</code>å³å¯ï¼Œå¯æ˜¯æˆ‘å°è¯•æ›´æ”¹ä¹‹åå¹¶æ²¡æœ‰è¾¾åˆ°æƒ³è¦çš„æ•ˆæœã€‚</p><p>&emsp;&emsp;è¿™é‡Œè®°å½•ä¸‹æˆ‘çš„ä¿®æ”¹æ–¹æ³•ï¼Œé¦–å…ˆåœ¨åšå®¢æ–‡ç« <code>.md</code>æ–‡ä»¶<code>front-matter</code>ä¸­æ·»åŠ <code>updated</code>ä¸ºæ–‡ç« çš„æ›´æ–°æ—¶é—´ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mathjax: true</span><br><span class="line">top: false</span><br><span class="line">declare: true</span><br><span class="line">title: Hexo Melodyä¸»é¢˜åšå®¢æ·»åŠ æ–‡ç« æ›´æ–°å’Œå¤šè¯„è®ºç³»ç»Ÿ</span><br><span class="line">date: 2022-05-15 22:03:38</span><br><span class="line">updated: 2022-05-15 22:03:38</span><br><span class="line">schedule: 2022-05-15 22:03:38</span><br><span class="line">tags:</span><br><span class="line">- Hexo</span><br><span class="line">- Melody</span><br><span class="line">- Disqus</span><br><span class="line">- DisqusJs</span><br><span class="line">categories:</span><br><span class="line">- åšå®¢æ­å»º</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;åˆ©ç”¨å®ç°æ–‡ç« ç½®é¡¶åŠŸèƒ½çš„ç›¸å…³æ–‡ä»¶å®ç°æ–‡ç« æŒ‰æ›´æ–°æ—¶é—´æ’åºï¼Œä¿®æ”¹æ–‡ä»¶node_modules\hexo-generator-index-pin-top\lib\generator.jsä¸­çš„å†…å®¹ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123; <span class="comment">// ä¸¤ç¯‡æ–‡ç« topéƒ½æœ‰å®šä¹‰</span></span><br><span class="line">            <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.updated - a.updated; <span class="comment">// è‹¥topå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ›´æ–°æ—¥æœŸé™åºæ’</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top; <span class="comment">// å¦åˆ™æŒ‰ç…§topå€¼é™åºæ’</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123; <span class="comment">// ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> b.updated - a.updated; <span class="comment">// éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ›´æ–°æ—¥æœŸé™åºæ’</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å®ç°æ–‡ç« æŒ‰ç…§æ›´æ–°æ—¶é—´æ’åºã€‚</p><h3 id="2-3-æ·»åŠ Disqusè¯„è®ºç³»ç»Ÿ"><a href="#2-3-æ·»åŠ Disqusè¯„è®ºç³»ç»Ÿ" class="headerlink" title="2.3 æ·»åŠ Disqusè¯„è®ºç³»ç»Ÿ"></a>2.3 æ·»åŠ Disqusè¯„è®ºç³»ç»Ÿ</h3><p>&emsp;&emsp;æœ¬ç«™åŸæœ¬ä½¿ç”¨Valineè¯„è®ºç³»ç»Ÿï¼Œåœ¨ä¿ç•™åŸæœ‰çš„è¯„è®ºç³»ç»Ÿçš„åŒæ—¶æ·»åŠ Disqusè¯„è®ºç³»ç»Ÿã€‚Melodyä¸»é¢˜åšå®¢é»˜è®¤è‡³å¤šé…ç½®ä¸€ä¸ªè¯„è®ºç³»ç»Ÿï¼Œæ›´æ”¹\themes\melody\layout\index.pugæ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">span.post-meta__comment æ³¨ï¼šæœ¬ç«™é…ç½®Disquså’ŒValineåŒè¯„è®ºç³»ç»Ÿï¼Œå¯é€‰å…¶ä¸­ä¹‹ä¸€ä½¿ç”¨ï¼ğŸ§ğŸ§ğŸ§</span><br><span class="line">if theme.disqus.enable</span><br><span class="line">  include .&#x2F;disqus.pug</span><br><span class="line">if theme.laibili &amp;&amp; theme.laibili.enable</span><br><span class="line">  include .&#x2F;laibili.pug</span><br><span class="line">if theme.gitment &amp;&amp; theme.gitment.enable</span><br><span class="line">  include .&#x2F;gitment.pug</span><br><span class="line">if theme.gitalk &amp;&amp; theme.gitalk.enable</span><br><span class="line">  include .&#x2F;gitalk.pug</span><br><span class="line">if theme.valine &amp;&amp; theme.valine.enable</span><br><span class="line">  include .&#x2F;valine.pug</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶<code>melody.yml</code>ä¸­é…ç½®Disquså’ŒValineè¯„è®ºç³»ç»Ÿã€‚</p><h3 id="2-4-é…ç½®DisqusJs"><a href="#2-4-é…ç½®DisqusJs" class="headerlink" title="2.4 é…ç½®DisqusJs"></a>2.4 é…ç½®DisqusJs</h3><p>&emsp;&emsp;Disqusåƒèˆ¬ä¸‡èˆ¬å¥½ï¼Œå°±æ˜¯è®¿é—®æ—¶éœ€è¦èµ°ä»£ç†ï¼Œå›½å†…ç½‘ç»œç¯å¢ƒä¸‹æ— æ³•ä½¿ç”¨Disqusè¯„è®ºï¼Œä¹Ÿæ— æ³•æŸ¥çœ‹å·²æœ‰çš„Disqusè¯„è®ºï¼ŒDisqusJså¯ä»¥è‡ªåŠ¨åˆ¤æ–­è®¿é—®è€…çš„ç½‘ç»œæƒ…å†µï¼Œå³ä½¿æ— æ³•ä½¿ç”¨Disqusè¯„è®ºæ—¶ä¹Ÿå¯ä»¥åŠ è½½å·²æœ‰çš„Disqusè¯„è®ºæŸ¥çœ‹ã€‚</p><p>&emsp;&emsp;â€¦â€¦</p><p>&emsp;&emsp;ï¼ˆè¦ä¸è¦å†æŠ˜è…¾äº†ï¼Ÿï¼Ÿï¼Ÿï¼‰</p><p>&emsp;&emsp;æˆ‘çš„åšå®¢ä¹‹æäº¤äº†Googleæ”¶å½•ï¼Œèƒ½è®¿é—®åˆ°æˆ‘åšå®¢çš„äººå¤§æ¦‚éƒ½æœ‰ä»£ç†å§ï¼ï¼ï¼ğŸ¤£ğŸ¤£ğŸ¤£</p><h2 id="ä¸‰ã€å‚è€ƒæ–‡çŒ®"><a href="#ä¸‰ã€å‚è€ƒæ–‡çŒ®" class="headerlink" title="ä¸‰ã€å‚è€ƒæ–‡çŒ®"></a>ä¸‰ã€å‚è€ƒæ–‡çŒ®</h2><ol><li><a href="https://gsy00517.github.io/hexo20200207151318/" target="_blank" rel="noopener">hexoç¬”è®°ï¼šæ–‡ç« æ’åº</a></li><li><a href="https://zealot.top/2018/11/25/%E5%88%A9%E7%94%A8vim%E5%AE%9E%E7%8E%B0HEXO%E6%96%87%E7%AB%A0%E6%8C%89%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F/" target="_blank" rel="noopener">åˆ©ç”¨vimå®ç°HEXOæ–‡ç« æŒ‰æ›´æ–°æ—¶é—´è‡ªåŠ¨æ’åº</a></li><li><a href="https://bambrow.com/20211130-hexo-comment-disqus/" target="_blank" rel="noopener">Hexo NexT æ·»åŠ  Disqus è¯„è®ºåŒº</a></li><li><a href="https://ftzzloo.com/hexo-add-disqus/" target="_blank" rel="noopener">Hexoæ·»åŠ è¯„è®ºç³»ç»ŸDisqus</a></li><li><a href="https://yrom.net/blog/2018/10/18/Use-DisqusJS-for-comment/" target="_blank" rel="noopener">Hexo ä½¿ç”¨ DisqusJS ä»£ç†è¯„è®º</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Melody </tag>
            
            <tag> Disqus </tag>
            
            <tag> DisqusJs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCodeæ—¶é—´å¤æ‚åº¦ä¼°è®¡</title>
      <link href="/2022/05/10/leetcode_time_complexity_estimation/"/>
      <url>/2022/05/10/leetcode_time_complexity_estimation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æˆ‘è¦åˆ·é¢˜ï¼Œåˆ·LeetCodeä½¿æˆ‘å¿«ä¹ï¼ï¼ï¼</p><div class="table-container"><table><thead><tr><th>æ—¶é—´å¤æ‚åº¦</th><th>1så†…å¯å¤„ç†çš„nçš„è§„æ¨¡</th></tr></thead><tbody><tr><td>O(n)</td><td>5*10^8</td></tr><tr><td>O(n*logn)</td><td>2*10^7</td></tr><tr><td>O(n^2)</td><td>2.25*10^4</td></tr></tbody></table></div>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>C++ ç±»æˆå‘˜å‡½æ•°ä¸å†…è”å‡½æ•°</title>
      <link href="/2022/05/10/cpp_class_mem_func_and_inline_func/"/>
      <url>/2022/05/10/cpp_class_mem_func_and_inline_func/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç±»å®šä¹‰çš„å†…è”å‡½æ•°åˆ†ä¸ºä»¥ä¸‹3ç§ï¼š</p><h2 id="1-éšå¼å†…è”"><a href="#1-éšå¼å†…è”" class="headerlink" title="1. éšå¼å†…è”"></a>1. éšå¼å†…è”</h2><p>ç±»é‡Œé¢å®šä¹‰çš„å‡½æ•°éšå¼å†…è”ï¼Œæœ‰åˆ©äºç±»å†…éƒ¨å®ç°ç»†èŠ‚çš„éšè—ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="keyword">const</span> <span class="built_in">string</span> &amp;name)</span><br><span class="line">&#123;</span><br><span class="line">Name = name;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span><span class="comment">//printName å®šä¹‰åœ¨ç±»é‡Œé¢æ˜¯éšå¼å†…è”å‡½æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; Name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> Name;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="2-åœ¨ç±»é‡Œé¢æ˜¾ç¤ºå£°æ˜ï¼Œåœ¨ç±»å¤–é¢å®šä¹‰"><a href="#2-åœ¨ç±»é‡Œé¢æ˜¾ç¤ºå£°æ˜ï¼Œåœ¨ç±»å¤–é¢å®šä¹‰" class="headerlink" title="2. åœ¨ç±»é‡Œé¢æ˜¾ç¤ºå£°æ˜ï¼Œåœ¨ç±»å¤–é¢å®šä¹‰"></a>2. åœ¨ç±»é‡Œé¢æ˜¾ç¤ºå£°æ˜ï¼Œåœ¨ç±»å¤–é¢å®šä¹‰</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="keyword">const</span> <span class="built_in">string</span> &amp;name)</span><br><span class="line">&#123;</span><br><span class="line">Name = name;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span></span>;<span class="comment">//æˆå‘˜è¢«å‡½æ•°å‰åŠ äº†inlineæ˜¯æ˜¾å¼å†…è”å‡½æ•°</span></span><br><span class="line"><span class="comment">//åœ¨ç±»é‡Œé¢æ˜¾å¼å£°æ˜</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> Name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">void</span> Person::printName()</span><br><span class="line">&#123;<span class="comment">//åœ¨ç±»å¤–é¢å®šä¹‰</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; Name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-â€œè¿½åŠ â€å†…è”"><a href="#3-â€œè¿½åŠ â€å†…è”" class="headerlink" title="3. â€œè¿½åŠ â€å†…è”"></a>3. â€œè¿½åŠ â€å†…è”</h2><p>è¡¨ç¤ºåœ¨ç±»é‡Œé¢æ²¡æœ‰æ˜¾å¼å£°æ˜ï¼Œåœ¨ç±»å¤–æ˜¾ç¤ºå®šä¹‰äº†å†…è”ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="keyword">const</span> <span class="built_in">string</span> &amp;name)</span><br><span class="line">&#123;</span><br><span class="line">Name = name;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//åœ¨ç±»é‡Œé¢æ²¡æœ‰æ˜¾å¼å£°æ˜</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> Name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span> Person::printName()<span class="comment">//æˆå‘˜è¢«å‡½æ•°å‰åŠ äº†inlineæ˜¯æ˜¾å¼å†…è”å‡½æ•°</span></span><br><span class="line">&#123;<span class="comment">//åœ¨ç±»å¤–é¢æ˜¾å¼å®šä¹‰</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; Name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-å¸¸è§çš„æˆå‘˜å‡½æ•°ä¸æ˜¯å†…è”å‡½æ•°"><a href="#4-å¸¸è§çš„æˆå‘˜å‡½æ•°ä¸æ˜¯å†…è”å‡½æ•°" class="headerlink" title="4. å¸¸è§çš„æˆå‘˜å‡½æ•°ä¸æ˜¯å†…è”å‡½æ•°"></a>4. å¸¸è§çš„æˆå‘˜å‡½æ•°ä¸æ˜¯å†…è”å‡½æ•°</h2><p>å®šä¹‰ä¸åœ¨ç±»é‡Œé¢ï¼Œä¸”å£°æ˜å’Œå®šä¹‰éƒ½æ²¡æœ‰<code>inline</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="keyword">const</span> <span class="built_in">string</span> &amp;name)</span><br><span class="line">&#123;</span><br><span class="line">Name = name;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printName</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//åœ¨ç±»é‡Œé¢æ²¡æœ‰æ˜¾å¼å£°æ˜</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> Name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">void</span> Person::printName()<span class="comment">//ä¸æ˜¯å†…è”å‡½æ•°</span></span><br><span class="line">&#123;<span class="comment">//åœ¨ç±»å¤–é¢ä¹Ÿæ²¡æœ‰æ˜¾å¼å®šä¹‰</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; Name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <strong>æ³¨ï¼šå†…è”å‡½æ•°ä»…ä»…æ˜¯å¯¹ç¼–è¯‘å™¨çš„å†…è”å»ºè®®ï¼Œç¼–è¯‘å™¨æ˜¯å¦è§‰å¾—é‡‡å–ä½ çš„å»ºè®®å–å†³äºå‡½æ•°æ˜¯å¦ç¬¦åˆå†…è”çš„æœ‰åˆ©æ¡ä»¶ã€‚å¦‚ä½•å‡½æ•°ä½“éå¸¸å¤§ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†å¿½ç•¥å‡½æ•°çš„å†…è”å£°æ˜ï¼Œè€Œå°†å†…è”å‡½æ•°ä½œä¸ºæ™®é€šå‡½æ•°å¤„ç†ã€‚</strong></p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="https://blog.csdn.net/qq_18343569/article/details/83755202" target="_blank" rel="noopener">C++ç±»é‡Œé¢çš„å“ªäº›æˆå‘˜å‡½æ•°æ˜¯å†…è”å‡½æ•°ï¼Ÿ</a></p><p><a href="https://www.cnblogs.com/qg-whz/p/4641479.html" target="_blank" rel="noopener">C++å†…è”å‡½æ•°</a></p><h2 id="ç›¸å…³æ–‡çŒ®"><a href="#ç›¸å…³æ–‡çŒ®" class="headerlink" title="ç›¸å…³æ–‡çŒ®"></a>ç›¸å…³æ–‡çŒ®</h2><p><a href="https://blog.csdn.net/Apollon_krj/article/details/82911180" target="_blank" rel="noopener">Cè¯­è¨€å®å®šä¹‰ã€å®å‡½æ•°ã€å†…ç½®å®ä¸å¸¸ç”¨å®</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å†…è”å‡½æ•° </tag>
            
            <tag> æˆå‘˜å‡½æ•° </tag>
            
            <tag> ç±» </tag>
            
            <tag> éšå¼å†…è” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°</title>
      <link href="/2022/05/09/cpp_func_with_variable_parameters/"/>
      <url>/2022/05/09/cpp_func_with_variable_parameters/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æœ‰æ—¶æˆ‘ä»¬æ— æ³•æå‰é¢„çŸ¥åº”è¯¥å‘å‡½æ•°ä¼ é€’å‡ ä¸ªå®å‚ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦ç¼–å†™ä»£ç è¾“å‡ºç¨‹åºäº§ç”Ÿçš„é”™è¯¯ä¿¡æ¯ï¼Œæ­¤æ—¶æœ€å¥½ç”¨åŒä¸€ä¸ªå‡½æ•°å®ç°è¯¥é¡¹åŠŸèƒ½ï¼Œä»¥ä¾¿å¯¹æ‰€æœ‰çš„é”™è¯¯å¤„ç†èƒ½å¤Ÿæ•´é½åˆ’ä¸€ã€‚ç„¶è€Œï¼Œé”™è¯¯ä¿¡æ¯çš„ç§ç±»ä¸åŒï¼Œæ‰€ä»¥è°ƒç”¨é”™è¯¯è¾“å‡ºå‡½æ•°æ—¶ä¼ é€’çš„å®å‚ä¹Ÿå„ä¸ç›¸åŒã€‚</p><p>ä¸ºäº†ç¼–å†™èƒ½å¤„ç†ä¸åŒæ•°é‡å®å‚çš„å‡½æ•°ï¼Œc++11æ–°æ ‡å‡†æä¾›äº†ä¸¤ç§ä¸»è¦çš„æ–¹æ³•ï¼šå¦‚æœæ‰€æœ‰çš„å®å‚ç±»å‹ç›¸åŒï¼Œå¯ä»¥ä¸€ä¸ªåä¸º<code>initializer_list</code>çš„æ ‡å‡†åº“ç±»å‹ï¼›å¦‚æœå®å‚çš„ç±»å‹ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å¯å˜å‚æ•°æ¨¡æ¿ã€‚</p><p>c++è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„å½¢å‚ç±»å‹ï¼ˆå³çœç•¥ç¬¦ï¼‰ï¼Œå¯ä»¥ç”¨å®ƒä¼ é€’å¯å˜æ•°é‡çš„å®å‚ï¼Œä¸è¿‡éœ€è¦æ³¨æ„ï¼Œæ­¤åŠŸèƒ½<strong>ä¸€èˆ¬åªç”¨äºä¸cå‡½æ•°äº¤äº’çš„æ¥å£ç¨‹åº</strong>ã€‚</p><a id="more"></a><h2 id="1-initializer-listå½¢å‚"><a href="#1-initializer-listå½¢å‚" class="headerlink" title="1. initializer_listå½¢å‚"></a>1. initializer_listå½¢å‚</h2><p>å¦‚æœå‡½æ•°çš„å®å‚æ•°é‡æœªçŸ¥ï¼Œä½†æ˜¯å®å‚ç±»å‹å‡ç›¸åŒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>initializer_list</code>ç±»å‹çš„å½¢å‚ã€‚<code>initializer_list</code>æ˜¯ä¸€ç§æ ‡å‡†åº“ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸç§ç‰¹å®šç±»å‹çš„å€¼çš„æ•°ç»„ã€‚<code>initializer_list</code>å®šä¹‰åœ¨åŒåçš„å¤´æ–‡ä»¶ä¸­ï¼Œå®ƒæä¾›çš„æ“ä½œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><code>initializer_list&lt;T&gt; lst;</code> â€”â€”&gt; é»˜è®¤åˆå§‹åŒ–ï¼ŒTç±»å‹å…ƒç´ çš„ç©ºåˆ—è¡¨ï¼›</p><p><code>initializer_list&lt;T&gt; lst{a, b, c...};</code> â€”â€”&gt; lståˆå§‹åŒ–ï¼Œlstçš„å…ƒç´ æ˜¯constï¼›</p><p><code>lst2(lst); lst2 = lst;</code> â€”â€”&gt; æ‹·è´åˆå§‹åŒ–æˆ–è€…èµ‹å€¼åˆå§‹åŒ–ï¼›</p><p><code>lst.size();</code> â€”â€”&gt; åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°é‡ï¼›</p><p><code>lst.begin();</code> â€”â€”&gt; åˆ—è¡¨é¦–å…ƒç´ æŒ‡é’ˆï¼›</p><p><code>lst.end();</code> â€”â€”&gt; åˆ—è¡¨å°¾åå…ƒç´ æŒ‡é’ˆï¼›</p><p>ç±»ä¼¼<code>vector</code>ï¼Œ<code>initializer_list</code>ä¹Ÿæ˜¯ä¸€ç§æ¨¡æ¿ç±»å‹ï¼Œå®šä¹‰<code>initializer_list</code>æ—¶ï¼Œå¿…é¡»è¯´æ˜åˆ—è¡¨ä¸­æ‰€å«å…ƒç´ çš„ç±»å‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">initializer_list</span>&lt;<span class="built_in">string</span>&gt; ls;   <span class="comment">// initializer_listçš„å…ƒç´ ç±»å‹æ˜¯string</span></span><br><span class="line"><span class="built_in">initializer_list</span>&lt;<span class="keyword">int</span>&gt; li;      <span class="comment">// initializer_listçš„å…ƒç´ ç±»å‹æ˜¯int</span></span><br></pre></td></tr></table></figure><p>ä¸<code>vector</code>ä¸åŒçš„æ˜¯ï¼Œ<code>initializer_list</code>æ›´åŠ è½»é‡ï¼Œä¸”<code>initializer_list</code>å¯¹è±¡ä¸­çš„å…ƒç´ å‡ä¸ºå¸¸é‡ï¼Œä¸å¯æ›´æ”¹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">error_msg</span><span class="params">(<span class="built_in">initializer_list</span>&lt;<span class="built_in">string</span>&gt; ls)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> it = ls.<span class="built_in">begin</span>(); it != ls.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">error_msg(&#123;<span class="string">"functionX"</span>, <span class="string">"expected"</span>, <span class="string">"actual"</span>&#125;);    <span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="comment">// output: functionX expected actual</span></span><br></pre></td></tr></table></figure><h2 id="2-å¯å˜å‚æ•°æ¨¡æ¿"><a href="#2-å¯å˜å‚æ•°æ¨¡æ¿" class="headerlink" title="2. å¯å˜å‚æ•°æ¨¡æ¿"></a>2. å¯å˜å‚æ•°æ¨¡æ¿</h2><p>å¾…å†™ã€‚</p><h2 id="3-çœç•¥ç¬¦å½¢å‚"><a href="#3-çœç•¥ç¬¦å½¢å‚" class="headerlink" title="3. çœç•¥ç¬¦å½¢å‚"></a>3. çœç•¥ç¬¦å½¢å‚</h2><p>çœç•¥ç¬¦å½¢å‚æ˜¯ä¸ºäº†ä¾¿äºc++ç¨‹åºè®¿é—®æŸäº›ç‰¹æ®Šçš„cä»£ç è€Œè®¾ç½®çš„ï¼Œè¿™äº›ä»£ç ä½¿ç”¨äº†åä¸º<code>varargs</code>çš„cæ ‡å‡†åº“åŠŸèƒ½ã€‚</p><p><strong>æ³¨ï¼šçœç•¥ç¬¦å½¢å‚åº”è¯¥ä»…ä»…ç”¨äºcå’Œc++é€šç”¨çš„ç±»å‹ã€‚ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¤§å¤šæ•°ç±»ç±»å‹çš„å¯¹è±¡åœ¨ä¼ é€’ç»™çœç•¥ç¬¦å½¢å‚æ—¶éƒ½æ— æ³•æ­£ç¡®æ‹·è´ã€‚</strong></p><p>ç¤ºä¾‹ç¨‹åºå¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> count, ...)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (count &lt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸ºäº†å®ç°å¯å˜å‚æ•°åˆ—è¡¨ï¼Œé¦–å…ˆéœ€è¦å£°æ˜ä¸€ä¸ªva_listç±»å‹çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">// va_listç±»å‹æ˜¯åœ¨cstdargå¤´æ–‡ä»¶é‡Œé¢å®šä¹‰çš„ï¼Œè¯¥æŒ‡é’ˆç”¨æ¥ä¾æ¬¡</span></span><br><span class="line">    <span class="comment">//æŒ‡å‘å„ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="comment">// va_startæ˜¯ä¸€ä¸ªå®ï¼Œç”¨æ¥åˆå§‹åŒ–arg_ptrï¼Œä½¿å…¶æŒ‡å‘åˆ—è¡¨çš„ç¬¬ä¸€ä¸ª</span></span><br><span class="line">    <span class="comment">//å‚æ•°ï¼Œè¿™ä¸ªå®çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯sumå‡½æ•°å‚æ•°åˆ—è¡¨çœç•¥å·å‰å¾—å›ºå®šå‚</span></span><br><span class="line">    <span class="comment">//æ•°çš„åç§°ï¼Œç”¨æ¥ç¡®å®šç¬¬ä¸€ä¸ªå‚æ•°çš„ä½ç½®</span></span><br><span class="line">    va_list arg_ptr;</span><br><span class="line">    va_start(arg_ptr, count);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> CountSum = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// va_argæ˜¯ä¸€ä¸ªå®ï¼Œè¿”å›arg_ptræŒ‡å‘çš„</span></span><br><span class="line">    <span class="comment">//å‚æ•°ä½ç½®ï¼Œå¹¶ä½¿arg_ptré€’å¢æ¥æŒ‡å‘ä¸‹ä¸€ä¸ªå‚æ•°å€¼</span></span><br><span class="line">    <span class="comment">// va_argå®çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯éœ€è¦ç»Ÿè®¡çš„ç¬¬</span></span><br><span class="line">    <span class="comment">//ä¸€ä¸ªå‚æ•°çš„ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸æ­£ç¡®ï¼Œ</span></span><br><span class="line">    <span class="comment">//ç¨‹åºä¹Ÿå¯èƒ½ä¼šæ‰§è¡Œï¼Œä½†å¾—åˆ°çš„æ˜¯æ— ç”¨çš„</span></span><br><span class="line">    <span class="comment">//æ•°æ®ï¼Œarg_ptrå°†è¢«é”™è¯¯åœ°é€’å¢</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        CountSum += va_arg(arg_ptr, <span class="keyword">int</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å°†va_listç±»å‹çš„æŒ‡é’ˆå¤ä½æˆç©ºå€¼</span></span><br><span class="line">    <span class="comment">//å°±æ˜¯æ¸…ç©ºå¯å˜å‚æ•°åˆ—è¡¨</span></span><br><span class="line">    va_end(arg_ptr);</span><br><span class="line">    <span class="keyword">return</span> CountSum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sum1(<span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);     <span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="comment">// output: 15</span></span><br></pre></td></tr></table></figure><ul><li><code>valist</code> å®šä¹‰åœ¨cstdargï¼Œstdarg.hå¤´æ–‡ä»¶ä¸­ï¼Œç”¨æ¥å­˜å‚¨å®å‚åˆ—è¡¨ï¼›</li><li><code>va_start(arg_ptr, count);</code> ç”¨æ¥è®¾ç½®é¦–ä¸ªå®å‚ï¼Œè¡¨ç¤ºå–å‚æ•°çš„æ—¶å€™ä»countçš„ä¸‹ä¸€ä¸ªå‚æ•°å¼€å§‹ï¼ˆä¸åŒ…æ‹¬countï¼‰ï¼Œå› æ­¤ï¼Œä¸Šä¾‹ä¸­ç¬¬ä¸€ä¸ªå®å‚è¡¨ç¤ºåé¢å®å‚çš„ä¸ªæ•°ï¼›</li><li><code>va_arg(arg_ptr, int);</code> ç”¨æ¥è·å–å®å‚åˆ—è¡¨ä¸­çš„å®å‚ï¼Œ<code>int</code> æ˜¯å®å‚çš„ç±»å‹ã€‚å®ƒä»é¦–ä¸ªå®å‚ä¾æ¬¡è·å–ï¼Œå°†è·å–åˆ°çš„ç»“æœä½œä¸ºè¿”å›å€¼è¿”å›ï¼›</li><li><code>va_end(arg_ptr);</code> è¡¨ç¤ºç”¨å®Œarg_ptrï¼Œé‡Šæ”¾å†…å­˜ï¼›</li></ul><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>ã€ŠPrimer c++ã€‹ç¬¬5ç‰ˆ page 197;</p><p><a href="https://blog.csdn.net/C1550153993/article/details/91625615" target="_blank" rel="noopener">c++ å«æœ‰å¯å˜å½¢å‚çš„å‡½æ•°</a></p><p><a href="https://zhuanlan.zhihu.com/p/369181555" target="_blank" rel="noopener">c++ å¯å˜å‚æ•°è¯¦è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯å˜å½¢å‚ </tag>
            
            <tag> initializer_list </tag>
            
            <tag> çœç•¥ç¬¦å½¢å‚ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ mainå‡½æ•°å¤„ç†å‘½ä»¤è¡Œé€‰é¡¹</title>
      <link href="/2022/05/07/cpp_main_function_parameters/"/>
      <url>/2022/05/07/cpp_main_function_parameters/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å®šä¹‰çš„mainå‡½æ•°éƒ½åªæœ‰ç©ºçš„å½¢å‚åˆ—è¡¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><p>ç„¶è€Œï¼Œæœ‰æ—¶æˆ‘ä»¬ç¡®å®éœ€è¦ç»™mainå‡½æ•°ä¼ é€’å®å‚ï¼Œä¸€ç§å¸¸è§çš„æƒ…å†µå°±æ˜¯ç”¨æˆ·éœ€è¦è®¾ç½®ä¸€ç»„é€‰é¡¹æ¥ç¡®å®šå‡½æ•°æ‰€è¦æ‰§è¡Œçš„æ“ä½œã€‚æ­¤æ—¶ï¼Œmainå‡½æ•°å®šä¹‰ä¸ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argc[])</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>å…¶ä¸­ç¬¬äºŒä¸ªå½¢å‚argcæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„å…ƒç´ æ˜¯æŒ‡å‘Cé£æ ¼å­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼›ç¬¬ä¸€ä¸ªå½¢å‚argcè¡¨ç¤ºæ•°ç»„ä¸­å­—ç¬¦ä¸²çš„æ•°é‡ã€‚å› ä¸ºç¬¬äºŒä¸ªå½¢å‚æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥mainå‡½æ•°ä¹Ÿå¯ä»¥å®šä¹‰ä¸ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­argvæŒ‡å‘char*ã€‚</p><p>å½“å®å‚ä¼ ç»™mainå‡½æ•°ä¹‹åï¼Œargvçš„ç¬¬ä¸€ä¸ªå…ƒç´ æŒ‡å‘<strong>ç¨‹åºçš„åå­—æˆ–è€…ä¸€ä¸ªç©ºå­—ç¬¦ä¸²</strong>ï¼Œæ¥ä¸‹æ¥çš„å…ƒç´ ä¾æ¬¡ä¼ é€’å‘½ä»¤è¡Œæä¾›çš„å®å‚ã€‚</p><p>ç¼–å†™ä¸€ä¸ªç®€å•çš„æµ‹è¯•ç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(argc-- &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"argc = %d, argv[%d] = %s\n"</span>, argc, argc, argv[argc]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨cmdä¸­è¿è¡Œç”Ÿæˆçš„æµ‹è¯•ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PS D:\xxx&gt; .&#x2F;mainfunpara.exe</span><br><span class="line">argc &#x3D; 0, argv[0] &#x3D; D:\xxx\mainfunpara.exe</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PS D:\xxx&gt; .&#x2F;mainfunpara.exe æˆ‘ ä½  ä»–</span><br><span class="line">argc &#x3D; 3, argv[3] &#x3D; ä»–</span><br><span class="line">argc &#x3D; 2, argv[2] &#x3D; ä½ </span><br><span class="line">argc &#x3D; 1, argv[1] &#x3D; æˆ‘</span><br><span class="line">argc &#x3D; 0, argv[0] &#x3D; D:\xxx\mainfunpara.exe</span><br></pre></td></tr></table></figure><p>argcçš„å®å‚æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å‡ä¸ºç¨‹åºçš„åå­—ï¼Œåç»­çš„å­—ç¬¦ä¸²ä¸ºä¼ å…¥mainå‡½æ•°çš„å­—ç¬¦ä¸²ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å‘mainå‡½æ•°ä¼ å…¥å­—ç¬¦ä¸²ï¼Œåˆ™argcä¸º0ã€‚</p><h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p>ã€ŠPrimer c++ã€‹ç¬¬5ç‰ˆ page196</p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡½æ•° </tag>
            
            <tag> å‚æ•°ä¼ é€’ </tag>
            
            <tag> mainå½¢å‚ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ é™æ€åº“å’ŒåŠ¨æ€åº“</title>
      <link href="/2022/03/18/Static_and_dynamic_libraries/"/>
      <url>/2022/03/18/Static_and_dynamic_libraries/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯åº“ï¼Ÿ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯åº“ï¼Ÿ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯åº“ï¼Ÿ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯åº“ï¼Ÿ</h2><p>åœ¨windowså¹³å°å’Œlinuxå¹³å°ä¸‹éƒ½å¤§é‡å­˜åœ¨ç€åº“ã€‚ä¸€èˆ¬æ˜¯è½¯ä»¶ä½œè€…ä¸ºäº†å‘å¸ƒæ–¹ä¾¿ã€æ›¿æ¢æ–¹ä¾¿æˆ–äºŒæ¬¡å¼€å‘ç›®çš„ï¼Œè€Œå‘å¸ƒçš„ä¸€ç»„å¯ä»¥å•ç‹¬ä¸åº”ç”¨ç¨‹åºè¿›è¡Œcompile timeæˆ–runtimeé“¾æ¥çš„äºŒè¿›åˆ¶å¯é‡å®šä½ç›®æ ‡ç æ–‡ä»¶ã€‚</p><p>æœ¬è´¨ä¸Šæ¥è¯´åº“æ˜¯ä¸€ç§å¯æ‰§è¡Œä»£ç çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç”±ç¼–è¯‘å™¨ç›´æ¥é“¾æ¥åˆ°å¯æ‰§è¡Œç¨‹åºä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶ç”±æ“ä½œç³»ç»Ÿçš„runtime enviromentæ ¹æ®éœ€è¦åŠ¨æ€åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p><p>ä¸€ç»„åº“ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªå‘å¸ƒåŒ…ï¼Œå½“ç„¶ï¼Œå…·ä½“å‘å¸ƒå¤šå°‘ä¸ªåº“ï¼Œå®Œå…¨ç”±åº“æä¾›å•†è‡ªå·±å†³å®šã€‚</p><p>ç”±äºwindowså’Œlinuxçš„æœ¬è´¨ä¸åŒï¼Œå› æ­¤äºŒè€…åº“çš„äºŒè¿›åˆ¶æ˜¯ä¸å…¼å®¹çš„ã€‚</p><p>ç°å®ä¸­æ¯ä¸ªç¨‹åºéƒ½è¦ä¾èµ–å¾ˆå¤šåŸºç¡€çš„åº•å±‚åº“ï¼Œä¸å¯èƒ½æ¯ä¸ªäººçš„ä»£ç éƒ½ä»é›¶å¼€å§‹ï¼Œå› æ­¤åº“çš„å­˜åœ¨æ„ä¹‰éåŒå¯»å¸¸ã€‚</p><p>å…±äº«åº“çš„å¥½å¤„æ˜¯ï¼Œä¸åŒçš„åº”ç”¨ç¨‹åºå¦‚æœè°ƒç”¨ç›¸åŒçš„åº“ï¼Œé‚£ä¹ˆåœ¨å†…å­˜é‡Œåªéœ€è¦æœ‰ä¸€ä»½è¯¥å…±äº«åº“çš„å®ä¾‹ã€‚</p><a id="more"></a><h2 id="äºŒã€åº“çš„åˆ†ç±»"><a href="#äºŒã€åº“çš„åˆ†ç±»" class="headerlink" title="äºŒã€åº“çš„åˆ†ç±»"></a>äºŒã€åº“çš„åˆ†ç±»</h2><p>åº“æœ‰ä¸¤ç§ï¼šé™æ€åº“å’ŒåŠ¨æ€åº“ï¼ˆå…±äº«åº“ï¼‰ã€‚</p><p>windowså¹³å°ä¸‹ï¼Œé™æ€åº“é€šå¸¸åç¼€ä¸º .libï¼ŒåŠ¨æ€åº“ä¸º .dllï¼›</p><p>linuxå¹³å°ä¸‹ï¼Œé™æ€åº“é€šå¸¸åç¼€ä¸º .aï¼ŒåŠ¨æ€åº“ä¸º .soï¼›</p><p>ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œç”±åŒä¸€æ®µç¨‹åºç¼–è¯‘å‡ºæ¥çš„é™æ€åº“å’ŒåŠ¨æ€åº“ï¼Œåœ¨åŠŸèƒ½ä¸Šæ˜¯æ²¡æœ‰åŒºåˆ«çš„ã€‚ä¸åŒä¹‹å¤„ä»…ä»…åœ¨äºå…¶åå­—ä¸Šï¼Œä¹Ÿå°±æ˜¯â€œé™æ€â€å’Œâ€œåŠ¨æ€â€ã€‚</p><p>äºŒè€…å‡ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¯æ‰§è¡Œä»£ç çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œå¯ä»¥è¢«è½½å…¥å†…å­˜ä¸­æ‰§è¡Œã€‚æ— è®ºæ˜¯åŠ¨æ€é“¾æ¥åº“è¿˜æ˜¯é™æ€é“¾æ¥åº“ï¼Œå®ƒä»¬æ— éæ˜¯å‘å…¶è°ƒç”¨è€…æä¾›å˜é‡ã€å‡½æ•°å’Œç±»ã€‚</p><h3 id="1-é™æ€åº“"><a href="#1-é™æ€åº“" class="headerlink" title="1.é™æ€åº“"></a>1.é™æ€åº“</h3><p>æ‰€è°“é™æ€åº“ï¼Œå°±æ˜¯åœ¨é™æ€ç¼–è¯‘æ—¶ç”±ç¼–è¯‘å™¨åˆ°æŒ‡å®šç›®å½•å¯»æ‰¾å¹¶ä¸”è¿›è¡Œé“¾æ¥ï¼Œä¸€æ—¦é“¾æ¥å®Œæˆï¼Œæœ€ç»ˆçš„å¯æ‰§è¡Œç¨‹åºä¸­å°±åŒ…å«äº†è¯¥åº“æ–‡ä»¶ä¸­çš„æ‰€æœ‰æœ‰ç”¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä»£ç æ®µã€æ•°æ®æ®µç­‰ã€‚</p><h3 id="2-åŠ¨æ€åº“"><a href="#2-åŠ¨æ€åº“" class="headerlink" title="2.åŠ¨æ€åº“"></a>2.åŠ¨æ€åº“</h3><p>æ‰€è°“åŠ¨æ€åº“ï¼Œå°±æ˜¯åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œç”±æ“ä½œç³»ç»Ÿæ ¹æ®åº”ç”¨ç¨‹åºçš„è¯·æ±‚ï¼ŒåŠ¨æ€åˆ°æŒ‡å®šç›®å½•ä¸‹å¯»æ‰¾å¹¶è£…è½½å…¥å†…å­˜ä¸­ï¼ŒåŒæ—¶éœ€è¦è¿›è¡Œåœ°å€é‡å®šå‘ã€‚</p><h3 id="3-åŒºåˆ«"><a href="#3-åŒºåˆ«" class="headerlink" title="3.åŒºåˆ«"></a>3.åŒºåˆ«</h3><p>æˆ‘ä»¬ä»¥ç¼–è¯‘é“¾æ¥ã€è½½å…¥æ—¶åˆ»ä¸¤ç‚¹æ¥è®¨è®ºé™æ€åº“å’ŒåŠ¨æ€åº“çš„åŒºåˆ«ã€‚</p><p><strong>ç¼–è¯‘é“¾æ¥ï¼š</strong></p><p>é™æ€é“¾æ¥åº“åœ¨ç¨‹åºç¼–è¯‘æ—¶ä¼šè¢«é“¾æ¥åˆ°ç›®æ ‡ä»£ç ä¸­ï¼Œç›®æ ‡ç¨‹åºè¿è¡Œæ—¶å°†ä¸å†éœ€è¦æ”¹åŠ¨åº“ï¼Œç§»æ¤æ–¹ä¾¿ï¼Œä½“ç§¯è¾ƒå¤§ï¼Œæµªè´¹ç©ºé—´å’Œèµ„æºï¼Œå› ä¸ºæ‰€æœ‰ç›¸å…³çš„å¯¹è±¡æ–‡ä»¶ä¸ç‰µæ¶‰åˆ°åº“éƒ½è¢«é“¾æ¥åˆæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™æ ·å¯¼è‡´å¯æ‰§è¡Œæ–‡ä»¶çš„ä½“ç§¯è¾ƒå¤§ã€‚</p><p>åŠ¨æ€åº“åœ¨ç¨‹åºç¼–è¯‘æ—¶å¹¶ä¸ä¼šè¢«é“¾æ¥åˆ°ç›®æ ‡ä»£ç ä¸­ï¼Œè€Œæ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶æ‰è¢«è½½å…¥ï¼Œå› ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ä½“ç§¯è¾ƒå°ã€‚æœ‰äº†åŠ¨æ€åº“ï¼Œç¨‹åºçš„å‡çº§ä¼šç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œæ¯”å¦‚æŸä¸ªåŠ¨æ€åº“å‡çº§äº†ï¼Œåªéœ€è¦æ›´æ¢è¿™ä¸ªåŠ¨æ€åº“çš„æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦å»æ›´æ¢å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œå¯æ‰§è¡Œç¨‹åºåœ¨è¿è¡Œæ—¶éœ€è¦èƒ½æ‰¾åˆ°åŠ¨æ€åº“æ–‡ä»¶ã€‚å¯æ‰§è¡Œæ–‡ä»¶æ˜¯åŠ¨æ€åº“çš„è°ƒç”¨è€…ã€‚</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/é™æ€åº“å’ŒåŠ¨æ€åº“.png" alt=""></p><p><strong>è½½å…¥æ—¶åˆ»</strong></p><p>äºŒè€…çš„ä¸åŒç‚¹åœ¨äºä»£ç è¢«è½½å…¥çš„æ—¶åˆ»ä¸åŒã€‚é™æ€åº“çš„ä»£ç åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å·²ç»è¢«è½½å…¥å¯æ‰§è¡Œç¨‹åºï¼Œå› æ­¤ä½“ç§¯è¾ƒå¤§ã€‚å…±äº«åº“çš„ä»£ç æ˜¯åœ¨å¯æ‰§è¡Œç¨‹åºè¿è¡Œæ—¶æ‰è½½å…¥å†…å­˜çš„ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä»…ç®€å•çš„å¼•ç”¨ï¼Œå› æ­¤ä»£ç ä½“ç§¯è¾ƒå°ã€‚</p><h3 id="4-ä¼˜ç¼ºç‚¹"><a href="#4-ä¼˜ç¼ºç‚¹" class="headerlink" title="4.ä¼˜ç¼ºç‚¹"></a>4.ä¼˜ç¼ºç‚¹</h3><p>ç›¸å¯¹äºåŠ¨æ€åº“ï¼Œé™æ€åº“çš„ä¼˜ç‚¹åœ¨äºç›´æ¥è¢«é“¾æ¥è¿›å¯æ‰§è¡Œç¨‹åºä¸­ï¼Œä¹‹åï¼Œè¯¥å¯æ‰§è¡Œç¨‹åºå°±ä¸å†ä¾èµ–äºè¿è¡Œç¯å¢ƒçš„è®¾ç½®äº†(å½“ç„¶ä»ç„¶ä¼šä¾èµ–äº CPUæŒ‡ä»¤é›†å’Œæ“ä½œç³»ç»Ÿæ”¯æŒçš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ç­‰ç¡¬æ€§é™åˆ¶)ã€‚</p><p>è€ŒåŠ¨æ€åº“çš„ä¼˜ç‚¹åœ¨äºï¼Œç”¨æˆ·ç”šè‡³å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶éšæ—¶æ›¿æ¢è¯¥åŠ¨æ€åº“ï¼Œè¿™å°±æ„æˆäº†åŠ¨æ€æ’ä»¶ç³»ç»Ÿçš„åŸºç¡€ã€‚å…·ä½“ä½¿ç”¨é™æ€åº“å’ŒåŠ¨æ€åº“ï¼Œç”±ç¨‹åºå‘˜æ ¹æ®éœ€è¦è‡ªå·±å†³å®šã€‚</p><h2 id="ä¸‰ã€åº“æ–‡ä»¶çš„åˆ¶ä½œ"><a href="#ä¸‰ã€åº“æ–‡ä»¶çš„åˆ¶ä½œ" class="headerlink" title="ä¸‰ã€åº“æ–‡ä»¶çš„åˆ¶ä½œ"></a>ä¸‰ã€åº“æ–‡ä»¶çš„åˆ¶ä½œ</h2><h3 id="1-åº“æ–‡ä»¶çš„å‘½å"><a href="#1-åº“æ–‡ä»¶çš„å‘½å" class="headerlink" title="1.åº“æ–‡ä»¶çš„å‘½å"></a>1.åº“æ–‡ä»¶çš„å‘½å</h3><p>é™æ€åº“çš„åå­—ä¸€èˆ¬ä¸ºlibxxxx.aï¼Œå…¶ä¸­xxxxæ˜¯è¯¥libçš„åç§°ã€‚åŠ¨æ€åº“çš„åå­—ä¸€èˆ¬ä¸ºlibxxxx.so.x.y.zï¼Œå«ä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><strong>libname.so.x.y.z</strong></p><div class="table-container"><table><thead><tr><th>lib</th><th>name</th><th>.so</th><th>.x</th><th>.y</th><th>.z</th></tr></thead><tbody><tr><td>å›ºå®šä»£è¡¨å…±äº«åº“</td><td>å…±äº«åº“åç§°</td><td>å›ºå®šåç¼€</td><td>ä¸»ç‰ˆæœ¬å·</td><td>æ¬¡ç‰ˆæœ¬å·</td><td>å‘è¡Œç‰ˆæœ¬å·</td></tr></tbody></table></div><h3 id="2-åˆ¶ä½œåº“æ–‡ä»¶å¸¸ç”¨å‚æ•°"><a href="#2-åˆ¶ä½œåº“æ–‡ä»¶å¸¸ç”¨å‚æ•°" class="headerlink" title="2.åˆ¶ä½œåº“æ–‡ä»¶å¸¸ç”¨å‚æ•°"></a>2.åˆ¶ä½œåº“æ–‡ä»¶å¸¸ç”¨å‚æ•°</h3><p>é¦–å…ˆéœ€è¦äº†è§£gccç¼–è¯‘åº“è¦ç”¨åˆ°ä¸€äº›å‚æ•°ï¼Œå¾ˆé‡è¦ã€‚</p><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-shared</td><td>æŒ‡å®šç”ŸæˆåŠ¨æ€é“¾æ¥åº“</td></tr><tr><td>-static</td><td>æŒ‡å®šç”Ÿæˆé™æ€é“¾æ¥åº“</td></tr><tr><td>-fPIC</td><td>è¡¨ç¤ºç¼–è¯‘ä¸ºä½ç½®ç‹¬ç«‹çš„ä»£ç ï¼Œç”¨äºç¼–è¯‘å…±äº«åº“ã€‚ç›®æ ‡æ–‡ä»¶éœ€è¦åˆ›å»ºæˆä½ç½®æ— å…³ç ï¼Œæ¦‚å¿µä¸Šå°±æ˜¯åœ¨å¯æ‰§è¡Œç¨‹åºè£…è½½å®ƒä»¬çš„æ—¶å€™ï¼Œå®ƒä»¬å¯ä»¥æ”¾åœ¨å¯æ‰§è¡Œç¨‹åºå†…å­˜çš„ä»»ä½•åœ°æ–¹</td></tr><tr><td>-L</td><td>è¡¨ç¤ºè¦é“¾æ¥çš„åº“åœ¨å½“å‰ç›®å½•ä¸­</td></tr><tr><td>-I</td><td>æŒ‡å®šéœ€è¦è¿æ¥çš„åŠ¨æ€åº“ã€‚ç¼–è¯‘å™¨æŸ¥æ‰¾åŠ¨æ€é“¾æ¥åº“æ—¶æœ‰éšå«çš„å‘½åè§„åˆ™ï¼Œå³åœ¨ç»™å‡ºçš„åå­—å‰é¢åŠ ä¸Šlibï¼Œåé¢åŠ ä¸Š.soæ¥ç¡®å®šåº“çš„åç§°</td></tr><tr><td>-Wall</td><td>ç”Ÿæˆæ‰€æœ‰è­¦å‘Šä¿¡æ¯</td></tr><tr><td>-ggdb</td><td>å°½å¯èƒ½çš„ç”Ÿæˆgdbå¯ç”¨çš„è°ƒè¯•ä¿¡æ¯</td></tr><tr><td>-g</td><td>ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶äº§ç”Ÿè°ƒè¯•ä¿¡æ¯</td></tr><tr><td>-c</td><td>åªäº§ç”Ÿä¸å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–ä¹‹åçš„ä»£ç ï¼Œä¸é“¾æ¥ï¼Œç»“æœä¸º.oæ–‡ä»¶</td></tr></tbody></table></div><h3 id="3-åº“æºæ–‡ä»¶"><a href="#3-åº“æºæ–‡ä»¶" class="headerlink" title="3.åº“æºæ–‡ä»¶"></a>3.åº“æºæ–‡ä»¶</h3><p>ç¼–å†™calc.cæ–‡ä»¶ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>calc.hæ–‡ä»¶ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="4-åˆ¶ä½œé™æ€åº“å¹¶ä½¿ç”¨"><a href="#4-åˆ¶ä½œé™æ€åº“å¹¶ä½¿ç”¨" class="headerlink" title="4.åˆ¶ä½œé™æ€åº“å¹¶ä½¿ç”¨"></a>4.åˆ¶ä½œé™æ€åº“å¹¶ä½¿ç”¨</h3><p>(1) éœ€è¦æŠŠcalc.cç¼–è¯‘æˆ.oæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -c calc.c</span><br></pre></td></tr></table></figure><p>(2) ä½¿ç”¨ ar å‘½ä»¤ç”Ÿæˆé™æ€åº“ libcalc.a</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ar -rc libcalc.a calc.o</span><br></pre></td></tr></table></figure><p>(3) ä½¿ç”¨é™æ€åº“libcalc.aï¼Œåªéœ€è¦åŒ…å« calc.h å°±å¯ä»¥ä½¿ç”¨å‡½æ•° add() å’Œ sub()</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"calc.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"add(5, 4) is %d\n"</span>, add(<span class="number">5</span>, <span class="number">4</span>));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sub(5, 4) is %d\n"</span>, sub(<span class="number">5</span>, <span class="number">4</span>));</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™æ€åº“æ–‡ä»¶å¯ä»¥æ”¾åœ¨ä»»æ„çš„ä½ç½®ï¼Œç¼–è¯‘æ—¶åªéœ€è¦æ‰¾åˆ°è¯¥æ–‡ä»¶å³å¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc main.c -o main libcalc.a</span><br></pre></td></tr></table></figure><p>(4) åº“å’Œå¤´æ–‡ä»¶å¦‚æœåœ¨å…¶ä»–ç›®å½•ä¸‹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc -c -l &#x2F;home&#x2F;xxxx&#x2F;include test.c    &#x2F;&#x2F;å‡è®¾test.cè¦ä½¿ç”¨å¯¹åº”çš„é™æ€åº“</span><br><span class="line">gcc -o test -L &#x2F;home&#x2F;xxxxx&#x2F;lib test.o libcalc.a</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -c -I &#x2F;home&#x2F;xxxx&#x2F;include -L &#x2F;home&#x2F;xxxxx&#x2F;lib libcalc.a test.c</span><br></pre></td></tr></table></figure><p>1). é€šè¿‡-I(æ˜¯å¤§i)æŒ‡å®šå¯¹åº”çš„å¤´æ–‡ä»¶</p><p>2). é€šè¿‡-Låˆ¶å®šåº“æ–‡ä»¶çš„è·¯å¾„,libcalc.aå°±æ˜¯è¦ç”¨çš„é™æ€åº“ã€‚</p><p>3). åœ¨test.cä¸­è¦åŒ…å«é™æ€åº“çš„å¤´æ–‡ä»¶ã€‚</p><h3 id="5-åˆ¶ä½œåŠ¨æ€åº“å¹¶ä½¿ç”¨"><a href="#5-åˆ¶ä½œåŠ¨æ€åº“å¹¶ä½¿ç”¨" class="headerlink" title="5.åˆ¶ä½œåŠ¨æ€åº“å¹¶ä½¿ç”¨"></a>5.åˆ¶ä½œåŠ¨æ€åº“å¹¶ä½¿ç”¨</h3><p>(1) æŠŠ calc.c ç¼–è¯‘æˆåŠ¨æ€é“¾æ¥åº“ libcalc.so</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc -fPIC -o libcalc.o -c calc.c</span><br><span class="line">gcc -shared -o libcalc.so libcalc.o</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€æ¡å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -fPIC -shared -o libcalc.so calc.c</span><br></pre></td></tr></table></figure><p>(2) åŠ¨æ€åº“çš„å®‰è£…ï¼Œé€šå¸¸åŠ¨æ€åº“æ‹·è´åˆ° /lib ä¸‹å³å¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp libcalc.so &#x2F;lib</span><br></pre></td></tr></table></figure><p>(3) ä½¿ç”¨åŠ¨æ€åº“</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"calc.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"add(5, 4) is %d\n"</span>, add(<span class="number">5</span>, <span class="number">4</span>));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sub(5, 4) is %d\n"</span>, sub(<span class="number">5</span>, <span class="number">4</span>));</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘åŠ¨æ€åº“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc main.c -o main -lcalc</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘æ—¶åŠ¨æ€åº“çš„åå­—ä¸åº“æ–‡ä»¶å¯¹åº”å…³ç³»</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libcalc.so ---------- -lcalc</span><br></pre></td></tr></table></figure><p>å»æ‰ .soï¼Œlibç®€åŒ–æˆlï¼Œå…¶ä»–å­—æ¯ä¿ç•™ã€‚</p><h2 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h2><p><a href="https://zhuanlan.zhihu.com/p/270640487" target="_blank" rel="noopener">Linux ä¸‹çš„é™æ€åº“å’ŒåŠ¨æ€åº“</a></p><p><a href="https://colobu.com/2018/08/28/15-Most-Frequently-Used-GCC-Compiler-Command-Line-Options/#%E4%BD%BF%E7%94%A8-l%E5%8F%82%E6%95%B0%E9%93%BE%E6%8E%A5%E5%85%B1%E4%BA%AB%E5%BA%93" target="_blank" rel="noopener">å¸¸ç”¨çš„GCCç¼–è¯‘å™¨å‚æ•°</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Windows </tag>
            
            <tag> é™æ€åº“ </tag>
            
            <tag> åŠ¨æ€åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦</title>
      <link href="/2022/01/10/cpp_constructor_and_assign/"/>
      <url>/2022/01/10/cpp_constructor_and_assign/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å­¦ä¹ ç¬”è®°</p><p><a href="https://www.cnblogs.com/wangguchangqing/p/6141743.html" target="_blank" rel="noopener">https://www.cnblogs.com/wangguchangqing/p/6141743.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ„é€ å‡½æ•° </tag>
            
            <tag> èµ‹å€¼è¿ç®—ç¬¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ 11 =default å’Œ =delete</title>
      <link href="/2022/01/10/cpp11_default_and_delete/"/>
      <url>/2022/01/10/cpp11_default_and_delete/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å­¦ä¹ ç¬”è®°</p><p><a href="https://www.cnblogs.com/Braveliu/p/12247471.html" target="_blank" rel="noopener">https://www.cnblogs.com/Braveliu/p/12247471.html</a></p><p><a href="https://www.cnblogs.com/lsgxeva/p/7787438.html" target="_blank" rel="noopener">https://www.cnblogs.com/lsgxeva/p/7787438.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ„é€ å‡½æ•° </tag>
            
            <tag> èµ‹å€¼è¿ç®—ç¬¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶</title>
      <link href="/2021/12/05/Semantic_version_control/"/>
      <url>/2021/12/05/Semantic_version_control/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æ–‡ç« è½¬è½½è‡ªï¼š<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener">https://semver.org/lang/zh-CN/</a></p><h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>ç‰ˆæœ¬æ ¼å¼ï¼šä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼Œç‰ˆæœ¬å·é€’å¢è§„åˆ™å¦‚ä¸‹ï¼š</p><ol><li>ä¸»ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†ä¸å…¼å®¹çš„ API ä¿®æ”¹ï¼Œ</li><li>æ¬¡ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ï¼Œ</li><li>ä¿®è®¢å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ã€‚</li></ol><p>å…ˆè¡Œç‰ˆæœ¬å·åŠç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ä»¥åŠ åˆ°â€œä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·â€çš„åé¢ï¼Œä½œä¸ºå»¶ä¼¸ã€‚</p><a id="more"></a><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>åœ¨è½¯ä»¶ç®¡ç†çš„é¢†åŸŸé‡Œå­˜åœ¨ç€è¢«ç§°ä½œâ€œä¾èµ–åœ°ç‹±â€çš„æ­»äº¡ä¹‹è°·ï¼Œç³»ç»Ÿè§„æ¨¡è¶Šå¤§ï¼ŒåŠ å…¥çš„åŒ…è¶Šå¤šï¼Œä½ å°±è¶Šæœ‰å¯èƒ½åœ¨æœªæ¥çš„æŸä¸€å¤©å‘ç°è‡ªå·±å·²æ·±é™·ç»æœ›ä¹‹ä¸­ã€‚</p><p>åœ¨ä¾èµ–é«˜çš„ç³»ç»Ÿä¸­å‘å¸ƒæ–°ç‰ˆæœ¬åŒ…å¯èƒ½å¾ˆå¿«ä¼šæˆä¸ºå™©æ¢¦ã€‚å¦‚æœä¾èµ–å…³ç³»è¿‡é«˜ï¼Œå¯èƒ½é¢ä¸´ç‰ˆæœ¬æ§åˆ¶è¢«é”æ­»çš„é£é™©ï¼ˆå¿…é¡»å¯¹æ¯ä¸€ä¸ªä¾èµ–åŒ…æ”¹ç‰ˆæ‰èƒ½å®ŒæˆæŸæ¬¡å‡çº§ï¼‰ã€‚è€Œå¦‚æœä¾èµ–å…³ç³»è¿‡äºæ¾æ•£ï¼Œåˆå°†æ— æ³•é¿å…ç‰ˆæœ¬çš„æ··ä¹±ï¼ˆå‡è®¾å…¼å®¹äºæœªæ¥çš„å¤šä¸ªç‰ˆæœ¬å·²è¶…å‡ºäº†åˆç†æ•°é‡ï¼‰ã€‚å½“ä½ é¡¹ç›®çš„è¿›å±•å› ä¸ºç‰ˆæœ¬ä¾èµ–è¢«é”æ­»æˆ–ç‰ˆæœ¬æ··ä¹±å˜å¾—ä¸å¤Ÿç®€ä¾¿å’Œå¯é ï¼Œå°±æ„å‘³ç€ä½ æ­£å¤„äºä¾èµ–åœ°ç‹±ä¹‹ä¸­ã€‚</p><p>ä½œä¸ºè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼Œæˆ‘æè®®ç”¨ä¸€ç»„ç®€å•çš„è§„åˆ™åŠæ¡ä»¶æ¥çº¦æŸç‰ˆæœ¬å·çš„é…ç½®å’Œå¢é•¿ã€‚è¿™äº›è§„åˆ™æ˜¯æ ¹æ®ï¼ˆä½†ä¸å±€é™äºï¼‰å·²ç»è¢«å„ç§å°é—­ã€å¼€æ”¾æºç è½¯ä»¶æ‰€å¹¿æ³›ä½¿ç”¨çš„æƒ¯ä¾‹æ‰€è®¾è®¡ã€‚ä¸ºäº†è®©è¿™å¥—ç†è®ºè¿ä½œï¼Œä½ å¿…é¡»å…ˆæœ‰å®šä¹‰å¥½çš„å…¬å…± APIã€‚è¿™å¯ä»¥é€è¿‡æ–‡ä»¶å®šä¹‰æˆ–ä»£ç å¼ºåˆ¶è¦æ±‚æ¥å®ç°ã€‚æ— è®ºå¦‚ä½•ï¼Œè¿™å¥— API çš„æ¸…æ¥šæ˜äº†æ˜¯ååˆ†é‡è¦çš„ã€‚ä¸€æ—¦ä½ å®šä¹‰äº†å…¬å…± APIï¼Œä½ å°±å¯ä»¥é€è¿‡ä¿®æ”¹ç›¸åº”çš„ç‰ˆæœ¬å·æ¥å‘å¤§å®¶è¯´æ˜ä½ çš„ä¿®æ”¹ã€‚è€ƒè™‘ä½¿ç”¨è¿™æ ·çš„ç‰ˆæœ¬å·æ ¼å¼ï¼šX.Y.Zï¼ˆä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼‰ä¿®å¤é—®é¢˜ä½†ä¸å½±å“ API æ—¶ï¼Œé€’å¢ä¿®è®¢å·ï¼›API ä¿æŒå‘ä¸‹å…¼å®¹çš„æ–°å¢åŠä¿®æ”¹æ—¶ï¼Œé€’å¢æ¬¡ç‰ˆæœ¬å·ï¼›è¿›è¡Œä¸å‘ä¸‹å…¼å®¹çš„ä¿®æ”¹æ—¶ï¼Œé€’å¢ä¸»ç‰ˆæœ¬å·ã€‚</p><p>æˆ‘ç§°è¿™å¥—ç³»ç»Ÿä¸ºâ€œè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶â€ï¼Œåœ¨è¿™å¥—çº¦å®šä¸‹ï¼Œç‰ˆæœ¬å·åŠå…¶æ›´æ–°æ–¹å¼åŒ…å«äº†ç›¸é‚»ç‰ˆæœ¬é—´çš„åº•å±‚ä»£ç å’Œä¿®æ”¹å†…å®¹çš„ä¿¡æ¯ã€‚</p><h2 id="è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒï¼ˆSemVerï¼‰"><a href="#è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒï¼ˆSemVerï¼‰" class="headerlink" title="è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒï¼ˆSemVerï¼‰"></a>è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒï¼ˆSemVerï¼‰</h2><p>ä»¥ä¸‹å…³é”®è¯ MUSTã€MUST NOTã€REQUIREDã€SHALLã€SHALL NOTã€SHOULDã€SHOULD NOTã€ RECOMMENDEDã€MAYã€OPTIONAL ä¾ç…§ RFC 2119 çš„å™è¿°è§£è¯»ã€‚</p><ol><li>ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶çš„è½¯ä»¶å¿…é¡»ï¼ˆMUSTï¼‰å®šä¹‰å…¬å…± APIã€‚è¯¥ API å¯ä»¥åœ¨ä»£ç ä¸­è¢«å®šä¹‰æˆ–å‡ºç°äºä¸¥è°¨çš„æ–‡ä»¶å†…ã€‚æ— è®ºä½•ç§å½¢å¼éƒ½åº”è¯¥åŠ›æ±‚ç²¾ç¡®ä¸”å®Œæ•´ã€‚</li><li>æ ‡å‡†çš„ç‰ˆæœ¬å·å¿…é¡»ï¼ˆMUSTï¼‰é‡‡ç”¨ X.Y.Z çš„æ ¼å¼ï¼Œå…¶ä¸­ Xã€Y å’Œ Z ä¸ºéè´Ÿçš„æ•´æ•°ï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰åœ¨æ•°å­—å‰æ–¹è¡¥é›¶ã€‚X æ˜¯ä¸»ç‰ˆæœ¬å·ã€Y æ˜¯æ¬¡ç‰ˆæœ¬å·ã€è€Œ Z ä¸ºä¿®è®¢å·ã€‚æ¯ä¸ªå…ƒç´ å¿…é¡»ï¼ˆMUSTï¼‰ä»¥æ•°å€¼æ¥é€’å¢ã€‚ä¾‹å¦‚ï¼š1.9.1 -&gt; 1.10.0 -&gt; 1.11.0ã€‚</li><li>æ ‡è®°ç‰ˆæœ¬å·çš„è½¯ä»¶å‘è¡Œåï¼Œç¦æ­¢ï¼ˆMUST NOTï¼‰æ”¹å˜è¯¥ç‰ˆæœ¬è½¯ä»¶çš„å†…å®¹ã€‚ä»»ä½•ä¿®æ”¹éƒ½å¿…é¡»ï¼ˆMUSTï¼‰ä»¥æ–°ç‰ˆæœ¬å‘è¡Œã€‚</li><li>ä¸»ç‰ˆæœ¬å·ä¸ºé›¶ï¼ˆ0.y.zï¼‰çš„è½¯ä»¶å¤„äºå¼€å‘åˆå§‹é˜¶æ®µï¼Œä¸€åˆ‡éƒ½å¯èƒ½éšæ—¶è¢«æ”¹å˜ã€‚è¿™æ ·çš„å…¬å…± API ä¸åº”è¯¥è¢«è§†ä¸ºç¨³å®šç‰ˆã€‚</li><li>1.0.0 çš„ç‰ˆæœ¬å·ç”¨äºç•Œå®šå…¬å…± API çš„å½¢æˆã€‚è¿™ä¸€ç‰ˆæœ¬ä¹‹åæ‰€æœ‰çš„ç‰ˆæœ¬å·æ›´æ–°éƒ½åŸºäºå…¬å…± API åŠå…¶ä¿®æ”¹å†…å®¹ã€‚</li><li>ä¿®è®¢å· Zï¼ˆx.y.Z <code>|</code> x &gt; 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨åªåšäº†å‘ä¸‹å…¼å®¹çš„ä¿®æ­£æ—¶æ‰é€’å¢ã€‚è¿™é‡Œçš„ä¿®æ­£æŒ‡çš„æ˜¯é’ˆå¯¹ä¸æ­£ç¡®ç»“æœè€Œè¿›è¡Œçš„å†…éƒ¨ä¿®æ”¹ã€‚</li><li>æ¬¡ç‰ˆæœ¬å· Yï¼ˆx.Y.z <code>|</code> x &gt; 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨æœ‰å‘ä¸‹å…¼å®¹çš„æ–°åŠŸèƒ½å‡ºç°æ—¶é€’å¢ã€‚åœ¨ä»»ä½•å…¬å…± API çš„åŠŸèƒ½è¢«æ ‡è®°ä¸ºå¼ƒç”¨æ—¶ä¹Ÿå¿…é¡»ï¼ˆMUSTï¼‰é€’å¢ã€‚ä¹Ÿå¯ä»¥ï¼ˆMAYï¼‰åœ¨å†…éƒ¨ç¨‹åºæœ‰å¤§é‡æ–°åŠŸèƒ½æˆ–æ”¹è¿›è¢«åŠ å…¥æ—¶é€’å¢ï¼Œå…¶ä¸­å¯ä»¥ï¼ˆMAYï¼‰åŒ…æ‹¬ä¿®è®¢çº§åˆ«çš„æ”¹å˜ã€‚æ¯å½“æ¬¡ç‰ˆæœ¬å·é€’å¢æ—¶ï¼Œä¿®è®¢å·å¿…é¡»ï¼ˆMUSTï¼‰å½’é›¶ã€‚</li><li>ä¸»ç‰ˆæœ¬å· Xï¼ˆX.y.z <code>|</code> X &gt; 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨æœ‰ä»»ä½•ä¸å…¼å®¹çš„ä¿®æ”¹è¢«åŠ å…¥å…¬å…± API æ—¶é€’å¢ã€‚å…¶ä¸­å¯ä»¥ï¼ˆMAYï¼‰åŒ…æ‹¬æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢çº§åˆ«çš„æ”¹å˜ã€‚æ¯å½“ä¸»ç‰ˆæœ¬å·é€’å¢æ—¶ï¼Œæ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·å¿…é¡»ï¼ˆMUSTï¼‰å½’é›¶ã€‚</li><li>å…ˆè¡Œç‰ˆæœ¬å·å¯ä»¥ï¼ˆMAYï¼‰è¢«æ ‡æ³¨åœ¨ä¿®è®¢ç‰ˆä¹‹åï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªè¿æ¥å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥ä¿®é¥°ã€‚æ ‡è¯†ç¬¦å¿…é¡»ï¼ˆMUSTï¼‰ç”± ASCII å­—æ¯æ•°å­—å’Œè¿æ¥å· [0-9A-Za-z-] ç»„æˆï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰ç•™ç™½ã€‚æ•°å­—å‹çš„æ ‡è¯†ç¬¦ç¦æ­¢ï¼ˆMUST NOTï¼‰åœ¨å‰æ–¹è¡¥é›¶ã€‚å…ˆè¡Œç‰ˆçš„ä¼˜å…ˆçº§ä½äºç›¸å…³è”çš„æ ‡å‡†ç‰ˆæœ¬ã€‚è¢«æ ‡ä¸Šå…ˆè¡Œç‰ˆæœ¬å·åˆ™è¡¨ç¤ºè¿™ä¸ªç‰ˆæœ¬å¹¶éç¨³å®šè€Œä¸”å¯èƒ½æ— æ³•æ»¡è¶³é¢„æœŸçš„å…¼å®¹æ€§éœ€æ±‚ã€‚èŒƒä¾‹ï¼š1.0.0-alphaã€1.0.0-alpha.1ã€1.0.0-0.3.7ã€1.0.0-x.7.z.92ã€‚</li><li>ç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ä»¥ï¼ˆMAYï¼‰è¢«æ ‡æ³¨åœ¨ä¿®è®¢ç‰ˆæˆ–å…ˆè¡Œç‰ˆæœ¬å·ä¹‹åï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªåŠ å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥ä¿®é¥°ã€‚æ ‡è¯†ç¬¦å¿…é¡»ï¼ˆMUSTï¼‰ç”± ASCII å­—æ¯æ•°å­—å’Œè¿æ¥å· [0-9A-Za-z-] ç»„æˆï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰ç•™ç™½ã€‚å½“åˆ¤æ–­ç‰ˆæœ¬çš„ä¼˜å…ˆå±‚çº§æ—¶ï¼Œç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ï¼ˆSHOULDï¼‰è¢«å¿½ç•¥ã€‚å› æ­¤å½“ä¸¤ä¸ªç‰ˆæœ¬åªæœ‰åœ¨ç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯æœ‰å·®åˆ«æ—¶ï¼Œå±äºç›¸åŒçš„ä¼˜å…ˆå±‚çº§ã€‚èŒƒä¾‹ï¼š1.0.0-alpha+001ã€1.0.0+20130313144700ã€1.0.0-beta+exp.sha.5114f85ã€‚</li><li>ç‰ˆæœ¬çš„ä¼˜å…ˆå±‚çº§æŒ‡çš„æ˜¯ä¸åŒç‰ˆæœ¬åœ¨æ’åºæ—¶å¦‚ä½•æ¯”è¾ƒã€‚åˆ¤æ–­ä¼˜å…ˆå±‚çº§æ—¶ï¼Œå¿…é¡»ï¼ˆMUSTï¼‰æŠŠç‰ˆæœ¬ä¾åºæ‹†åˆ†ä¸ºä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·ã€ä¿®è®¢å·åŠå…ˆè¡Œç‰ˆæœ¬å·åè¿›è¡Œæ¯”è¾ƒï¼ˆç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯ä¸åœ¨è¿™ä»½æ¯”è¾ƒçš„åˆ—è¡¨ä¸­ï¼‰ã€‚ç”±å·¦åˆ°å³ä¾åºæ¯”è¾ƒæ¯ä¸ªæ ‡è¯†ç¬¦ï¼Œç¬¬ä¸€ä¸ªå·®å¼‚å€¼ç”¨æ¥å†³å®šä¼˜å…ˆå±‚çº§ï¼šä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·ä»¥æ•°å€¼æ¯”è¾ƒï¼Œä¾‹å¦‚ï¼š1.0.0 &lt; 2.0.0 &lt; 2.1.0 &lt; 2.1.1ã€‚å½“ä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·éƒ½ç›¸åŒæ—¶ï¼Œæ”¹ä»¥ä¼˜å…ˆå±‚çº§æ¯”è¾ƒä½çš„å…ˆè¡Œç‰ˆæœ¬å·å†³å®šã€‚ä¾‹å¦‚ï¼š1.0.0-alpha &lt; 1.0.0ã€‚æœ‰ç›¸åŒä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·çš„ä¸¤ä¸ªå…ˆè¡Œç‰ˆæœ¬å·ï¼Œå…¶ä¼˜å…ˆå±‚çº§å¿…é¡»ï¼ˆMUSTï¼‰é€è¿‡ç”±å·¦åˆ°å³çš„æ¯ä¸ªè¢«å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥æ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå·®å¼‚å€¼åå†³å®šï¼šåªæœ‰æ•°å­—çš„æ ‡è¯†ç¬¦ä»¥æ•°å€¼é«˜ä½æ¯”è¾ƒï¼Œæœ‰å­—æ¯æˆ–è¿æ¥å·æ—¶åˆ™é€å­—ä»¥ ASCII çš„æ’åºæ¥æ¯”è¾ƒã€‚æ•°å­—çš„æ ‡è¯†ç¬¦æ¯”éæ•°å­—çš„æ ‡è¯†ç¬¦ä¼˜å…ˆå±‚çº§ä½ã€‚è‹¥å¼€å¤´çš„æ ‡è¯†ç¬¦éƒ½ç›¸åŒæ—¶ï¼Œæ ä½æ¯”è¾ƒå¤šçš„å…ˆè¡Œç‰ˆæœ¬å·ä¼˜å…ˆå±‚çº§æ¯”è¾ƒé«˜ã€‚èŒƒä¾‹ï¼š1.0.0-alpha &lt; 1.0.0-alpha.1 &lt; 1.0.0-alpha.beta &lt; 1.0.0-beta &lt; 1.0.0-beta.2 &lt; 1.0.0-beta.11 &lt; 1.0.0-rc.1 &lt; 1.0.0ã€‚</li></ol><h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ</h2><p>è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„æˆ–è€…é©å‘½æ€§çš„æƒ³æ³•ã€‚å®é™…ä¸Šï¼Œä½ å¯èƒ½å·²ç»åœ¨åšä¸€äº›è¿‘ä¼¼çš„äº‹æƒ…äº†ã€‚é—®é¢˜åœ¨äºåªæ˜¯â€œè¿‘ä¼¼â€è¿˜ä¸å¤Ÿã€‚å¦‚æœæ²¡æœ‰æŸä¸ªæ­£å¼çš„è§„èŒƒå¯å¾ªï¼Œç‰ˆæœ¬å·å¯¹äºä¾èµ–çš„ç®¡ç†å¹¶æ— å®è´¨æ„ä¹‰ã€‚å°†ä¸Šè¿°çš„æƒ³æ³•å‘½åå¹¶ç»™äºˆæ¸…æ¥šçš„å®šä¹‰ï¼Œè®©ä½ å¯¹è½¯ä»¶ä½¿ç”¨è€…ä¼ è¾¾æ„å‘å˜å¾—å®¹æ˜“ã€‚ä¸€æ—¦è¿™äº›æ„å‘å˜å¾—æ¸…æ¥šï¼Œå¼¹æ€§ï¼ˆä½†åˆä¸ä¼šå¤ªå¼¹æ€§ï¼‰çš„ä¾èµ–è§„èŒƒå°±èƒ½è¾¾æˆã€‚</p><p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­å°±å¯ä»¥å±•ç¤ºè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶å¦‚ä½•è®©ä¾èµ–åœ°ç‹±æˆä¸ºè¿‡å»ã€‚å‡è®¾æœ‰ä¸ªåä¸ºâ€œæ•‘ç«è½¦â€çš„å‡½æ•°åº“ï¼Œå®ƒéœ€è¦å¦ä¸€ä¸ªåä¸ºâ€œæ¢¯å­â€å¹¶å·²ç»æœ‰ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶çš„åŒ…ã€‚å½“æ•‘ç«è½¦åˆ›å»ºæ—¶ï¼Œæ¢¯å­çš„ç‰ˆæœ¬å·ä¸º 3.1.0ã€‚å› ä¸ºæ•‘ç«è½¦ä½¿ç”¨äº†ä¸€äº›ç‰ˆæœ¬ 3.1.0 æ‰€æ–°å¢çš„åŠŸèƒ½ï¼Œä½ å¯ä»¥æ”¾å¿ƒåœ°æŒ‡å®šä¾èµ–äºæ¢¯å­çš„ç‰ˆæœ¬å·å¤§äºç­‰äº 3.1.0 ä½†å°äº 4.0.0ã€‚è¿™æ ·ï¼Œå½“æ¢¯å­ç‰ˆæœ¬ 3.1.1 å’Œ 3.2.0 å‘å¸ƒæ—¶ï¼Œä½ å¯ä»¥å°†ç›´æ¥å®ƒä»¬çº³å…¥ä½ çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œå› ä¸ºå®ƒä»¬èƒ½ä¸åŸæœ‰ä¾èµ–çš„è½¯ä»¶å…¼å®¹ã€‚</p><p>ä½œä¸ºä¸€ä½è´Ÿè´£ä»»çš„å¼€å‘è€…ï¼Œä½ ç†å½“ç¡®ä¿æ¯æ¬¡åŒ…å‡çº§çš„è¿ä½œä¸ç‰ˆæœ¬å·çš„è¡¨è¿°ä¸€è‡´ã€‚ç°å®ä¸–ç•Œæ˜¯å¤æ‚çš„ï¼Œæˆ‘ä»¬é™¤äº†æé«˜è­¦è§‰å¤–èƒ½åšçš„ä¸å¤šã€‚ä½ æ‰€èƒ½åšçš„å°±æ˜¯è®©è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ä¸ºä½ æä¾›ä¸€ä¸ªå¥å…¨çš„æ–¹å¼æ¥å‘è¡Œä»¥åŠå‡çº§åŒ…ï¼Œè€Œæ— éœ€æ¨å‡ºæ–°çš„ä¾èµ–åŒ…ï¼ŒèŠ‚çœä½ çš„æ—¶é—´åŠçƒ¦æ¼ã€‚</p><p>å¦‚æœä½ å¯¹æ­¤è®¤åŒï¼Œå¸Œæœ›ç«‹å³å¼€å§‹ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼Œä½ åªéœ€å£°æ˜ä½ çš„å‡½æ•°åº“æ­£åœ¨ä½¿ç”¨å®ƒå¹¶éµå¾ªè¿™äº›è§„åˆ™å°±å¯ä»¥äº†ã€‚è¯·åœ¨ä½ çš„ README æ–‡ä»¶ä¸­ä¿ç•™æ­¤é¡µé“¾æ¥ï¼Œè®©åˆ«äººä¹ŸçŸ¥é“è¿™äº›è§„åˆ™å¹¶ä»ä¸­å—ç›Šã€‚</p><h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="åœ¨-0-y-z-åˆå§‹å¼€å‘é˜¶æ®µï¼Œæˆ‘è¯¥å¦‚ä½•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Ÿ"><a href="#åœ¨-0-y-z-åˆå§‹å¼€å‘é˜¶æ®µï¼Œæˆ‘è¯¥å¦‚ä½•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Ÿ" class="headerlink" title="åœ¨ 0.y.z åˆå§‹å¼€å‘é˜¶æ®µï¼Œæˆ‘è¯¥å¦‚ä½•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Ÿ"></a>åœ¨ 0.y.z åˆå§‹å¼€å‘é˜¶æ®µï¼Œæˆ‘è¯¥å¦‚ä½•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Ÿ</h3><p>æœ€ç®€å•çš„åšæ³•æ˜¯ä»¥ 0.1.0 ä½œä¸ºä½ çš„åˆå§‹åŒ–å¼€å‘ç‰ˆæœ¬ï¼Œå¹¶åœ¨åç»­çš„æ¯æ¬¡å‘è¡Œæ—¶é€’å¢æ¬¡ç‰ˆæœ¬å·ã€‚</p><h3 id="å¦‚ä½•åˆ¤æ–­å‘å¸ƒ-1-0-0-ç‰ˆæœ¬çš„æ—¶æœºï¼Ÿ"><a href="#å¦‚ä½•åˆ¤æ–­å‘å¸ƒ-1-0-0-ç‰ˆæœ¬çš„æ—¶æœºï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ¤æ–­å‘å¸ƒ 1.0.0 ç‰ˆæœ¬çš„æ—¶æœºï¼Ÿ"></a>å¦‚ä½•åˆ¤æ–­å‘å¸ƒ 1.0.0 ç‰ˆæœ¬çš„æ—¶æœºï¼Ÿ</h3><p>å½“ä½ çš„è½¯ä»¶è¢«ç”¨äºæ­£å¼ç¯å¢ƒï¼Œå®ƒåº”è¯¥å·²ç»è¾¾åˆ°äº† 1.0.0 ç‰ˆã€‚å¦‚æœä½ å·²ç»æœ‰ä¸ªç¨³å®šçš„ API è¢«ä½¿ç”¨è€…ä¾èµ–ï¼Œä¹Ÿä¼šæ˜¯ 1.0.0 ç‰ˆã€‚å¦‚æœä½ å¾ˆæ‹…å¿ƒå‘ä¸‹å…¼å®¹çš„é—®é¢˜ï¼Œä¹Ÿåº”è¯¥ç®—æ˜¯ 1.0.0 ç‰ˆäº†ã€‚</p><h3 id="è¿™ä¸ä¼šé˜»ç¢å¿«é€Ÿå¼€å‘å’Œè¿­ä»£å—ï¼Ÿ"><a href="#è¿™ä¸ä¼šé˜»ç¢å¿«é€Ÿå¼€å‘å’Œè¿­ä»£å—ï¼Ÿ" class="headerlink" title="è¿™ä¸ä¼šé˜»ç¢å¿«é€Ÿå¼€å‘å’Œè¿­ä»£å—ï¼Ÿ"></a>è¿™ä¸ä¼šé˜»ç¢å¿«é€Ÿå¼€å‘å’Œè¿­ä»£å—ï¼Ÿ</h3><p>ä¸»ç‰ˆæœ¬å·ä¸ºé›¶çš„æ—¶å€™å°±æ˜¯ä¸ºäº†åšå¿«é€Ÿå¼€å‘ã€‚å¦‚æœä½ æ¯å¤©éƒ½åœ¨æ”¹å˜ APIï¼Œé‚£ä¹ˆä½ åº”è¯¥ä»åœ¨ä¸»ç‰ˆæœ¬å·ä¸ºé›¶çš„é˜¶æ®µï¼ˆ0.y.zï¼‰ï¼Œæˆ–æ˜¯æ­£åœ¨ä¸‹ä¸ªä¸»ç‰ˆæœ¬çš„ç‹¬ç«‹å¼€å‘åˆ†æ”¯ä¸­ã€‚</p><h3 id="å¯¹äºå…¬å…±-APIï¼Œè‹¥å³ä½¿æ˜¯æœ€å°ä½†ä¸å‘ä¸‹å…¼å®¹çš„æ”¹å˜éƒ½éœ€è¦äº§ç”Ÿæ–°çš„ä¸»ç‰ˆæœ¬å·ï¼Œå²‚ä¸æ˜¯å¾ˆå¿«å°±è¾¾åˆ°-42-0-0-ç‰ˆï¼Ÿ"><a href="#å¯¹äºå…¬å…±-APIï¼Œè‹¥å³ä½¿æ˜¯æœ€å°ä½†ä¸å‘ä¸‹å…¼å®¹çš„æ”¹å˜éƒ½éœ€è¦äº§ç”Ÿæ–°çš„ä¸»ç‰ˆæœ¬å·ï¼Œå²‚ä¸æ˜¯å¾ˆå¿«å°±è¾¾åˆ°-42-0-0-ç‰ˆï¼Ÿ" class="headerlink" title="å¯¹äºå…¬å…± APIï¼Œè‹¥å³ä½¿æ˜¯æœ€å°ä½†ä¸å‘ä¸‹å…¼å®¹çš„æ”¹å˜éƒ½éœ€è¦äº§ç”Ÿæ–°çš„ä¸»ç‰ˆæœ¬å·ï¼Œå²‚ä¸æ˜¯å¾ˆå¿«å°±è¾¾åˆ° 42.0.0 ç‰ˆï¼Ÿ"></a>å¯¹äºå…¬å…± APIï¼Œè‹¥å³ä½¿æ˜¯æœ€å°ä½†ä¸å‘ä¸‹å…¼å®¹çš„æ”¹å˜éƒ½éœ€è¦äº§ç”Ÿæ–°çš„ä¸»ç‰ˆæœ¬å·ï¼Œå²‚ä¸æ˜¯å¾ˆå¿«å°±è¾¾åˆ° 42.0.0 ç‰ˆï¼Ÿ</h3><p>è¿™æ˜¯å¼€å‘çš„è´£ä»»æ„Ÿå’Œå‰ç»æ€§çš„é—®é¢˜ã€‚ä¸å…¼å®¹çš„æ”¹å˜ä¸åº”è¯¥è½»æ˜“è¢«åŠ å…¥åˆ°æœ‰è®¸å¤šä¾èµ–ä»£ç çš„è½¯ä»¶ä¸­ã€‚å‡çº§æ‰€ä»˜å‡ºçš„ä»£ä»·å¯èƒ½æ˜¯å·¨å¤§çš„ã€‚è¦é€’å¢ä¸»ç‰ˆæœ¬å·æ¥å‘è¡Œä¸å…¼å®¹çš„æ”¹ç‰ˆï¼Œæ„å‘³ç€ä½ å¿…é¡»ä¸ºè¿™äº›æ”¹å˜æ‰€å¸¦æ¥çš„å½±å“æ·±æ€ç†Ÿè™‘ï¼Œå¹¶ä¸”è¯„ä¼°æ‰€æ¶‰åŠçš„æˆæœ¬åŠæ•ˆç›Šæ¯”ã€‚</p><h3 id="ä¸ºæ•´ä¸ªå…¬å…±-API-å†™æ–‡ä»¶å¤ªè´¹äº‹äº†ï¼"><a href="#ä¸ºæ•´ä¸ªå…¬å…±-API-å†™æ–‡ä»¶å¤ªè´¹äº‹äº†ï¼" class="headerlink" title="ä¸ºæ•´ä¸ªå…¬å…± API å†™æ–‡ä»¶å¤ªè´¹äº‹äº†ï¼"></a>ä¸ºæ•´ä¸ªå…¬å…± API å†™æ–‡ä»¶å¤ªè´¹äº‹äº†ï¼</h3><p>ä¸ºä¾›ä»–äººä½¿ç”¨çš„è½¯ä»¶ç¼–å†™é€‚å½“çš„æ–‡ä»¶ï¼Œæ˜¯ä½ ä½œä¸ºä¸€åä¸“ä¸šå¼€å‘è€…åº”å°½çš„èŒè´£ã€‚ä¿æŒä¸“æ¡ˆé«˜æ•ˆä¸€ä¸ªéå¸¸é‡è¦çš„éƒ¨ä»½æ˜¯æŒæ§è½¯ä»¶çš„å¤æ‚åº¦ï¼Œå¦‚æœæ²¡æœ‰äººçŸ¥é“å¦‚ä½•ä½¿ç”¨ä½ çš„è½¯ä»¶æˆ–ä¸çŸ¥é“å“ªäº›å‡½æ•°çš„è°ƒç”¨æ˜¯å¯é çš„ï¼Œè¦æŒæ§å¤æ‚åº¦ä¼šæ˜¯å›°éš¾çš„ã€‚é•¿è¿œæ¥çœ‹ï¼Œä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ä»¥åŠå¯¹äºå…¬å…± API æœ‰è‰¯å¥½è§„èŒƒçš„åšæŒï¼Œå¯ä»¥è®©æ¯ä¸ªäººåŠæ¯ä»¶äº‹éƒ½è¿è¡Œé¡ºç•…ã€‚</p><h3 id="ä¸‡ä¸€ä¸å°å¿ƒæŠŠä¸€ä¸ªä¸å…¼å®¹çš„æ”¹ç‰ˆå½“æˆäº†æ¬¡ç‰ˆæœ¬å·å‘è¡Œäº†è¯¥æ€ä¹ˆåŠï¼Ÿ"><a href="#ä¸‡ä¸€ä¸å°å¿ƒæŠŠä¸€ä¸ªä¸å…¼å®¹çš„æ”¹ç‰ˆå½“æˆäº†æ¬¡ç‰ˆæœ¬å·å‘è¡Œäº†è¯¥æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="ä¸‡ä¸€ä¸å°å¿ƒæŠŠä¸€ä¸ªä¸å…¼å®¹çš„æ”¹ç‰ˆå½“æˆäº†æ¬¡ç‰ˆæœ¬å·å‘è¡Œäº†è¯¥æ€ä¹ˆåŠï¼Ÿ"></a>ä¸‡ä¸€ä¸å°å¿ƒæŠŠä¸€ä¸ªä¸å…¼å®¹çš„æ”¹ç‰ˆå½“æˆäº†æ¬¡ç‰ˆæœ¬å·å‘è¡Œäº†è¯¥æ€ä¹ˆåŠï¼Ÿ</h3><p>ä¸€æ—¦å‘ç°è‡ªå·±ç ´åäº†è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶çš„è§„èŒƒï¼Œå°±è¦ä¿®æ­£è¿™ä¸ªé—®é¢˜ï¼Œå¹¶å‘è¡Œä¸€ä¸ªæ–°çš„æ¬¡ç‰ˆæœ¬å·æ¥æ›´æ­£è¿™ä¸ªé—®é¢˜å¹¶ä¸”æ¢å¤å‘ä¸‹å…¼å®¹ã€‚å³ä½¿æ˜¯è¿™ç§æƒ…å†µï¼Œä¹Ÿä¸èƒ½å»ä¿®æ”¹å·²å‘è¡Œçš„ç‰ˆæœ¬ã€‚å¯ä»¥çš„è¯ï¼Œå°†æœ‰é—®é¢˜çš„ç‰ˆæœ¬å·è®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œå‘Šè¯‰ä½¿ç”¨è€…é—®é¢˜æ‰€åœ¨ï¼Œè®©ä»–ä»¬èƒ½å¤Ÿæ„è¯†åˆ°è¿™æ˜¯æœ‰é—®é¢˜çš„ç‰ˆæœ¬ã€‚</p><h3 id="å¦‚æœæˆ‘æ›´æ–°äº†è‡ªå·±çš„ä¾èµ–ä½†æ²¡æœ‰æ”¹å˜å…¬å…±-API-è¯¥æ€ä¹ˆåŠï¼Ÿ"><a href="#å¦‚æœæˆ‘æ›´æ–°äº†è‡ªå·±çš„ä¾èµ–ä½†æ²¡æœ‰æ”¹å˜å…¬å…±-API-è¯¥æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="å¦‚æœæˆ‘æ›´æ–°äº†è‡ªå·±çš„ä¾èµ–ä½†æ²¡æœ‰æ”¹å˜å…¬å…± API è¯¥æ€ä¹ˆåŠï¼Ÿ"></a>å¦‚æœæˆ‘æ›´æ–°äº†è‡ªå·±çš„ä¾èµ–ä½†æ²¡æœ‰æ”¹å˜å…¬å…± API è¯¥æ€ä¹ˆåŠï¼Ÿ</h3><p>ç”±äºæ²¡æœ‰å½±å“åˆ°å…¬å…± APIï¼Œè¿™å¯ä»¥è¢«è®¤å®šæ˜¯å…¼å®¹çš„ã€‚è‹¥æŸä¸ªè½¯ä»¶å’Œä½ çš„åŒ…æœ‰å…±åŒä¾èµ–ï¼Œåˆ™å®ƒä¼šæœ‰è‡ªå·±çš„ä¾èµ–è§„èŒƒï¼Œä½œè€…ä¹Ÿä¼šå‘ŠçŸ¥å¯èƒ½çš„å†²çªã€‚è¦åˆ¤æ–­æ”¹ç‰ˆæ˜¯å±äºä¿®è®¢ç­‰çº§æˆ–æ˜¯æ¬¡ç‰ˆç­‰çº§ï¼Œæ˜¯ä¾æ®ä½ æ›´æ–°çš„ä¾èµ–å…³ç³»æ˜¯ä¸ºäº†ä¿®å¤é—®é¢˜æˆ–æ˜¯åŠ å…¥æ–°åŠŸèƒ½ã€‚å¯¹äºåè€…ï¼Œæˆ‘ç»å¸¸ä¼šé¢„æœŸä¼´éšç€æ›´å¤šçš„ä»£ç ï¼Œè¿™æ˜¾ç„¶ä¼šæ˜¯ä¸€ä¸ªæ¬¡ç‰ˆæœ¬å·çº§åˆ«çš„é€’å¢ã€‚</p><h3 id="å¦‚æœæˆ‘å˜æ›´äº†å…¬å…±-API-ä½†æ— æ„ä¸­æœªéµå¾ªç‰ˆæœ¬å·çš„æ”¹åŠ¨æ€ä¹ˆåŠå‘¢ï¼Ÿï¼ˆæ„å³åœ¨ä¿®è®¢ç­‰çº§çš„å‘å¸ƒä¸­ï¼Œè¯¯å°†é‡å¤§ä¸”ä¸å…¼å®¹çš„æ”¹å˜åŠ åˆ°ä»£ç ä¹‹ä¸­ï¼‰"><a href="#å¦‚æœæˆ‘å˜æ›´äº†å…¬å…±-API-ä½†æ— æ„ä¸­æœªéµå¾ªç‰ˆæœ¬å·çš„æ”¹åŠ¨æ€ä¹ˆåŠå‘¢ï¼Ÿï¼ˆæ„å³åœ¨ä¿®è®¢ç­‰çº§çš„å‘å¸ƒä¸­ï¼Œè¯¯å°†é‡å¤§ä¸”ä¸å…¼å®¹çš„æ”¹å˜åŠ åˆ°ä»£ç ä¹‹ä¸­ï¼‰" class="headerlink" title="å¦‚æœæˆ‘å˜æ›´äº†å…¬å…± API ä½†æ— æ„ä¸­æœªéµå¾ªç‰ˆæœ¬å·çš„æ”¹åŠ¨æ€ä¹ˆåŠå‘¢ï¼Ÿï¼ˆæ„å³åœ¨ä¿®è®¢ç­‰çº§çš„å‘å¸ƒä¸­ï¼Œè¯¯å°†é‡å¤§ä¸”ä¸å…¼å®¹çš„æ”¹å˜åŠ åˆ°ä»£ç ä¹‹ä¸­ï¼‰"></a>å¦‚æœæˆ‘å˜æ›´äº†å…¬å…± API ä½†æ— æ„ä¸­æœªéµå¾ªç‰ˆæœ¬å·çš„æ”¹åŠ¨æ€ä¹ˆåŠå‘¢ï¼Ÿï¼ˆæ„å³åœ¨ä¿®è®¢ç­‰çº§çš„å‘å¸ƒä¸­ï¼Œè¯¯å°†é‡å¤§ä¸”ä¸å…¼å®¹çš„æ”¹å˜åŠ åˆ°ä»£ç ä¹‹ä¸­ï¼‰</h3><p>è‡ªè¡Œåšæœ€ä½³çš„åˆ¤æ–­ã€‚å¦‚æœä½ æœ‰åºå¤§çš„ä½¿ç”¨è€…ç¾¤åœ¨ä¾ç…§å…¬å…± API çš„æ„å›¾è€Œå˜æ›´è¡Œä¸ºåä¼šå¤§å—å½±å“ï¼Œé‚£ä¹ˆæœ€å¥½åšä¸€æ¬¡ä¸»ç‰ˆæœ¬çš„å‘å¸ƒï¼Œå³ä½¿ä¸¥æ ¼æ¥è¯´è¿™ä¸ªä¿®å¤ä»…æ˜¯ä¿®è®¢ç­‰çº§çš„å‘å¸ƒã€‚è®°ä½ï¼Œ è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶å°±æ˜¯é€è¿‡ç‰ˆæœ¬å·çš„æ”¹å˜æ¥ä¼ è¾¾æ„ä¹‰ã€‚è‹¥è¿™äº›æ”¹å˜å¯¹ä½ çš„ä½¿ç”¨è€…æ˜¯é‡è¦çš„ï¼Œé‚£å°±é€è¿‡ç‰ˆæœ¬å·æ¥å‘ä»–ä»¬è¯´æ˜ã€‚</p><h3 id="æˆ‘è¯¥å¦‚ä½•å¤„ç†å³å°†å¼ƒç”¨çš„åŠŸèƒ½ï¼Ÿ"><a href="#æˆ‘è¯¥å¦‚ä½•å¤„ç†å³å°†å¼ƒç”¨çš„åŠŸèƒ½ï¼Ÿ" class="headerlink" title="æˆ‘è¯¥å¦‚ä½•å¤„ç†å³å°†å¼ƒç”¨çš„åŠŸèƒ½ï¼Ÿ"></a>æˆ‘è¯¥å¦‚ä½•å¤„ç†å³å°†å¼ƒç”¨çš„åŠŸèƒ½ï¼Ÿ</h3><p>å¼ƒç”¨ç°å­˜çš„åŠŸèƒ½æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„å®¶å¸¸ä¾¿é¥­ï¼Œä¹Ÿé€šå¸¸æ˜¯å‘å‰å‘å±•æ‰€å¿…é¡»çš„ã€‚å½“ä½ å¼ƒç”¨éƒ¨ä»½å…¬å…± API æ—¶ï¼Œä½ åº”è¯¥åšä¸¤ä»¶äº‹ï¼šï¼ˆ1ï¼‰æ›´æ–°ä½ çš„æ–‡ä»¶è®©ä½¿ç”¨è€…çŸ¥é“è¿™ä¸ªæ”¹å˜ï¼Œï¼ˆ2ï¼‰åœ¨é€‚å½“çš„æ—¶æœºå°†å¼ƒç”¨çš„åŠŸèƒ½é€è¿‡æ–°çš„æ¬¡ç‰ˆæœ¬å·å‘å¸ƒã€‚åœ¨æ–°çš„ä¸»ç‰ˆæœ¬å®Œå…¨ç§»é™¤å¼ƒç”¨åŠŸèƒ½å‰ï¼Œè‡³å°‘è¦æœ‰ä¸€ä¸ªæ¬¡ç‰ˆæœ¬åŒ…å«è¿™ä¸ªå¼ƒç”¨ä¿¡æ¯ï¼Œè¿™æ ·ä½¿ç”¨è€…æ‰èƒ½å¹³é¡ºåœ°è½¬ç§»åˆ°æ–°ç‰ˆ APIã€‚</p><h3 id="è¯­ä¹‰åŒ–ç‰ˆæœ¬å¯¹äºç‰ˆæœ¬çš„å­—ä¸²é•¿åº¦æ˜¯å¦æœ‰é™åˆ¶å‘¢ï¼Ÿ"><a href="#è¯­ä¹‰åŒ–ç‰ˆæœ¬å¯¹äºç‰ˆæœ¬çš„å­—ä¸²é•¿åº¦æ˜¯å¦æœ‰é™åˆ¶å‘¢ï¼Ÿ" class="headerlink" title="è¯­ä¹‰åŒ–ç‰ˆæœ¬å¯¹äºç‰ˆæœ¬çš„å­—ä¸²é•¿åº¦æ˜¯å¦æœ‰é™åˆ¶å‘¢ï¼Ÿ"></a>è¯­ä¹‰åŒ–ç‰ˆæœ¬å¯¹äºç‰ˆæœ¬çš„å­—ä¸²é•¿åº¦æ˜¯å¦æœ‰é™åˆ¶å‘¢ï¼Ÿ</h3><p>æ²¡æœ‰ï¼Œè¯·è‡ªè¡Œåšé€‚å½“çš„åˆ¤æ–­ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œé•¿åˆ° 255 ä¸ªå­—å…ƒçš„ç‰ˆæœ¬å·²è¿‡åº¦å¤¸å¼ ã€‚å†è€…ï¼Œç‰¹å®šçš„ç³»ç»Ÿå¯¹äºå­—ä¸²é•¿åº¦å¯èƒ½ä¼šæœ‰ä»–ä»¬è‡ªå·±çš„é™åˆ¶ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬”/æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‰ˆæœ¬æ§åˆ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</title>
      <link href="/2021/11/10/cpp_singleton_pattern/"/>
      <url>/2021/11/10/cpp_singleton_pattern/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿ</h2><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦åº”ç”¨ç¨‹åºä¸­çš„æŸä¸ªå®ä¾‹åœ¨è¿è¡ŒæœŸé—´æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œç¨‹åºè¿è¡Œæ—¶æ²¡æœ‰ä»»ä½•æ–¹æ³•å®ç°åˆ›å»ºå¤šäºä¸€ä¸ªçš„å®ä¾‹ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬ç§°ä¹‹ä¸ºè½¯ä»¶è®¾è®¡æ¨¡å¼â€”â€”å•ä¾‹æ¨¡å¼ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è½¯ä»¶è¿è¡Œæ—¶ï¼Œæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªæ—¥å¿—å¯¹è±¡â€¦â€¦.</p><a id="more"></a><h2 id="å•ä¾‹æ¨¡å¼å®ç°"><a href="#å•ä¾‹æ¨¡å¼å®ç°" class="headerlink" title="å•ä¾‹æ¨¡å¼å®ç°"></a>å•ä¾‹æ¨¡å¼å®ç°</h2><p>å•ä¾‹æ¨¡å¼å®ç°æ—¶å°†ç±»çš„æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œä½¿å¾—å¤–éƒ¨æ–¹æ³•æ— æ³•é€šè¿‡ç±»çš„æ„é€ å‡½æ•°æ„é€ å¯¹äºä¸€ä¸ªçš„ç±»å¯¹è±¡ï¼Œä»è€Œä¿è¯å¯¹è±¡çš„å”¯ä¸€æ€§ã€‚</p><h3 id="å•ä¾‹æ¨¡å¼åˆ†ç±»"><a href="#å•ä¾‹æ¨¡å¼åˆ†ç±»" class="headerlink" title="å•ä¾‹æ¨¡å¼åˆ†ç±»"></a>å•ä¾‹æ¨¡å¼åˆ†ç±»</h3><p>è½¯ä»¶è®¾è®¡æ¨¡å¼çš„å•ä¾‹æ¨¡å¼å®ç°æœ‰ä¸¤ç§ï¼š</p><ul><li>é¥¿æ±‰æ¨¡å¼ï¼šç±»å®šä¹‰çš„æ—¶å€™å®ç°å¯¹è±¡å®ä¾‹åŒ–ï¼ˆé¥¿æ±‰ï¼Œå¾ˆé¥¿ï¼Œè¦é©¬ä¸Šåƒé¥­ï¼‰ã€‚</li><li>æ‡’æ±‰æ¨¡å¼ï¼šç±»ä½¿ç”¨çš„æ—¶å€™å®ç°å¯¹è±¡å®ä¾‹åŒ–ï¼ˆæ‡’æ±‰ï¼Œä¸é‚£ä¹ˆé¥¿ï¼Œç¨åå†åƒï¼‰ã€‚</li></ul><h3 id="å•ä¾‹æ¨¡å¼ä¹‹é¥¿æ±‰å®ç°"><a href="#å•ä¾‹æ¨¡å¼ä¹‹é¥¿æ±‰å®ç°" class="headerlink" title="å•ä¾‹æ¨¡å¼ä¹‹é¥¿æ±‰å®ç°"></a>å•ä¾‹æ¨¡å¼ä¹‹é¥¿æ±‰å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å•ä¾‹æ¨¡å¼ é¥¿æ±‰å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingletonHungry</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">//æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œä¸å…è®¸å¤–éƒ¨æ–¹æ³•é€šè¿‡newæ¥åˆ›å»ºå®ä¾‹</span></span><br><span class="line">  SingletonHungry()&#123;&#125;</span><br><span class="line">  <span class="keyword">static</span> SingletonHungry *p1;   <span class="comment">//é™æ€æˆå‘˜å˜é‡å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">static</span> SingletonHungry *<span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line">SingletonHungry *SingletonHungry::p1 = <span class="keyword">new</span> SingletonHungry();     <span class="comment">//é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰åŠåˆå§‹åŒ–</span></span><br><span class="line">SingletonHungry *SingletonHungry::getInstance()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"å•ä¾‹æ¨¡å¼ï¼Œé¥¿æ±‰å®ç°è¿›è¡Œå¯¹è±¡å®ä¾‹åŒ–\n"</span>);</span><br><span class="line">  <span class="keyword">return</span> p1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•ä¾‹æ¨¡å¼çš„é¥¿æ±‰å®ç°ä¸­åœ¨ç±»å®šä¹‰æ—¶å·²ç»å®ç°çš„å¯¹è±¡çš„å®ä¾‹åŒ–ï¼Œæ‰€ä»¥å¯¹äºå•çº¿ç¨‹/å¤šçº¿ç¨‹çš„ç¯å¢ƒéƒ½æ˜¯å®‰å…¨çš„ã€‚</p><h3 id="å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å®ç°"><a href="#å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å®ç°" class="headerlink" title="å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å®ç°"></a>å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å•ä¾‹æ¨¡å¼ æ‡’æ±‰æ¨¡å¼</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingletonLazy1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">//æ„é€ å‡½æ•°ç§æœ‰åŒ–</span></span><br><span class="line">  SingletonLazy1()&#123;&#125;</span><br><span class="line">  <span class="keyword">static</span> SingletonLazy1 *p2;    <span class="comment">//é™æ€æˆå‘˜å˜é‡å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">static</span> SingletonLazy1 *<span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line">SingletonLazy1 *SingletonLazy1::p2 = <span class="literal">nullptr</span>;      <span class="comment">//é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰åŠåˆå§‹åŒ–</span></span><br><span class="line">SingletonLazy1 *SingletonLazy1::getInstance()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"å•ä¾‹æ¨¡å¼ï¼Œæ‡’æ±‰å®ç°è¿›è¡Œå¯¹è±¡åˆå§‹åŒ–\n"</span>);</span><br><span class="line">  &#123;</span><br><span class="line">     <span class="keyword">if</span>(p2 == <span class="literal">nullptr</span>)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> SingletonLazy1();</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> p2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ˆæ˜æ˜¾ï¼Œå¯¹äºä¸Šé¢çš„æ‡’æ±‰æ¨¡å¼ä»£ç å®ç°å•çº¿ç¨‹è¿è¡Œæ—¶æ¯«æ— ç–‘é—®æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œä¼šåˆ›å»ºå¤šäºä¸€ä¸ªçš„å¯¹è±¡å®ä¾‹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å•ä¾‹æ¨¡å¼ æ‡’æ±‰æ¨¡å¼ï¼ŒåŠ é”æœºåˆ¶å®ç°çº¿ç¨‹å®‰å…¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingletonLazy1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">//æ„é€ å‡½æ•°ç§æœ‰åŒ–</span></span><br><span class="line">  SingletonLazy1()&#123;&#125;</span><br><span class="line">  <span class="keyword">static</span> SingletonLazy1 *p2;    <span class="comment">//é™æ€æˆå‘˜å˜é‡å£°æ˜</span></span><br><span class="line">  <span class="keyword">static</span> mutex lock_;           <span class="comment">//é™æ€æˆå‘˜å˜é‡å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">static</span> SingletonLazy1 *<span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line">SingletonLazy1 *SingletonLazy1::p2 = <span class="literal">nullptr</span>;      <span class="comment">//é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰åŠåˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">std</span>::mutex SingletonLazy1::lock_;                  <span class="comment">//é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰</span></span><br><span class="line">SingletonLazy1 *SingletonLazy1::getInstance()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"å•ä¾‹æ¨¡å¼ï¼Œæ‡’æ±‰å®ç°è¿›è¡Œå¯¹è±¡åˆå§‹åŒ–\n"</span>);</span><br><span class="line">  &#123;</span><br><span class="line">     <span class="comment">//å¯¹è±¡å®ä¾‹åŒ–åŠ é”ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨</span></span><br><span class="line">     lock_guard&lt;mutex&gt; my_lock(lock_);</span><br><span class="line">     <span class="keyword">if</span>(p2 == <span class="literal">nullptr</span>)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> SingletonLazy1();</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> p2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå•ä¾‹æ¨¡å¼æ‡’æ±‰å®ç°ä»£ç ä¸­ï¼Œå¯¹äºå¯¹è±¡å®ä¾‹çš„éƒ¨åˆ†åŠ é”ï¼Œè¿™æ ·å³ä½¿åœ¨å¤šçº¿ç¨‹è¿è¡Œæ—¶ï¼Œä¹Ÿèƒ½å¤Ÿä¿è¯ç¨‹åºè¿è¡Œæ—¶åªåˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚</p><p>ä½†æ˜¯ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°è¿™ç§æ–¹æ³•è™½ç„¶å®‰å…¨å´ä¸é«˜æ•ˆï¼Œå› ä¸ºæ¯æ¬¡è¿è¡Œåˆ°å®ä¾‹åŒ–å¯¹è±¡çš„è¿™éƒ¨åˆ†ä»£ç æ—¶éƒ½éœ€è¦åŠ é”ï¼Œä½†å…¶å®æˆ‘ä»¬åªéœ€è¦åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ­¤éƒ¨åˆ†ä»£ç æ—¶éœ€è¦åŠ é”ï¼Œæ­¤åè¿è¡Œçš„ä»»ä½•ä¸€æ¬¡éƒ½ä¸éœ€è¦åŠ é”ï¼Œæ‰€ä»¥è¿™ç§å®ç°æ–¹æ³•å¯¼è‡´æ€§èƒ½æµªè´¹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å•ä¾‹æ¨¡å¼ æ‡’æ±‰æ¨¡å¼ï¼ŒDLCP(åŒé‡æ£€æŸ¥é”æ¨¡å¼----Double-Checked Locking Pattern)å®ç°çº¿ç¨‹å®‰å…¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingletonLazy2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">//æ„é€ å‡½æ•°ç§æœ‰åŒ–</span></span><br><span class="line">  SingletonLazy2()&#123;&#125;</span><br><span class="line">  <span class="keyword">static</span> SingletonLazy2 *p3;     <span class="comment">//é™æ€æˆå‘˜å˜é‡å£°æ˜</span></span><br><span class="line">  <span class="keyword">static</span> mutex lock_;            <span class="comment">//é™æ€æˆå‘˜å˜é‡å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">static</span> SingletonLazy2 *<span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line">SingletonLazy2 *SingletonLazy2::p3 = <span class="literal">nullptr</span>;     <span class="comment">//é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰åŠåˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">std</span>::mutex SingletonLazy2::lock_;                 <span class="comment">//é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰</span></span><br><span class="line">SingletonLazy2 *SingletonLazy2::getInstance()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"å•ä¾‹æ¨¡å¼ï¼Œæ‡’æ±‰å®ç°è¿›è¡Œå¯¹è±¡å®ä¾‹åŒ–DCLP\n"</span>);</span><br><span class="line">  <span class="keyword">if</span>(p3 == <span class="literal">nullptr</span>)</span><br><span class="line">  &#123;</span><br><span class="line">     lock_.lock();</span><br><span class="line">     <span class="keyword">if</span>(p3 == <span class="literal">nullptr</span>)</span><br><span class="line">     &#123;</span><br><span class="line">       p3 = <span class="keyword">new</span> SingletonLazy2();</span><br><span class="line">     &#125;</span><br><span class="line">     lock_.unlock();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> p3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€è°“å•ä¾‹æ¨¡å¼æ‡’æ±‰DCLPå®ç°æ˜¯æŒ‡å®ä¾‹åŒ–å¯¹è±¡æ—¶è¿›è¡Œä¸¤æ¬¡åˆ¤ç©ºæ“ä½œï¼ˆä¸Šè¿°ä»£ç ç¬¬18ï¼Œ21è¡Œï¼‰ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸¤æ¬¡åˆ¤ç©ºæ“ä½œï¼ŸğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸</p><p>å¦‚æœæ²¡æœ‰ç¬¬18è¡Œçš„åˆ¤ç©ºæ“ä½œï¼Œé‚£ä¹ˆä¸Šè¿°ä»£ç ä¸æ™®é€šåŠ é”å®ç°æ— å¼‚ï¼Œå¤šçº¿ç¨‹å®‰å…¨ä½†æ€§èƒ½ä¸é«˜ã€‚</p><p>å¦‚æœæ²¡æœ‰ç¬¬21è¡Œçš„åˆ¤ç©ºæ“ä½œï¼Œå‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹thread1ã€thread2éƒ½æ‰§è¡Œäº†ç¬¬18è¡Œï¼Œä½†æ˜¯thread1è·å¾—CPUæ—¶é—´ç‰‡å¼€å§‹æ‰§è¡Œç¬¬20ï¼Œ23ï¼Œ25è¡Œï¼ŒæˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åthread2è·å¾—CPUæ—¶é—´ç‰‡ï¼Œå†æ¬¡æ‰§è¡Œç¬¬20ï¼Œ23ï¼Œ25è¡Œï¼Œå¯¼è‡´ç¨‹åºä¸­å‡ºç°å¤šä¸ªå¯¹è±¡å®ä¾‹ã€‚</p><p><strong>æ‰€ä»¥ï¼Œä¸¤æ¬¡åˆ¤ç©ºä¸å¯å°‘ï¼ï¼ï¼</strong></p><p>ä¸Šè¿°DCLPå®ç°çœ‹èµ·æ¥å®Œç¾ï¼Œä½†æ˜¯ï¼Œä»£ç è¿è¡Œæ—¶å¹¶æ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆå®Œç¾ï¼Œä»£ç ä¸­å­˜åœ¨é‡å¤§æ¼æ´ï¼ŒåŸå› æ˜¯ï¼š<strong>å†…å­˜è¯»å†™çš„ä¹±åºæ‰§è¡Œ(ç¼–è¯‘å™¨é—®é¢˜)</strong>ã€‚</p><p>é‚£åˆ°åº•æ€ä¹ˆè§£å†³ï¼Ÿï¼Ÿï¼ŸğŸ˜¢ğŸ˜¢ğŸ˜¢ç®—äº†å†™ä¸ä¸‹å»äº†ï¼Œè´´ä¸ªè¿æ¥å¤‡å¿˜ä¸€ä¸‹ï¼Œæˆ‘å¤ªèœäº†ï¼Œå…¶å®æ˜¯æ²¡çœ‹æ‡‚è§£å†³æ–¹æ³•ã€‚</p><p>C++11æ ‡å‡†ä¸­å®šä¹‰äº†çº¿ç¨‹ã€åŸå­æ“ä½œä»¥åŠæ–°çš„å†…å­˜æ¨¡å‹ï¼Œé€šè¿‡è¿™äº›æ–°å¢çš„æ ‡å‡†å¯ä»¥æ­£ç¡®çš„å®ç°å•ä¾‹æ¨¡å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::atomic&lt;Singleton*&gt; Singleton::instance_;</span><br><span class="line"><span class="built_in">std</span>::mutex Singleton::m_mutex;</span><br><span class="line"></span><br><span class="line">Singleton* Singleton::Instance() &#123;</span><br><span class="line">    Singleton* temp = instance_.load(<span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">    <span class="built_in">std</span>::atomic_thread_fence(<span class="built_in">std</span>::memory_order_acquire);</span><br><span class="line">    <span class="keyword">if</span> (temp == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">std</span>::lock_guard&lt;<span class="built_in">std</span>::mutex&gt; lock(m_mutex);</span><br><span class="line">        temp = instance_.load(<span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            temp = <span class="keyword">new</span> Singleton;</span><br><span class="line">            <span class="built_in">std</span>::atomic_thread_fence(<span class="built_in">std</span>::memory_order_release);</span><br><span class="line">            instance_.store(temp, <span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://light-city.club/sc/design_pattern/singleton/singleton/#3" target="_blank" rel="noopener">C++è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</a></p><p><a href="https://blog.csdn.net/qq_33774822/article/details/83095898?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-8.no_search_link&amp;spm=1001.2101.3001.4242.5" target="_blank" rel="noopener">å¤§è¯è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</a></p><p><a href="https://cloud.tencent.com/developer/article/1583894" target="_blank" rel="noopener">C++ å¤šçº¿ç¨‹äº’æ–¥é”(mutexï¼Œlockï¼Œlock_guard)</a></p><p><a href="https://blog.csdn.net/fawdlstty/article/details/49491133" target="_blank" rel="noopener">C++11ï¼šåŸå­æ“ä½œ</a></p><p><a href="https://developer.51cto.com/art/201311/419604.htm" target="_blank" rel="noopener">C++11 ä¿®å¤äº†åŒé‡æ£€æŸ¥é”å®šé—®é¢˜</a></p><p><a href="https://github.com/ljsong/Blog/blob/master/C++%E4%B8%AD%E7%9A%84Singleton(%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener">C++ä¸­çš„Singletonï¼ˆå•ä¾‹æ¨¡å¼ï¼‰åŠå…¶å®ç°</a>%E5%8F%8A%E5%85%B6%E5%AE%9E%E7%8E%B0.md)</p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
            <tag> å•ä¾‹æ¨¡å¼ </tag>
            
            <tag> DCLP </tag>
            
            <tag> é”æœºåˆ¶ </tag>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2021/10/27/Git_common_commands/"/>
      <url>/2021/10/27/Git_common_commands/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mkdir &lt;filename&gt;           &#x2F;&#x2F;åˆ›å»ºç›®å½•  </span><br><span class="line">cd &lt;filename&gt;              &#x2F;&#x2F;è¿›å…¥æŒ‡å®šæ–‡ä»¶å¤¹</span><br><span class="line">rm &lt;filename&gt;              &#x2F;&#x2F;å·¥ä½œåŒºåˆ é™¤æ–‡ä»¶</span><br><span class="line">rm -rf &lt;foldername&gt;        &#x2F;&#x2F;å·¥ä½œåŒºåˆ é™¤æ–‡ä»¶å¤¹</span><br><span class="line">pwd                        &#x2F;&#x2F;æ‰“å°å½“å‰è·¯å¾„</span><br><span class="line">cat &lt;filename&gt;             &#x2F;&#x2F;æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†…å®¹</span><br><span class="line">ls -a                      &#x2F;&#x2F;æŸ¥çœ‹éšè—çš„.gitæ–‡ä»¶ï¼Œ.gitæ–‡ä»¶æ˜¯gitç‰ˆæœ¬åº“ï¼Œé‡Œé¢çš„stageå°±æ˜¯æš‚å­˜åŒº</span><br><span class="line">git init                   &#x2F;&#x2F;å°†å‘½ä»¤è¿è¡Œçš„ç›®å½•å˜æˆgitå¯ä»¥ç®¡ç†çš„ä»“åº“</span><br><span class="line">git add &lt;filename&gt;         &#x2F;&#x2F;å°†æŒ‡å®šæ–‡ä»¶ä»å·¥ä½œåŒºæ·»åŠ åˆ°æš‚å­˜åŒº</span><br><span class="line">git commit -m &quot;æäº¤è¯´æ˜&quot;    &#x2F;&#x2F;å°†æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Œ-måé¢æ·»åŠ è¯´æ˜</span><br><span class="line">git status                 &#x2F;&#x2F;æŸ¥çœ‹å½“å‰ç‰ˆæœ¬åº“çŠ¶æ€</span><br><span class="line">git log                    &#x2F;&#x2F;æŸ¥çœ‹å†å²ç‰ˆæœ¬è®°å½•</span><br><span class="line">git log --pretty&#x3D;oneline   &#x2F;&#x2F;æŸ¥çœ‹å†å²è®°å½•ï¼Œåªä¸è¿‡ä¸€è¡Œæ˜¾ç¤ºæ›´åŠ æ¸…æ™°</span><br><span class="line">git reflog                 &#x2F;&#x2F;æŸ¥çœ‹ä½ çš„å†å²å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°å†å²ç‰ˆæœ¬çš„ç‰ˆæœ¬å·ï¼Œåˆ©ç”¨å†å²ç‰ˆæœ¬çš„ç‰ˆæœ¬å·å¯ä»¥å®ç°ä»£ç ç‰ˆæœ¬çš„å›é€€</span><br><span class="line">git diff &lt;filename&gt;        &#x2F;&#x2F;æŸ¥çœ‹è¯¥æ–‡ä»¶çš„å…·ä½“ä¿®æ”¹å†…å®¹</span><br><span class="line">git diff HEAD &lt;filename&gt;   &#x2F;&#x2F;æŸ¥çœ‹å·¥ä½œåŒºä¸ç‰ˆæœ¬åº“é‡Œé¢çš„æœ€æ–°ç‰ˆæœ¬çš„åŒºåˆ«</span><br><span class="line">git reset --hard &lt;ç‰ˆæœ¬å·&gt;   &#x2F;&#x2F;å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬å·çš„ç‰ˆæœ¬</span><br><span class="line">git reset --hard HEAD^     &#x2F;&#x2F;å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</span><br></pre></td></tr></table></figure><a id="more"></a><p><strong>åœ¨gitä¸­ï¼ŒHEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼ŒHEAD^è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ŒHEAD^^è¡¨ç¤ºä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œå‰100ä¸ªç‰ˆæœ¬å¯ä»¥è¡¨ç¤ºä¸ºHEAD~100ã€‚</strong></p><h2 id="æ’¤é”€ä¿®æ”¹"><a href="#æ’¤é”€ä¿®æ”¹" class="headerlink" title="æ’¤é”€ä¿®æ”¹"></a>æ’¤é”€ä¿®æ”¹</h2><p><code>git restore &lt;file&gt;</code></p><p><code>git checkout --&lt;file&gt;</code></p><ol><li><p>åœ¨æœªå°†ä¿®æ”¹å†…å®¹<code>git add</code>åˆ°æš‚å­˜åŒºä¹‹å‰ï¼Œå¯æ’¤é”€å·¥ä½œåŒºçš„ä¿®æ”¹</p></li><li><p>å¦‚æœå·²ç»æŠŠä¿®æ”¹åçš„å†…å®¹<code>git add</code>åˆ°æš‚å­˜åŒºåï¼Œä½¿ç”¨<code>git reset HEAD &lt;file&gt;</code> å¯ä»¥æ’¤é”€æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œå°†å…¶é‡æ–°æ”¾å›å·¥ä½œåŒºï¼Œä¹‹åä½¿ç”¨</p><p><code>git restore&lt;file&gt;</code> æ’¤é”€å·¥ä½œåŒºçš„ä¿®æ”¹,å›åˆ°æœ€åˆçš„çŠ¶æ€ã€‚</p><p><code>git reset</code>å‘½ä»¤æ—¢å¯ä»¥å›é€€ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹å›é€€åˆ°å·¥ä½œåŒºã€‚å½“æˆ‘ä»¬ç”¨<code>HEAD</code>æ—¶ï¼Œè¡¨ç¤ºæœ€æ–°çš„ç‰ˆæœ¬ã€‚</p><p><code>git rm &lt;filename&gt;</code> ä»ç‰ˆæœ¬åº“åˆ é™¤æ–‡ä»¶</p></li><li><p>å¦‚æœåœ¨å·¥ä½œåŒºè¯¯åˆ æ–‡ä»¶ï¼Œä½¿ç”¨<code>git checkout --&lt;filename&gt;</code>å¯ä»¥å°†ç‰ˆæœ¬åº“çš„ç‰ˆæœ¬æ›¿æ¢åˆ°å·¥ä½œåŒºä»æ¥æ²¡æœ‰è¢«æ·»åŠ åˆ°ç‰ˆæœ¬åº“å°±è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œæ˜¯æ— æ³•æ¢å¤çš„ï¼</p></li></ol><p>è¦å…³è”ä¸€ä¸ªè¿œç¨‹åº“ï¼Œä½¿ç”¨å‘½ä»¤<code>git remote add origin git@server-name:path/repo-name.git</code>ï¼›</p><p>å…³è”ä¸€ä¸ªè¿œç¨‹åº“æ—¶å¿…é¡»ç»™è¿œç¨‹åº“æŒ‡å®šä¸€ä¸ªåå­—ï¼Œ<code>origin</code>æ˜¯é»˜è®¤ä¹ æƒ¯å‘½åï¼›</p><p><code>git remote -v</code> æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼ŒåŒ…æ‹¬åå­—å’Œåœ°å€</p><p><code>git push origin &lt;åˆ†æ”¯å&gt;</code> æ¨é€åˆ†æ”¯åˆ°è¿œç¨‹åº“ï¼Œ<code>origin</code>æ˜¯æˆ‘çš„ä»“åº“å</p><p>å…³è”åï¼Œä½¿ç”¨å‘½ä»¤<code>git push -u origin master</code>ç¬¬ä¸€æ¬¡æ¨é€<code>master</code>åˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼›</p><p>æ­¤åï¼Œæ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤<code>git push origin master</code>æ¨é€æœ€æ–°ä¿®æ”¹ï¼›</p><h2 id="åˆ›å»ºæ–°åˆ†æ”¯"><a href="#åˆ›å»ºæ–°åˆ†æ”¯" class="headerlink" title="åˆ›å»ºæ–°åˆ†æ”¯"></a>åˆ›å»ºæ–°åˆ†æ”¯</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git switch -c &lt;branch name&gt;          &#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢å½“æ–°åˆ†æ”¯</span><br><span class="line">git switch &lt;branch name&gt;             &#x2F;&#x2F;åˆ‡æ¢åˆ†æ”¯</span><br><span class="line">git branch                           &#x2F;&#x2F;æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯åå­—å‰é¢ä¼šæ˜¾ç¤º*</span><br><span class="line">git branch -d &lt;branch name&gt;          &#x2F;&#x2F;åˆ é™¤åˆ†æ”¯</span><br><span class="line">git merge &lt;branch name&gt;              &#x2F;&#x2F;åœ¨å½“å‰åˆ†æ”¯åˆå¹¶æŒ‡å®šçš„åˆ†æ”¯</span><br></pre></td></tr></table></figure><p><strong>åœ¨æ–°åˆ†æ”¯ä¿®æ”¹åï¼Œå¿…ä¿®addå’Œcommitæ‰èƒ½ä¸Šä¼ è‡³ç‰ˆæœ¬åº“ï¼Œå¦åˆ™ä½ åªåœ¨å·¥ä½œåŒºæ”¹åŠ¨ï¼Œæ— è®ºæ˜¯åœ¨åŸåˆ†æ”¯å’Œæ–°åˆ†æ”¯ï¼Œcat æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶æ˜¯ä¸€æ ·çš„ã€‚</strong></p><h2 id="æ‰‹åŠ¨è§£å†³åˆå¹¶å†²çª"><a href="#æ‰‹åŠ¨è§£å†³åˆå¹¶å†²çª" class="headerlink" title="æ‰‹åŠ¨è§£å†³åˆå¹¶å†²çª"></a>æ‰‹åŠ¨è§£å†³åˆå¹¶å†²çª</h2><p>ä½¿ç”¨<code>vi &lt;filename&gt;</code> æŸ¥çœ‹å¹¶ç¼–è¾‘æ–‡ä»¶å†…å®¹ï¼ŒæŒ‰ä¸‹é”®ç›˜ä¸Šçš„<code>Insert</code>é”®è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå®ŒæˆåæŒ‰ä¸‹<code>Esc</code>é”®ï¼Œä¹‹å</p><p><code>:q</code> ä¸ä¿å­˜é€€å‡º</p><p><code>:q!</code> ä¸ä¿å­˜å¼ºåˆ¶é€€å‡º</p><p><code>:wq</code> ä¿å­˜é€€å‡º</p><p>åˆ‡è®°è¦æ‰“ <strong><code>:</code></strong> ç¬¦å·</p><p>ç¼–è¾‘å®Œæˆåä¿å­˜é€€å‡ºï¼Œå†æ¬¡<code>git add</code>ï¼Œ<code>git commit</code>ï¼Œä¹‹åæ‰‹åŠ¨åˆå¹¶æˆåŠŸ</p><p><code>git log --graph</code> æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾</p><p><code>git log --graph --pretty=oneline --abbrev-commit</code> æŸ¥çœ‹åˆå¹¶å›¾æ›´åŠ æ¸…æ¥š</p><h2 id="æ·»åŠ æ ‡ç­¾ä¸ç®¡ç†æ ‡ç­¾"><a href="#æ·»åŠ æ ‡ç­¾ä¸ç®¡ç†æ ‡ç­¾" class="headerlink" title="æ·»åŠ æ ‡ç­¾ä¸ç®¡ç†æ ‡ç­¾"></a>æ·»åŠ æ ‡ç­¾ä¸ç®¡ç†æ ‡ç­¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git tag &lt;label name&gt;                   &#x2F;&#x2F;æ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼ŒæŒ‡å‘å½“å‰HEADç‰ˆæœ¬</span><br><span class="line">git tag &lt;label name&gt; commit-id         &#x2F;&#x2F;ä¸ºcommit-idçš„ç‰ˆæœ¬æ·»åŠ ä¸€ä¸ªæ ‡ç­¾</span><br><span class="line">git tag -a &lt;label name&gt; -m&quot;è¯´æ˜å¤‡æ³¨&quot;    &#x2F;&#x2F;æŒ‡å®šæ ‡ç­¾ä¿¡æ¯</span><br><span class="line">git show &lt;label name&gt;                  &#x2F;&#x2F;æŸ¥çœ‹æŸä¸€æ ‡ç­¾è¯¦ç»†ä¿¡æ¯</span><br><span class="line">git tag                                &#x2F;&#x2F;æŸ¥çœ‹å½“å‰æ‰€æœ‰æ ‡ç­¾</span><br><span class="line">git push origin &lt;label name&gt;           &#x2F;&#x2F;æ¨é€æœ¬åœ°æ ‡ç­¾</span><br><span class="line">git push origin --tags                 &#x2F;&#x2F;æ¨é€å…¨éƒ¨æœªæ¨é€çš„æœ¬åœ°æ ‡ç­¾</span><br><span class="line">git tag -d &lt;label name&gt;                &#x2F;&#x2F;åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾</span><br><span class="line">git push origin :refs&#x2F;tags&#x2F;&lt;label name&gt;            &#x2F;&#x2F;åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾</span><br></pre></td></tr></table></figure><h2 id="å‚ä¸githubå¼€æº"><a href="#å‚ä¸githubå¼€æº" class="headerlink" title="å‚ä¸githubå¼€æº"></a>å‚ä¸githubå¼€æº</h2><p>æ‰¾åˆ°ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç‚¹å‡»å³ä¸Šè§’<code>Fork</code>å³å¯å°†é¡¹ç›®å¤åˆ¶åˆ°è‡ªå·±çš„<code>github</code></p><p>æœ¬åœ°åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œ<code>git init</code>ä½œä¸ºä»“åº“</p><p><code>git clone [git@github.com](mailto:git@github.com):Fallenpetal/ä»“åº“å.git</code></p><p>å¦‚æœæ–‡ä»¶è¿‡å¤§ï¼ŒæŒ‰<code>Ctrl + c</code>å–æ¶ˆå…‹éš†</p><p>åœ¨æœ¬åœ°ä¿®æ”¹ï¼Œå¦‚æœæƒ³å‚ä¸å®˜æ–¹çš„å¼€æºï¼Œ<code>pull request</code></p><h2 id="å¿½ç•¥ç‰¹æ®Šæ–‡ä»¶"><a href="#å¿½ç•¥ç‰¹æ®Šæ–‡ä»¶" class="headerlink" title="å¿½ç•¥ç‰¹æ®Šæ–‡ä»¶"></a>å¿½ç•¥ç‰¹æ®Šæ–‡ä»¶</h2><p>åœ¨å·¥ä½œåŒºåˆ›å»º<code>.gitignore</code>æ–‡ä»¶</p><p>åœ¨é‡Œé¢åŠ å…¥æƒ³å¿½ç•¥çš„æ–‡ä»¶ï¼Œè¿™æ ·æ¯æ¬¡æ”¹åŠ¨<code>git</code>ä¸ä¼šå†æé†’ä½ <code>untracked</code></p><p>åŠ å…¥æ ¼å¼ä¸º:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#java:</span><br><span class="line">*.class</span><br></pre></td></tr></table></figure><p>`#<code>æ˜¯æ³¨é‡Šï¼Œ</code>*.class<code>è¡¨ç¤ºä¼šå¿½è§†æ‰€æœ‰åç¼€ä¸º</code>.class`çš„æ–‡ä»¶</p><p>è¢«<code>ignore</code>çš„æ–‡ä»¶ï¼Œå¦‚æœæƒ³å¼ºåˆ¶æ·»åŠ ï¼Œ<code>git add -f app.class</code></p><p>ä½¿ç”¨<code>git check-ignore -v app.class</code> æŸ¥çœ‹<code>app.class</code>è¢«å¿½ç•¥çš„å‡†åˆ™ï¼Œç²¾ç¡®åˆ°ç¬¬å‡ è¡Œ</p><p>æŠŠæŒ‡å®šæ–‡ä»¶æ’é™¤åœ¨<code>.gitignore</code>è§„åˆ™å¤–çš„å†™æ³•å°±æ˜¯<code>!+æ–‡ä»¶å</code>ï¼Œä¾‹å¦‚<code>!app.class</code></p><h2 id="é…ç½®åˆ«å"><a href="#é…ç½®åˆ«å" class="headerlink" title="é…ç½®åˆ«å"></a>é…ç½®åˆ«å</h2><p>å‘½ä»¤æ ¼å¼ï¼š<code>git config --global alias.åˆ«å åŸå‘½ä»¤å</code></p><p>æ¯”å¦‚ <code>git config --gloab [alias.st](http://alias.st/) status</code>ï¼Œè¿™æ ·åšï¼Œæˆ‘ä»¬è¾“å…¥<code>git st</code>å°±è¡¨ç¤º<code>git status</code> <code>--global</code>å‚æ•°æ˜¯å…¨å±€å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å‘½ä»¤åœ¨è¿™å°ç”µè„‘çš„æ‰€æœ‰<code>Git</code>ä»“åº“ä¸‹éƒ½æœ‰ç”¨ã€‚é…ç½®<code>Git</code>çš„æ—¶å€™ï¼ŒåŠ ä¸Š<code>--global</code>æ˜¯é’ˆå¯¹å½“å‰ç”¨æˆ·èµ·ä½œç”¨çš„ï¼Œå¦‚æœä¸åŠ ï¼Œé‚£åªé’ˆå¯¹å½“å‰çš„ä»“åº“èµ·ä½œç”¨ã€‚</p><p>æ¯ä¸ªä»“åº“çš„<code>Git</code>é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨<code>.git/config</code>æ–‡ä»¶ä¸­ï¼š<code>$ cat .git/config</code> æŸ¥çœ‹</p><p>å½“å‰ç”¨æˆ·çš„<code>Git</code>é…ç½®æ–‡ä»¶æ”¾åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ä¸€ä¸ªéšè—æ–‡ä»¶<code>.gitconfig</code>ä¸­ï¼š<code>$ cat .gitconfig</code> æŸ¥çœ‹</p>]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ æ ‡å‡†åº“ç®—æ³•æºä»£ç å‰–æ</title>
      <link href="/2021/07/26/cpp_algorithm_analysis/"/>
      <url>/2021/07/26/cpp_algorithm_analysis/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="ä¸€ã€-ç®—æ³•-accumulate"><a href="#ä¸€ã€-ç®—æ³•-accumulate" class="headerlink" title="ä¸€ã€ ç®—æ³• accumulate"></a>ä¸€ã€ ç®—æ³• accumulate</h2><h3 id="1-åŠŸèƒ½"><a href="#1-åŠŸèƒ½" class="headerlink" title="1. åŠŸèƒ½"></a>1. åŠŸèƒ½</h3><p>å¯¹å®¹å™¨å†…çš„å…ƒç´ è¿›è¡Œç´¯è®¡ï¼ˆä¸é™äºç´¯åŠ è¿ç®—ï¼Œå¯ä»¥æ˜¯è‡ªå·±ä¼ è¿›å»çš„è¿ç®—ï¼‰ã€‚</p><a id="more"></a><h3 id="2-å¯èƒ½çš„å®ç°"><a href="#2-å¯èƒ½çš„å®ç°" class="headerlink" title="2.  å¯èƒ½çš„å®ç°"></a>2.  å¯èƒ½çš„å®ç°</h3><p>ç‰ˆæœ¬ä¸€ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">InputIt</span>, <span class="title">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">constexpr</span> // <span class="title">C</span>++20 èµ·</span></span><br><span class="line"><span class="class"><span class="title">T</span> <span class="title">accumulate</span>(<span class="title">InputIt</span> <span class="title">first</span>, <span class="title">InputIt</span> <span class="title">last</span>, <span class="title">T</span> <span class="title">init</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">        init = <span class="built_in">std</span>::<span class="built_in">move</span>(init) + *first; <span class="comment">// C++20 èµ·æœ‰ std::move</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰ˆæœ¬äºŒï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">InputIt</span>, <span class="title">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">BinaryOperation</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">constexpr</span> // <span class="title">C</span>++20 èµ·</span></span><br><span class="line"><span class="class"><span class="title">T</span> <span class="title">accumulate</span>(<span class="title">InputIt</span> <span class="title">first</span>, <span class="title">InputIt</span> <span class="title">last</span>, <span class="title">T</span> <span class="title">init</span>, </span></span><br><span class="line"><span class="class">             <span class="title">BinaryOperation</span> <span class="title">op</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">        init = op(<span class="built_in">std</span>::<span class="built_in">move</span>(init), *first); <span class="comment">// C++20 èµ·æœ‰ std::move</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ç¤ºä¾‹"><a href="#3-ç¤ºä¾‹" class="headerlink" title="3. ç¤ºä¾‹"></a>3. ç¤ºä¾‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myfunc</span> <span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a + <span class="number">2</span> * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyFunc</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function">T <span class="title">operator</span><span class="params">()</span><span class="params">(T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a + <span class="number">3</span> * b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mystuct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a + <span class="number">2</span> * b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;myobj;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> init = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> num[] = &#123; <span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span> &#125;;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"accumulate default:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; accumulate(num, num + <span class="number">3</span>, init) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"accumulate minus:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; accumulate(num, num + <span class="number">3</span>, init, minus&lt;<span class="keyword">int</span>&gt;()) &lt;&lt; <span class="built_in">endl</span>;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"accumulate myfunc function:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; accumulate(num, num + <span class="number">3</span>, init, myfunc) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"accumulate template class:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; accumulate(num, num + <span class="number">3</span>, init, MyFunc&lt;<span class="keyword">int</span>&gt;()) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"accumulate myobj class:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; accumulate(num, num + <span class="number">3</span>, init, myobj) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">accumulate <span class="keyword">default</span>:</span><br><span class="line"><span class="number">190</span></span><br><span class="line">accumulate minus:</span><br><span class="line"><span class="number">10</span></span><br><span class="line">accumulate myfunc function:</span><br><span class="line"><span class="number">280</span></span><br><span class="line">accumulate <span class="keyword">template</span> <span class="class"><span class="keyword">class</span>:</span></span><br><span class="line"><span class="number">370</span></span><br><span class="line">accumulate myobj <span class="class"><span class="keyword">class</span>:</span></span><br><span class="line"><span class="number">280</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€ç®—æ³•-for-each"><a href="#äºŒã€ç®—æ³•-for-each" class="headerlink" title="äºŒã€ç®—æ³• for_each"></a>äºŒã€ç®—æ³• for_each</h2><h3 id="1-åŠŸèƒ½-1"><a href="#1-åŠŸèƒ½-1" class="headerlink" title="1. åŠŸèƒ½"></a>1. åŠŸèƒ½</h3><p>å¯¹ä¸€æ®µå…ƒç´ æˆ–ä¸€ä¸ªåŒºé—´å†…çš„å…ƒç´ è¿›è¡Œä¸€ä¸ªæ“ä½œï¼Œä¸€ä¸ªç¨‹åºå‘˜å¯ä»¥æŒ‡å®šçš„æ“ä½œã€‚</p><h3 id="2-å¯èƒ½çš„å®ç°-1"><a href="#2-å¯èƒ½çš„å®ç°-1" class="headerlink" title="2. å¯èƒ½çš„å®ç°"></a>2. å¯èƒ½çš„å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">InputIt</span>, <span class="title">class</span> <span class="title">UnaryFunction</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">UnaryFunction</span> <span class="title">for_each</span>(<span class="title">InputIt</span> <span class="title">first</span>, <span class="title">InputIt</span> <span class="title">last</span>, <span class="title">UnaryFunction</span> <span class="title">f</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">        f(*first);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f; <span class="comment">// C++11 èµ·éšå¼ç§»åŠ¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ç¤ºä¾‹-1"><a href="#3-ç¤ºä¾‹-1" class="headerlink" title="3. ç¤ºä¾‹"></a>3. ç¤ºä¾‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myfunc</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mystruct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;myobj;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; num&#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>&#125;;</span><br><span class="line">    for_each(num.<span class="built_in">begin</span>(), num.<span class="built_in">end</span>(), myfunc);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;    </span><br><span class="line"></span><br><span class="line">    for_each(num.<span class="built_in">begin</span>(), num.<span class="built_in">end</span>(), myobj);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ç®—æ³•-replace-replace-if-replace-copy"><a href="#ä¸‰ã€ç®—æ³•-replace-replace-if-replace-copy" class="headerlink" title="ä¸‰ã€ç®—æ³• replace, replace_if, replace_copy"></a>ä¸‰ã€ç®—æ³• replace, replace_if, replace_copy</h2><h3 id="1-åŠŸèƒ½-2"><a href="#1-åŠŸèƒ½-2" class="headerlink" title="1. åŠŸèƒ½"></a>1. åŠŸèƒ½</h3><p>å¯¹èŒƒå›´å†…çš„å…ƒç´ æ‰¹é‡åŒ–è¿›è¡Œä¸€ä¸ªæ“ä½œã€‚</p><h3 id="2-å¯èƒ½çš„å®ç°-2"><a href="#2-å¯èƒ½çš„å®ç°-2" class="headerlink" title="2. å¯èƒ½çš„å®ç°"></a>2. å¯èƒ½çš„å®ç°</h3><p>replace</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ForwardIt</span>, <span class="title">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">replace</span>(<span class="title">ForwardIt</span> <span class="title">first</span>, <span class="title">ForwardIt</span> <span class="title">last</span>,</span></span><br><span class="line"><span class="class">             <span class="title">const</span> <span class="title">T</span>&amp; <span class="title">old_value</span>, <span class="title">const</span> <span class="title">T</span>&amp; <span class="title">new_value</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//èŒƒå›´å†…æ‰€æœ‰ç­‰åŒäºold_valueçš„å€¼éƒ½ä»¥new_valueå–ä»£</span></span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">        <span class="keyword">if</span> (*first == old_value) &#123;</span><br><span class="line">            *first = new_value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>replace_if</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ForwardIt</span>, <span class="title">class</span> <span class="title">UnaryPredicate</span>, <span class="title">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">replace_if</span>(<span class="title">ForwardIt</span> <span class="title">first</span>, <span class="title">ForwardIt</span> <span class="title">last</span>,</span></span><br><span class="line"><span class="class">                <span class="title">UnaryPredicate</span> <span class="title">p</span>, <span class="title">const</span> <span class="title">T</span>&amp; <span class="title">new_value</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//èŒƒå›´å†…æ‰€æœ‰æ»¡è¶³p()æ“ä½œçš„å€¼éƒ½å·²new_valueå–ä»£</span></span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">        <span class="keyword">if</span>(p(*first)) &#123;</span><br><span class="line">            *first = new_value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>replace_copy</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">InputIt</span>, <span class="title">class</span> <span class="title">OutputIt</span>, <span class="title">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">OutputIt</span> <span class="title">replace_copy</span>(<span class="title">InputIt</span> <span class="title">first</span>, <span class="title">InputIt</span> <span class="title">last</span>, <span class="title">OutputIt</span> <span class="title">d_first</span>,</span></span><br><span class="line"><span class="class">                      <span class="title">const</span> <span class="title">T</span>&amp; <span class="title">old_value</span>, <span class="title">const</span> <span class="title">T</span>&amp; <span class="title">new_value</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//èŒƒå›´å†…æ‰€æœ‰ç­‰åŒäºold_valueçš„å€¼éƒ½ä»¥new_valueæ”¾è‡³æ–°åŒºé—´ï¼Œä¸ç¬¦åˆè€…åŸå€¼æ”¾å…¥æ–°åŒºé—´</span></span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">        *d_first++ = (*first == old_value) ? new_value : *first;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.apiref.com/cpp-zh/cpp/algorithm/replace.html" target="_blank" rel="noopener">replace/replace_if</a>ã€<a href="https://www.apiref.com/cpp-zh/cpp/algorithm/replace_copy_if.html" target="_blank" rel="noopener">replace_copy</a></p><h2 id="å››ã€ç®—æ³•-count-count-if"><a href="#å››ã€ç®—æ³•-count-count-if" class="headerlink" title="å››ã€ç®—æ³• count, count_if"></a>å››ã€ç®—æ³• count, count_if</h2><h3 id="1-åŠŸèƒ½-3"><a href="#1-åŠŸèƒ½-3" class="headerlink" title="1. åŠŸèƒ½"></a>1. åŠŸèƒ½</h3><p>è®¡ç®—ä¸€ä¸ªåŒºé—´å†…ç¬¦åˆä¸€ä¸ªæ¡ä»¶çš„å…ƒç´ æœ‰å¤šå°‘ä¸ªã€‚</p><h3 id="2-å¯èƒ½çš„å®ç°-3"><a href="#2-å¯èƒ½çš„å®ç°-3" class="headerlink" title="2. å¯èƒ½çš„å®ç°"></a>2. å¯èƒ½çš„å®ç°</h3><p>ç‰ˆæœ¬ä¸€</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">count_fn</span> &#123;</span></span><br><span class="line">  <span class="keyword">template</span>&lt; <span class="built_in">std</span>::input_iterator I, <span class="built_in">std</span>::sentinel_for&lt;I&gt; S,</span><br><span class="line">          <span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Proj</span> = <span class="title">std</span>:</span>:identity &gt;</span><br><span class="line">  <span class="keyword">requires</span> <span class="built_in">std</span>::indirect_binary_predicate&lt;ranges::equal_to, <span class="built_in">std</span>::projected&lt;I, Proj&gt;, </span><br><span class="line">                                        <span class="keyword">const</span> T*&gt;</span><br><span class="line">  <span class="keyword">constexpr</span> <span class="built_in">std</span>::<span class="keyword">iter_difference_t</span>&lt;I&gt;</span><br><span class="line">    <span class="keyword">operator</span>()( I first, S last, <span class="keyword">const</span> T&amp; value, Proj proj = &#123;&#125; ) <span class="keyword">const</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="keyword">iter_difference_t</span>&lt;I&gt; counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">std</span>::invoke(proj, *first) == value)</span><br><span class="line">      &#123;</span><br><span class="line">        ++counter;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> counter;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">template</span>&lt; ranges::input_range R, <span class="class"><span class="keyword">class</span> <span class="title">T</span>, <span class="title">class</span> <span class="title">Proj</span> = <span class="title">std</span>:</span>:identity &gt;</span><br><span class="line">  <span class="keyword">requires</span> <span class="built_in">std</span>::indirect_binary_predicate&lt;ranges::equal_to,</span><br><span class="line">                                          <span class="built_in">std</span>::projected&lt;ranges::<span class="keyword">iterator_t</span>&lt;R&gt;, Proj&gt;,</span><br><span class="line">                                          <span class="keyword">const</span> T*&gt;</span><br><span class="line">  <span class="keyword">constexpr</span> ranges::<span class="keyword">range_difference_t</span>&lt;R&gt;</span><br><span class="line">    <span class="keyword">operator</span>()( R&amp;&amp; r, <span class="keyword">const</span> T&amp; value, Proj proj = &#123;&#125; ) <span class="keyword">const</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> (*<span class="keyword">this</span>)(ranges::<span class="built_in">begin</span>(r), ranges::<span class="built_in">end</span>(r), value, <span class="built_in">std</span>::ref(proj));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">constexpr</span> count_fn count;</span><br></pre></td></tr></table></figure><p>ç‰ˆæœ¬äºŒ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">count_if_fn</span> &#123;</span></span><br><span class="line">  <span class="keyword">template</span>&lt; <span class="built_in">std</span>::input_iterator I, <span class="built_in">std</span>::sentinel_for&lt;I&gt; S,</span><br><span class="line">            <span class="class"><span class="keyword">class</span> <span class="title">Proj</span> = <span class="title">std</span>:</span>:identity,</span><br><span class="line">            <span class="built_in">std</span>::indirect_unary_predicate&lt;<span class="built_in">std</span>::projected&lt;I, Proj&gt;&gt; Pred &gt;</span><br><span class="line">  <span class="keyword">constexpr</span> <span class="built_in">std</span>::<span class="keyword">iter_difference_t</span>&lt;I&gt;</span><br><span class="line">    <span class="keyword">operator</span>()( I first, S last, Pred pred = &#123;&#125;, Proj proj = &#123;&#125; ) <span class="keyword">const</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="keyword">iter_difference_t</span>&lt;I&gt; counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">std</span>::invoke(pred, <span class="built_in">std</span>::invoke(proj, *first)))</span><br><span class="line">      &#123;</span><br><span class="line">        ++counter;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> counter;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">template</span>&lt; ranges::input_range R, <span class="class"><span class="keyword">class</span> <span class="title">Proj</span> = <span class="title">std</span>:</span>:identity,</span><br><span class="line">            <span class="built_in">std</span>::indirect_unary_predicate&lt;<span class="built_in">std</span>::projected&lt;ranges::<span class="keyword">iterator_t</span>&lt;R&gt;, Proj&gt;&gt; Pred &gt;</span><br><span class="line">  <span class="keyword">constexpr</span> ranges::<span class="keyword">range_difference_t</span>&lt;R&gt;</span><br><span class="line">    <span class="keyword">operator</span>()( R&amp;&amp; r, Pred pred = &#123;&#125;, Proj proj = &#123;&#125; ) <span class="keyword">const</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> (*<span class="keyword">this</span>)(ranges::<span class="built_in">begin</span>(r), ranges::<span class="built_in">end</span>(r),</span><br><span class="line">                   <span class="built_in">std</span>::ref(pred), <span class="built_in">std</span>::ref(proj));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">constexpr</span> count_if_fn count_if;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> æ ‡å‡†åº“ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ thisæŒ‡é’ˆ</title>
      <link href="/2021/07/22/cpp_this_pointer/"/>
      <url>/2021/07/22/cpp_this_pointer/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>å‚è€ƒæ–‡ç« ï¼š</strong></p><ol><li><p><a href="https://zhuanlan.zhihu.com/p/94864064" target="_blank" rel="noopener">C++ thisæŒ‡é’ˆçš„ç†è§£å’Œä½œç”¨</a></p></li><li><p><a href="https://blog.csdn.net/weixin_43751983/article/details/91147918?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control" target="_blank" rel="noopener">C++ thisæŒ‡é’ˆ</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> thisæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ ä¸­çš„å·¦å€¼ã€å³å€¼</title>
      <link href="/2021/07/20/cpp_leftvalue_and_rightvalue/"/>
      <url>/2021/07/20/cpp_leftvalue_and_rightvalue/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>å‚è€ƒæ–‡ç« ï¼š</strong></p><p><a href="https://www.yhspy.com/2019/08/31/C-%E5%B7%A6%E5%80%BC%E3%80%81%E5%8F%B3%E5%80%BC%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/" target="_blank" rel="noopener">C++ å·¦å€¼ã€å³å€¼å’Œå³å€¼å¼•ç”¨</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¦å€¼ </tag>
            
            <tag> å³å€¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ æ–‡ä»¶æ“ä½œä¸æ–‡ä»¶æµ</title>
      <link href="/2021/07/17/cpp_file_stream/"/>
      <url>/2021/07/17/cpp_file_stream/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="ä¸€ã€æ–‡ä»¶çš„æ¦‚å¿µ"><a href="#ä¸€ã€æ–‡ä»¶çš„æ¦‚å¿µ" class="headerlink" title="ä¸€ã€æ–‡ä»¶çš„æ¦‚å¿µ"></a>ä¸€ã€æ–‡ä»¶çš„æ¦‚å¿µ</h2><p>å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå¸¸ç”¨åˆ°çš„æ–‡ä»¶æœ‰ä¸¤å¤§ç±»ï¼šç¨‹åºæ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶ã€‚è€Œæ ¹æ®æ–‡ä»¶ä¸­æ•°æ®çš„ç»„ç»‡æ–¹å¼ï¼Œåˆ™å¯ä»¥å°†æ–‡ä»¶åˆ†ä¸º<strong>ASCII æ–‡ä»¶</strong>å’Œ<strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong>ã€‚</p><ul><li>ASCII æ–‡ä»¶ï¼Œåˆç§°å­—ç¬¦æ–‡ä»¶æˆ–è€…æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒçš„æ¯ä¸€ä¸ªå­—èŠ‚æ”¾ä¸€ä¸ª ASCII ä»£ç ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚</li><li>äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåˆç§°å†…éƒ¨æ ¼å¼æ–‡ä»¶æˆ–å­—èŠ‚æ–‡ä»¶ï¼Œæ˜¯æŠŠå†…å­˜ä¸­çš„æ•°æ®æŒ‰å…¶åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼åŸæ ·è¾“å‡ºåˆ°ç£ç›˜ä¸Šå­˜æ”¾ã€‚</li></ul><a id="more"></a><p>æ•°å­— 64 åœ¨å†…å­˜ä¸­è¡¨ç¤ºä¸º 0100 0000ï¼Œè‹¥å°†å…¶ä¿å­˜ä¸º ASCII æ–‡ä»¶ï¼Œåˆ™è¦åˆ†åˆ«å­˜æ”¾åä½ 6 å’Œä¸ªä½ 4 çš„ ASCII ç ï¼Œä¸º 0011 0110 0011 0100ï¼Œå ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼›è‹¥å°†å…¶ä¿å­˜ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåˆ™æŒ‰å†…å­˜ä¸­å½¢å¼ç›´æ¥è¾“å‡ºï¼Œä¸º 0100 0000ï¼Œå ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚</p><p>ASCII æ–‡ä»¶ä¸­æ•°æ®ä¸å­—ç¬¦ä¸€ä¸€å¯¹åº”ï¼Œä¸€ä¸ªå­—èŠ‚ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ç›´æ¥åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæˆ–æ‰“å°å‡ºæ¥ï¼Œè¿™ç§æ–¹å¼ä½¿ç”¨æ–¹ä¾¿ï¼Œæ¯”è¾ƒç›´è§‚ï¼Œä¾¿äºé˜…è¯»ï¼Œä½†ä¸€èˆ¬å ç”¨å­˜å‚¨ç©ºé—´è¾ƒå¤§ï¼Œè€Œä¸”è¾“å‡ºæ—¶è¦å°†äºŒè¿›åˆ¶è½¬åŒ–ä¸º ASCII ç æ¯”è¾ƒèŠ±è´¹æ—¶é—´ã€‚</p><p>äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¾“å‡ºæ—¶ä¸éœ€è¦è¿›è¡Œè½¬åŒ–ï¼Œç›´æ¥å°†å†…å­˜ä¸­çš„å½¢å¼è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå ç”¨å­˜å‚¨ç©ºé—´è¾ƒå°ï¼Œä½†ä¸€ä¸ªå­—èŠ‚å¹¶ä¸å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸èƒ½ç›´è§‚æ˜¾ç¤ºæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚</p><h2 id="äºŒã€æ–‡ä»¶æµå’Œæ–‡ä»¶æµå¯¹è±¡"><a href="#äºŒã€æ–‡ä»¶æµå’Œæ–‡ä»¶æµå¯¹è±¡" class="headerlink" title="äºŒã€æ–‡ä»¶æµå’Œæ–‡ä»¶æµå¯¹è±¡"></a>äºŒã€æ–‡ä»¶æµå’Œæ–‡ä»¶æµå¯¹è±¡</h2><h3 id="2-1-æ–‡ä»¶æµ"><a href="#2-1-æ–‡ä»¶æµ" class="headerlink" title="2.1 æ–‡ä»¶æµ"></a>2.1 æ–‡ä»¶æµ</h3><p>æ–‡ä»¶æµæ˜¯ä»¥å¤–å­˜æ–‡ä»¶æœªè¾“å…¥è¾“å‡ºå¯¹è±¡çš„æ•°æ®æµã€‚è¾“å‡ºæ–‡ä»¶æµæ˜¯ä»å†…å­˜æµå‘å¤–å­˜æ–‡ä»¶çš„æ•°æ®ï¼Œè¾“å…¥æ–‡ä»¶æµæ˜¯ä»å¤–å­˜æ–‡ä»¶æµå‘å†…å­˜çš„æ•°æ®ã€‚æ¯ä¸€ä¸ªæ–‡ä»¶æµéƒ½æœ‰ä¸€ä¸ªå†…å­˜ç¼“å†²åŒºä¸ä¹‹å¯¹åº”ã€‚</p><p>C++ ä¸­æœ‰ä¸‰ä¸ªç”¨äºæ–‡ä»¶æ“ä½œçš„æ–‡ä»¶ç±»ï¼š</p><ul><li>ifstream ç±»ï¼Œå®ƒæ˜¯ä» istream ç±»æ´¾ç”Ÿæ¥çš„ï¼Œç”¨äºæ”¯æŒä»ç£ç›˜æ–‡ä»¶çš„è¾“å…¥ã€‚</li><li>ofstream ç±»ï¼Œå®ƒæ˜¯ä» ostream ç±»æ´¾ç”Ÿæ¥çš„ï¼Œç”¨äºæ”¯æŒå‘ç£ç›˜æ–‡ä»¶çš„è¾“å‡ºã€‚</li><li>fstream ç±»ï¼Œå®ƒæ˜¯ä» iostream ç±»æ´¾ç”Ÿæ¥çš„ï¼Œç”¨äºæ”¯æŒå¯¹ç£ç›˜æ–‡ä»¶çš„è¾“å…¥è¾“å‡ºã€‚</li></ul><p>è¦ä»¥ç£ç›˜æ–‡ä»¶ä¸ºå¯¹è±¡è¿›è¡Œè¾“å…¥è¾“å‡ºï¼Œå¿…é¡»å®šä¹‰ä¸€ä¸ªæ–‡ä»¶æµç±»çš„å¯¹è±¡ï¼Œé€šè¿‡æ–‡ä»¶æµå¯¹è±¡å°†æ•°æ®ä»å†…å­˜è¾“å‡ºåˆ°ç£ç›˜æ–‡ä»¶ï¼Œæˆ–è€…å°†ç£ç›˜æ–‡ä»¶è¾“å…¥åˆ°å†…å­˜ã€‚</p><h3 id="2-2-æ–‡ä»¶æµå¯¹è±¡"><a href="#2-2-æ–‡ä»¶æµå¯¹è±¡" class="headerlink" title="2.2 æ–‡ä»¶æµå¯¹è±¡"></a>2.2 æ–‡ä»¶æµå¯¹è±¡</h3><p>å®šä¹‰æ–‡ä»¶æµå¯¹è±¡åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†æ–‡ä»¶æµå¯¹è±¡å’ŒæŒ‡å®šçš„ç£ç›˜æ–‡ä»¶å»ºç«‹å…³è”ï¼Œä»¥ä¾¿ä½¿æ–‡ä»¶æµæµå‘æŒ‡å®šçš„ç£ç›˜æ–‡ä»¶ï¼Œå¹¶ç¡®å®šæ–‡ä»¶çš„å·¥ä½œæ–¹å¼ï¼ˆè¾“å…¥è¿˜æ˜¯è¾“å‡ºï¼ŒäºŒè¿›åˆ¶è¿˜æ˜¯ ASCIIï¼‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰æµå¯¹è±¡çš„æ—¶å€™æŒ‡å®šå‚æ•°æ¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œæˆ–è€…é€šè¿‡æˆå‘˜å‡½æ•° open æ¥è¿›è¡Œæ–‡ä»¶æµå¯¹è±¡å’ŒæŒ‡å®šæ–‡ä»¶çš„å…³è”ã€‚</p><h3 id="2-3-æ–‡ä»¶æ¨¡å¼"><a href="#2-3-æ–‡ä»¶æ¨¡å¼" class="headerlink" title="2.3 æ–‡ä»¶æ¨¡å¼"></a>2.3 æ–‡ä»¶æ¨¡å¼</h3><p>æ¯ä¸ªæµéƒ½æœ‰ä¸€ä¸ªå…³è”çš„<strong>æ–‡ä»¶æ¨¡å¼</strong>ï¼ˆfile modeï¼‰ï¼Œç”¨æ¥æŒ‡å‡ºå¦‚ä½•ä½¿ç”¨æ–‡ä»¶ã€‚</p><div class="table-container"><table><thead><tr><th>æ–‡ä»¶æ¨¡å¼</th><th>æ¨¡å¼å«ä¹‰</th></tr></thead><tbody><tr><td>ios::in</td><td>ä»¥è¯»æ–¹å¼æ‰“å¼€</td></tr><tr><td>ios::out</td><td>ä»¥å†™æ–¹å¼æ‰“å¼€ï¼ˆä»æ–‡ä»¶å¤´å¼€å§‹å†™å…¥ï¼Œä½†ä¸ä¼šåˆ é™¤æ—§å†…å®¹ï¼‰</td></tr><tr><td>ios::app</td><td>æ¯æ¬¡å†™æ“ä½œå‰å‡å®šä½åˆ°æ–‡ä»¶æœ«å°¾ï¼ˆappendï¼‰</td></tr><tr><td>ios::ate</td><td>æ‰“å¼€æ–‡ä»¶åç«‹å³å®šä½åˆ°æ–‡ä»¶æœ«å°¾</td></tr><tr><td>ios::trunc</td><td>æˆªæ–­æ–‡ä»¶ï¼Œè¡¨ç¤ºæ‰“å¼€æ–‡ä»¶æ—¶ï¼Œæ—§çš„å†…å®¹å°†ç«‹å³åˆ é™¤</td></tr><tr><td>ios::binary</td><td>ä»¥äºŒè¿›åˆ¶æ–¹å¼è¿›è¡ŒIO</td></tr></tbody></table></div><h2 id="ä¸‰ã€å¯¹-ASCII-æ–‡ä»¶çš„æ“ä½œ"><a href="#ä¸‰ã€å¯¹-ASCII-æ–‡ä»¶çš„æ“ä½œ" class="headerlink" title="ä¸‰ã€å¯¹ ASCII æ–‡ä»¶çš„æ“ä½œ"></a>ä¸‰ã€å¯¹ ASCII æ–‡ä»¶çš„æ“ä½œ</h2><p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ç±»ä¼¼ cin æˆ–è€… cout çš„æ–¹å¼å°†æ•°æ®è¯»å‡ºæˆ–å†™å…¥æ–‡ä»¶ï¼Œåªä¸è¿‡æ˜¯è¾“å…¥è¾“å‡ºçš„å¯¹è±¡å˜æˆäº†æ–‡ä»¶è€Œå·²ã€‚å½“ç„¶ï¼Œåœ¨å¯¹ç£ç›˜æ–‡ä»¶å®Œæˆè¯»å†™æ“ä½œåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ close æ–¹æ³•æ¥è§£é™¤ç£ç›˜æ–‡ä»¶å’Œæ–‡ä»¶æµå¯¹è±¡çš„å…³è”ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">ofstream <span class="title">outfile</span><span class="params">(<span class="string">"a.txt"</span>, ios::out)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!outfile)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to open the file!"</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™å…¥æ•°å­— 1-5 åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        outfile &lt;&lt; i &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    outfile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">ifstream <span class="title">infile</span><span class="params">(<span class="string">"a.txt"</span>, ios::in)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!infile)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to open the file!"</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> data;  <span class="comment">// ä»æ–‡ä»¶ä¸­è¯»å‡ºæ•°å­— 1-5 </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        infile &gt;&gt; data;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; data &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    infile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åˆ©ç”¨æ–‡ä»¶æµå¯¹è±¡çš„æˆå‘˜å‡½æ•° get, put ç­‰ï¼Œå…¶ç”¨æ³•å°±å’Œ<a href="https://link.zhihu.com/?target=https%3A//blog.csdn.net/seniusen/article/details/83512970">æ ‡å‡†è¾“å…¥è¾“å‡º</a>ä»‹ç»çš„ä¸€æ ·ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">ofstream <span class="title">outfile</span><span class="params">(<span class="string">"a.txt"</span>, ios::out)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!outfile)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to open the file!"</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> i = <span class="string">'1'</span>; i &lt; <span class="string">'6'</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        outfile.<span class="built_in">put</span>(i); <span class="comment">// è¾“å‡ºä¸€ä¸ªå­—ç¬¦åˆ°æ–‡ä»¶ä¸­å»</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    outfile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">ifstream <span class="title">infile</span><span class="params">(<span class="string">"a.txt"</span>, ios::in)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!infile)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to open the file!"</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*char a;</span></span><br><span class="line"><span class="comment">    for (int i = 0; i &lt; 5; i++)</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        infile.get(a); // ä»æ–‡ä»¶ä¸­è¯»å‡º 1 ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment">        cout &lt;&lt; a &lt;&lt; '\n';</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> data[<span class="number">5</span>];</span><br><span class="line">    infile.<span class="built_in">get</span>(data, <span class="number">6</span>); <span class="comment">// ä»æ–‡ä»¶ä¸­è¯»å‡º 5 ä¸ªå­—ç¬¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; data[i] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    infile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å››ã€å¯¹äºŒè¿›åˆ¶æ–‡ä»¶çš„æ“ä½œ"><a href="#å››ã€å¯¹äºŒè¿›åˆ¶æ–‡ä»¶çš„æ“ä½œ" class="headerlink" title="å››ã€å¯¹äºŒè¿›åˆ¶æ–‡ä»¶çš„æ“ä½œ"></a>å››ã€å¯¹äºŒè¿›åˆ¶æ–‡ä»¶çš„æ“ä½œ</h2><p>äºŒè¿›åˆ¶æ–‡ä»¶çš„æ“ä½œéœ€è¦åœ¨æ‰“å¼€æ–‡ä»¶çš„æ—¶å€™æŒ‡å®šæ‰“å¼€æ–¹å¼ä¸º ios::binaryï¼Œå¹¶ä¸”è¿˜å¯ä»¥æŒ‡å®šä¸ºæ—¢èƒ½è¾“å…¥åˆèƒ½è¾“å‡ºçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬é€šè¿‡æˆå‘˜å‡½æ•° read å’Œ write æ¥è¯»å†™äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><ul><li><code>istream&amp; read (char* s, streamsize n);</code></li><li><code>ostream&amp; write (const char* s, streamsize n);</code></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">ofstream <span class="title">outfile</span><span class="params">(<span class="string">"a.txt"</span>, ios::binary)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!outfile)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to open the file!"</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> a[] = &#123;<span class="string">'h'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>, <span class="string">','</span>&#125;;</span><br><span class="line">    <span class="keyword">char</span> b[] = &#123;<span class="string">'s'</span>, <span class="string">'e'</span>, <span class="string">'n'</span>, <span class="string">'i'</span>, <span class="string">'u'</span>, <span class="string">'s'</span>, <span class="string">'e'</span>, <span class="string">'n'</span>, <span class="string">'!'</span>&#125;;</span><br><span class="line"></span><br><span class="line">    outfile.<span class="built_in">write</span>(a, <span class="number">6</span>); <span class="comment">// å°†ä»¥ a ä¸ºé¦–åœ°å€çš„ 6 ä¸ªå­—ç¬¦å†™å…¥æ–‡ä»¶</span></span><br><span class="line">    outfile.<span class="built_in">write</span>(b, <span class="number">9</span>);</span><br><span class="line">    outfile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">ifstream <span class="title">infile</span><span class="params">(<span class="string">"a.txt"</span>, ios::binary)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!infile)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"Failed to open the file!"</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> data[<span class="number">6</span>];</span><br><span class="line">    infile.<span class="built_in">read</span>(data, <span class="number">6</span>);  <span class="comment">// ä»æ–‡ä»¶ä¸­è¯»å‡º 6 ä¸ªå­—ç¬¦åˆ°ä»¥ data ä¸ºé¦–åœ°å€çš„å­—ç¬¦æ•°ç»„ä¸­</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; data[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> datb[<span class="number">6</span>];</span><br><span class="line">    infile.<span class="built_in">read</span>(datb, <span class="number">9</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; datb[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    infile.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç£ç›˜æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶æŒ‡é’ˆï¼Œç”¨æ¥æŒ‡æ˜å½“å‰è¯»å†™çš„ä½ç½®ã€‚æ¯æ¬¡å†™å…¥æˆ–è€…è¯»å‡ºä¸€ä¸ªå­—èŠ‚ï¼ŒæŒ‡é’ˆå°±å‘åç§»åŠ¨ä¸€ä¸ªå­—èŠ‚ã€‚å¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…è®¸å¯¹æŒ‡é’ˆè¿›è¡Œæ§åˆ¶ï¼Œä½¿å®ƒç§»åŠ¨åˆ°æ‰€éœ€çš„ä½ç½®ï¼Œä»¥ä¾¿åœ¨è¯¥ä½ç½®ä¸Šè¿›è¡Œè¯»å†™ã€‚  </p><ul><li><code>ostream&amp; seekp (streampos pos);</code>å°†è¾“å‡ºæ–‡ä»¶ä¸­æŒ‡é’ˆç§»åŠ¨åˆ°æŒ‡å®šçš„ä½ç½®</li><li><code>ostream&amp; seekp (streamoff off, ios_base::seekdir way);</code>ä»¥å‚ç…§ä½ç½®ä¸ºåŸºå‡†å¯¹è¾“å‡ºæ–‡ä»¶ä¸­çš„æŒ‡é’ˆç§»åŠ¨è‹¥å¹²å­—èŠ‚</li><li><code>streampos tellp();</code>è¿”å›è¾“å‡ºæ–‡ä»¶æŒ‡é’ˆå½“å‰çš„ä½ç½®</li><li><code>istream&amp; seekg (streampos pos);</code>å°†è¾“å…¥æ–‡ä»¶ä¸­æŒ‡é’ˆç§»åŠ¨åˆ°æŒ‡å®šçš„ä½ç½®</li><li><code>istream&amp; seekg (streamoff off, ios_base::seekdir way);</code>ä»¥å‚ç…§ä½ç½®ä¸ºåŸºå‡†å¯¹è¾“å…¥æ–‡ä»¶ä¸­çš„æŒ‡é’ˆç§»åŠ¨è‹¥å¹²å­—èŠ‚</li><li><code>streampos tellg();</code>è¿”å›è¾“å…¥æ–‡ä»¶æŒ‡é’ˆå½“å‰çš„ä½ç½®</li></ul><p>å…¶ä¸­ï¼Œå‚ç…§ä½ç½®æœ‰ä»¥ä¸‹å‡ ä¸ªé€‰æ‹©ï¼š</p><ul><li><code>ios_base::beg</code>æ–‡ä»¶å¼€å§‹ä½ç½®</li><li><code>ios_base::cur</code>æ–‡ä»¶å½“å‰ä½ç½®</li><li><code>ios_base::end</code>æ–‡ä»¶æœ«å°¾ä½ç½®</li></ul><p><strong>å‚è€ƒæ–‡ç« ï¼š</strong></p><ol><li><p><a href="https://zhuanlan.zhihu.com/p/49757495" target="_blank" rel="noopener">æ–‡ä»¶æ“ä½œå’Œæ–‡ä»¶æµ</a></p></li><li><p><a href="https://www.cnblogs.com/likebeta/archive/2012/06/16/2551662.html" target="_blank" rel="noopener">C++æ–‡ä»¶æ“ä½œè¯¦è§£</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ä»¶æµ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­çš„æ„é€ å‡½æ•°ä¸ææ„å‡½æ•°</title>
      <link href="/2021/07/15/cpp_constructor_and_destructor/"/>
      <url>/2021/07/15/cpp_constructor_and_destructor/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/mr-wid/archive/2013/02/19/2917911.html" target="_blank" rel="noopener">https://www.cnblogs.com/mr-wid/archive/2013/02/19/2917911.html</a></p></blockquote><h2 id="ä¸€ã€æ„é€ å‡½æ•°ä»‹ç»"><a href="#ä¸€ã€æ„é€ å‡½æ•°ä»‹ç»" class="headerlink" title="ä¸€ã€æ„é€ å‡½æ•°ä»‹ç»"></a>ä¸€ã€æ„é€ å‡½æ•°ä»‹ç»</h2><h3 id="1-æ„é€ å‡½æ•°çš„ä½œç”¨"><a href="#1-æ„é€ å‡½æ•°çš„ä½œç”¨" class="headerlink" title="1.æ„é€ å‡½æ•°çš„ä½œç”¨"></a>1.æ„é€ å‡½æ•°çš„ä½œç”¨</h3><p>æ„é€ å‡½æ•°ä¸»è¦ç”¨æ¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶å®Œæˆå¯¹å¯¹è±¡å±æ€§çš„ä¸€äº›åˆå§‹åŒ–ç­‰æ“ä½œ, å½“åˆ›å»ºå¯¹è±¡æ—¶, å¯¹è±¡ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒçš„æ„é€ å‡½æ•°ã€‚ä¸€èˆ¬æ¥è¯´, æ„é€ å‡½æ•°æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢çš„ä½œç”¨:</p><ul><li>ç»™åˆ›å»ºçš„å¯¹è±¡å»ºç«‹ä¸€ä¸ªæ ‡è¯†ç¬¦;</li><li>ä¸ºå¯¹è±¡æ•°æ®æˆå‘˜å¼€è¾Ÿå†…å­˜ç©ºé—´;</li><li>å®Œæˆå¯¹è±¡æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–ã€‚</li></ul><a id="more"></a><h3 id="2-é»˜è®¤æ„é€ å‡½æ•°"><a href="#2-é»˜è®¤æ„é€ å‡½æ•°" class="headerlink" title="2.é»˜è®¤æ„é€ å‡½æ•°"></a>2.é»˜è®¤æ„é€ å‡½æ•°</h3><p>â€‹    å½“ç”¨æˆ·æ²¡æœ‰æ˜¾å¼çš„å»å®šä¹‰æ„é€ å‡½æ•°æ—¶, ç¼–è¯‘å™¨ä¼šä¸ºç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°, ç§°ä¸º â€œ<strong>é»˜è®¤æ„é€ å‡½æ•°</strong>â€œ, é»˜è®¤æ„é€ å‡½æ•°ä¸èƒ½å®Œæˆå¯¹è±¡æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–, åªèƒ½ç»™å¯¹è±¡åˆ›å»ºä¸€æ ‡è¯†ç¬¦, å¹¶ä¸ºå¯¹è±¡ä¸­çš„æ•°æ®æˆå‘˜å¼€è¾Ÿä¸€å®šçš„å†…å­˜ç©ºé—´ã€‚</p><h3 id="3-æ„é€ å‡½æ•°çš„ç‰¹ç‚¹"><a href="#3-æ„é€ å‡½æ•°çš„ç‰¹ç‚¹" class="headerlink" title="3.æ„é€ å‡½æ•°çš„ç‰¹ç‚¹"></a>3.æ„é€ å‡½æ•°çš„ç‰¹ç‚¹</h3><p>æ— è®ºæ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¿˜æ˜¯é»˜è®¤æ„é€ å‡½æ•°éƒ½ä¸»è¦æœ‰ä»¥ä¸‹ç‰¹ç‚¹:</p><ol><li>åœ¨å¯¹è±¡è¢«åˆ›å»ºæ—¶è‡ªåŠ¨æ‰§è¡Œ;</li><li>æ„é€ å‡½æ•°çš„å‡½æ•°åä¸ç±»åç›¸åŒ;</li><li>æ²¡æœ‰è¿”å›å€¼ç±»å‹ã€ä¹Ÿæ²¡æœ‰è¿”å›å€¼;</li><li>æ„é€ å‡½æ•°ä¸èƒ½è¢«æ˜¾å¼è°ƒç”¨ã€‚</li></ol><h2 id="äºŒã€æ„é€ å‡½æ•°çš„æ˜¾å¼å®šä¹‰"><a href="#äºŒã€æ„é€ å‡½æ•°çš„æ˜¾å¼å®šä¹‰" class="headerlink" title="äºŒã€æ„é€ å‡½æ•°çš„æ˜¾å¼å®šä¹‰"></a>äºŒã€æ„é€ å‡½æ•°çš„æ˜¾å¼å®šä¹‰</h2><p> ç”±äºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›åœ¨å¯¹è±¡åˆ›å»ºæ—¶å°±å®Œæˆä¸€äº›å¯¹æˆå‘˜å±æ€§çš„åˆå§‹åŒ–ç­‰å·¥ä½œ, è€Œé»˜è®¤æ„é€ å‡½æ•°æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚, æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ˜¾å¼å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°æ¥è¦†ç›–æ‰é»˜è®¤æ„é€ å‡½æ•°ä»¥ä¾¿æ¥å®Œæˆå¿…è¦çš„åˆå§‹åŒ–å·¥ä½œ, å½“ç”¨æˆ·è‡ªå®šä¹‰æ„é€ å‡½æ•°åç¼–è¯‘å™¨å°±ä¸ä¼šå†ä¸ºå¯¹è±¡ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ã€‚</p><p>åœ¨æ„é€ å‡½æ•°çš„ç‰¹ç‚¹ä¸­æˆ‘ä»¬çœ‹åˆ°, æ„é€ å‡½æ•°çš„åç§°å¿…é¡»ä¸ç±»åç›¸åŒ, å¹¶ä¸”æ²¡æœ‰è¿”å›å€¼ç±»å‹å’Œè¿”å›å€¼, çœ‹ä¸€ä¸ªæ„é€ å‡½æ•°çš„å®šä¹‰:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Point()     <span class="comment">//å£°æ˜å¹¶å®šä¹‰æ„é€ å‡½æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨...\n"</span>;</span><br><span class="line">            xPos = <span class="number">100</span>;         <span class="comment">//åˆ©ç”¨æ„é€ å‡½æ•°å¯¹æ•°æ®æˆå‘˜ xPos, yPosè¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">            yPos = <span class="number">100</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">printPoint</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"xPos = "</span> &lt;&lt; xPos &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"yPos = "</span> &lt;&lt; yPos &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> xPos;</span><br><span class="line">        <span class="keyword">int</span> yPos;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Point M;    <span class="comment">//åˆ›å»ºå¯¹è±¡M</span></span><br><span class="line">    M.printPoint();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘è¿è¡Œçš„ç»“æœï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨...</span><br><span class="line">xPos = <span class="number">100</span></span><br><span class="line">yPos = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Process</span> returned <span class="number">0</span> (<span class="number">0x0</span>)   execution time : <span class="number">0.453</span> s</span><br><span class="line">Press any key to <span class="keyword">continue</span>.</span><br></pre></td></tr></table></figure><p><strong>ä»£ç è¯´æ˜ï¼š</strong></p><p>åœ¨Pointç±»çš„ public æˆå‘˜ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ„é€ å‡½æ•° <strong>Point()</strong> , å¯ä»¥çœ‹åˆ°è¿™ä¸ªPointæ„é€ å‡½æ•°å¹¶ä¸åƒ printPoint å‡½æ•°æœ‰ä¸ªvoidç±»å‹çš„è¿”å›å€¼, è¿™æ­£æ˜¯æ„é€ å‡½æ•°çš„ä¸€ç‰¹ç‚¹ã€‚åœ¨æ„é€ å‡½æ•°ä¸­, æˆ‘ä»¬è¾“å‡ºäº†ä¸€å¥æç¤ºä¿¡æ¯, â€œè‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨â€¦â€, å¹¶ä¸”å°†å¯¹è±¡ä¸­çš„æ•°æ®æˆå‘˜xPoså’ŒyPosåˆå§‹åŒ–ä¸º100ã€‚</p><p>åœ¨ main å‡½æ•°ä¸­, ä½¿ç”¨ Point ç±»åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ M, å¹¶è°ƒç”¨Må¯¹è±¡çš„æ–¹æ³• printPoint è¾“å‡ºMçš„å±æ€§ä¿¡æ¯, æ ¹æ®è¾“å‡ºç»“æœçœ‹åˆ°, è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨äº†, æ‰€ä»¥ xPoså’ŒyPos çš„å€¼æ­¤æ—¶éƒ½æ˜¯100, è€Œä¸æ˜¯ä¸€ä¸ªéšæœºå€¼ã€‚</p><p>éœ€è¦æç¤ºä¸€ä¸‹çš„æ˜¯, æ„é€ å‡½æ•°çš„å®šä¹‰ä¹Ÿå¯æ”¾åœ¨ç±»å¤–è¿›è¡Œã€‚</p><h2 id="ä¸‰ã€æœ‰å‚æ•°çš„æ„é€ å‡½æ•°"><a href="#ä¸‰ã€æœ‰å‚æ•°çš„æ„é€ å‡½æ•°" class="headerlink" title="ä¸‰ã€æœ‰å‚æ•°çš„æ„é€ å‡½æ•°"></a>ä¸‰ã€æœ‰å‚æ•°çš„æ„é€ å‡½æ•°</h2><p>åœ¨ä¸Šä¸ªç¤ºä¾‹ä¸­å®åœ¨æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å†…ç›´æ¥å¯¹æ•°æ®æˆå‘˜è¿›è¡Œèµ‹å€¼ä»¥è¾¾åˆ°åˆå§‹åŒ–çš„ç›®çš„, ä½†æ˜¯æœ‰æ—¶å€™åœ¨åˆ›å»ºæ—¶æ¯ä¸ªå¯¹è±¡çš„å±æ€§æœ‰å¯èƒ½æ˜¯ä¸åŒçš„, è¿™ç§ç›´æ¥èµ‹å€¼çš„æ–¹å¼æ˜¾ç„¶ä¸åˆé€‚ã€‚ä¸è¿‡æ„é€ å‡½æ•°æ˜¯æ”¯æŒå‘å‡½æ•°ä¸­ä¼ å…¥å‚æ•°çš„, æ‰€ä»¥å¯ä»¥ä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ å‡½æ•°æ¥è§£å†³è¯¥é—®é¢˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Point(<span class="keyword">int</span> x = <span class="number">0</span>, <span class="keyword">int</span> y = <span class="number">0</span>)     <span class="comment">//å¸¦æœ‰é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨...\n"</span>;</span><br><span class="line">            xPos = x;         <span class="comment">//åˆ©ç”¨ä¼ å…¥çš„å‚æ•°å€¼å¯¹æˆå‘˜å±æ€§è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">            yPos = y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">printPoint</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"xPos = "</span> &lt;&lt; xPos &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"yPos = "</span> &lt;&lt; yPos &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> xPos;</span><br><span class="line">        <span class="keyword">int</span> yPos;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Point <span class="title">M</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;    <span class="comment">//åˆ›å»ºå¯¹è±¡Må¹¶åˆå§‹åŒ–xPos,yPosä¸º10å’Œ20</span></span><br><span class="line">    M.printPoint();</span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">N</span><span class="params">(<span class="number">200</span>)</span></span>;       <span class="comment">//åˆ›å»ºå¯¹è±¡Nå¹¶åˆå§‹åŒ–xPosä¸º200, yPosä½¿ç”¨å‚æ•°yçš„é»˜è®¤å€¼0</span></span><br><span class="line">    N.printPoint();</span><br><span class="line"></span><br><span class="line">    Point P;            <span class="comment">//åˆ›å»ºå¯¹è±¡Pä½¿ç”¨æ„é€ å‡½æ•°çš„é»˜è®¤å‚æ•°</span></span><br><span class="line">    P.printPoint();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘è¿è¡Œçš„ç»“æœï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨...</span><br><span class="line">xPos = <span class="number">10</span></span><br><span class="line">yPos = <span class="number">20</span></span><br><span class="line">è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨...</span><br><span class="line">xPos = <span class="number">200</span></span><br><span class="line">yPos = <span class="number">0</span></span><br><span class="line">è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨...</span><br><span class="line">xPos = <span class="number">0</span></span><br><span class="line">yPos = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Process</span> returned <span class="number">0</span> (<span class="number">0x0</span>)   execution time : <span class="number">0.297</span> s</span><br><span class="line">Press any key to <span class="keyword">continue</span>.</span><br></pre></td></tr></table></figure><p><strong>ä»£ç è¯´æ˜ï¼š</strong></p><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­çš„æ„é€ å‡½æ•° <strong>Point(int x = 0, int y = 0)</strong> ä½¿ç”¨äº†å‚æ•°åˆ—è¡¨å¹¶ä¸”å¯¹å‚æ•°è¿›è¡Œäº†é»˜è®¤å‚æ•°è®¾ç½®ä¸º0ã€‚åœ¨ main å‡½æ•°ä¸­å…±åˆ›å»ºäº†ä¸‰ä¸ªå¯¹è±¡ M, N, Pã€‚</p><p>Må¯¹è±¡ä¸ä½¿ç”¨é»˜è®¤å‚æ•°å°†Mçš„åæ ‡å±æ€§åˆå§‹åŒ–10å’Œ20;</p><p>Nå¯¹è±¡ä½¿ç”¨ä¸€ä¸ªé»˜è®¤å‚æ•°y, xPoså±æ€§åˆå§‹åŒ–ä¸º200;</p><p>På¯¹è±¡å®Œå…¨ä½¿ç”¨é»˜è®¤å‚æ•°å°†xPoså’ŒyPosåˆå§‹åŒ–ä¸º0ã€‚</p><h2 id="å››ã€æ„é€ å‡½æ•°çš„é‡è½½"><a href="#å››ã€æ„é€ å‡½æ•°çš„é‡è½½" class="headerlink" title="å››ã€æ„é€ å‡½æ•°çš„é‡è½½"></a>å››ã€æ„é€ å‡½æ•°çš„é‡è½½</h2><p>æ„é€ å‡½æ•°ä¹Ÿæ¯•ç«Ÿæ˜¯å‡½æ•°, ä¸æ™®é€šå‡½æ•°ç›¸åŒ, æ„é€ å‡½æ•°ä¹Ÿæ”¯æŒé‡è½½, éœ€è¦æ³¨æ„çš„æ˜¯, åœ¨è¿›è¡Œæ„é€ å‡½æ•°çš„é‡è½½æ—¶è¦æ³¨æ„é‡è½½å’Œå‚æ•°é»˜è®¤çš„å…³ç³»è¦å¤„ç†å¥½, é¿å…äº§ç”Ÿä»£ç çš„äºŒä¹‰æ€§å¯¼è‡´ç¼–è¯‘å‡ºé”™, ä¾‹å¦‚ä»¥ä¸‹å…·æœ‰äºŒä¹‰æ€§çš„é‡è½½:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Point(<span class="keyword">int</span> x = <span class="number">0</span>, <span class="keyword">int</span> y = <span class="number">0</span>)     <span class="comment">//é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    xPos = x;</span><br><span class="line">    yPos = y;</span><br><span class="line">&#125;</span><br><span class="line">Point()         <span class="comment">//é‡è½½ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    xPos = <span class="number">0</span>;</span><br><span class="line">    yPos = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> åœ¨ä¸Šé¢çš„é‡è½½ä¸­, å½“å°è¯•ç”¨ Point ç±»é‡è½½ä¸€ä¸ªæ— å‚æ•°ä¼ å…¥çš„å¯¹è±¡ M æ—¶, Point M; è¿™æ—¶ç¼–è¯‘å™¨å°±æŠ¥ä¸€æ¡ <strong>error: call of overloaded â€˜Point()â€™ is ambiguous</strong> çš„é”™è¯¯ä¿¡æ¯æ¥å‘Šè¯‰æˆ‘ä»¬è¯´ Point å‡½æ•°å…·æœ‰äºŒä¹‰æ€§, è¿™æ˜¯å› ä¸º <strong>Point(int x = 0, int y = 0)</strong> å…¨éƒ¨ä½¿ç”¨äº†é»˜è®¤å‚æ•°, å³ä½¿æˆ‘ä»¬ä¸ä¼ å…¥å‚æ•°ä¹Ÿä¸ä¼šå‡ºç°é”™è¯¯, ä½†æ˜¯åœ¨é‡è½½æ—¶åˆé‡è½½äº†ä¸€ä¸ªä¸éœ€è¦ä¼ å…¥å‚æ•°äº†æ„é€ å‡½æ•° <strong>Point()</strong>, è¿™æ ·å°±é€ æˆäº†å½“åˆ›å»ºå¯¹è±¡éƒ½ä¸ä¼ å…¥å‚æ•°æ—¶ç¼–è¯‘å™¨å°±ä¸çŸ¥é“åˆ°åº•è¯¥ä½¿ç”¨å“ªä¸ªæ„é€ å‡½æ•°äº†, å°±é€ æˆäº†äºŒä¹‰æ€§ã€‚</p><h2 id="äº”ã€åˆå§‹åŒ–è¡¨è¾¾å¼"><a href="#äº”ã€åˆå§‹åŒ–è¡¨è¾¾å¼" class="headerlink" title="äº”ã€åˆå§‹åŒ–è¡¨è¾¾å¼"></a>äº”ã€åˆå§‹åŒ–è¡¨è¾¾å¼</h2><p>å¯¹è±¡ä¸­çš„ä¸€äº›æ•°æ®æˆå‘˜é™¤äº†åœ¨æ„é€ å‡½æ•°ä½“ä¸­è¿›è¡Œåˆå§‹åŒ–å¤–è¿˜å¯ä»¥é€šè¿‡è°ƒç”¨åˆå§‹åŒ–è¡¨æ¥è¿›è¡Œå®Œæˆ, è¦ä½¿ç”¨åˆå§‹åŒ–è¡¨æ¥å¯¹æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ–æ—¶ä½¿ç”¨ <strong>:</strong> å·è¿›è¡Œè°ƒå‡º, ç¤ºä¾‹å¦‚ä¸‹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Point(<span class="keyword">int</span> x = <span class="number">0</span>, <span class="keyword">int</span> y = <span class="number">0</span>):xPos(x), yPos(y)ã€€ã€€<span class="comment">//ä½¿ç”¨åˆå§‹åŒ–è¡¨</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"è°ƒç”¨åˆå§‹åŒ–è¡¨å¯¹æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ–!\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ Point æ„é€ å‡½æ•°å¤´çš„åé¢, é€šè¿‡å•ä¸ªå†’å· <strong>:</strong> å¼•å‡ºçš„å°±æ˜¯åˆå§‹åŒ–è¡¨, åˆå§‹åŒ–çš„å†…å®¹ä¸º Point ç±»ä¸­intå‹çš„ xPos æˆå‘˜å’Œ yPosæˆå‘˜, å…¶æ•ˆæœå’Œ xPos = x; yPos = y; æ˜¯ç›¸åŒçš„ã€‚</p><p>ä¸åœ¨æ„é€ å‡½æ•°ä½“å†…è¿›è¡Œåˆå§‹åŒ–ä¸åŒçš„æ˜¯, ä½¿ç”¨åˆå§‹åŒ–è¡¨è¿›è¡Œåˆå§‹åŒ–æ˜¯åœ¨æ„é€ å‡½æ•°è¢«è°ƒç”¨ä»¥å‰å°±å®Œæˆçš„ã€‚æ¯ä¸ªæˆå‘˜åœ¨åˆå§‹åŒ–è¡¨ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡, å¹¶ä¸”åˆå§‹åŒ–çš„é¡ºåºä¸æ˜¯å–å†³äºæ•°æ®æˆå‘˜åœ¨åˆå§‹åŒ–è¡¨ä¸­å‡ºç°çš„é¡ºåº, è€Œæ˜¯å–å†³äºåœ¨ç±»ä¸­å£°æ˜çš„é¡ºåºã€‚</p><p>æ­¤å¤–, ä¸€äº›é€šè¿‡æ„é€ å‡½æ•°æ— æ³•è¿›è¡Œåˆå§‹åŒ–çš„æ•°æ®ç±»å‹å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–è¡¨è¿›è¡Œåˆå§‹åŒ–, å¦‚: å¸¸é‡æˆå‘˜å’Œå¼•ç”¨æˆå‘˜, è¿™éƒ¨åˆ†å†…å®¹å°†åœ¨åé¢è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚ä½¿ç”¨åˆå§‹åŒ–è¡¨å¯¹å¯¹è±¡æˆå‘˜è¿›è¡Œåˆå§‹åŒ–çš„å®Œæ•´ç¤ºä¾‹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Point(<span class="keyword">int</span> x = <span class="number">0</span>, <span class="keyword">int</span> y = <span class="number">0</span>):xPos(x), yPos(y)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"è°ƒç”¨åˆå§‹åŒ–è¡¨å¯¹æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ–!\n"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">printPoint</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"xPos = "</span> &lt;&lt; xPos &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"yPos = "</span> &lt;&lt; yPos &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> xPos;</span><br><span class="line">        <span class="keyword">int</span> yPos;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Point <span class="title">M</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;    <span class="comment">//åˆ›å»ºå¯¹è±¡Må¹¶åˆå§‹åŒ–xPos,yPosä¸º10å’Œ20</span></span><br><span class="line">    M.printPoint();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…­ã€ææ„å‡½æ•°"><a href="#å…­ã€ææ„å‡½æ•°" class="headerlink" title="å…­ã€ææ„å‡½æ•°"></a>å…­ã€ææ„å‡½æ•°</h2><p> ä¸æ„é€ å‡½æ•°ç›¸å, ææ„å‡½æ•°æ˜¯åœ¨å¯¹è±¡è¢«æ’¤é”€æ—¶è¢«è‡ªåŠ¨è°ƒç”¨, ç”¨äºå¯¹æˆå‘˜æ’¤é”€æ—¶çš„ä¸€äº›æ¸…ç†å·¥ä½œ, ä¾‹å¦‚åœ¨å‰é¢æåˆ°çš„æ‰‹åŠ¨é‡Šæ”¾ä½¿ç”¨ new æˆ– malloc è¿›è¡Œç”³è¯·çš„å†…å­˜ç©ºé—´ã€‚ææ„å‡½æ•°å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:</p><ul><li>ææ„å‡½æ•°å‡½æ•°åä¸ç±»åç›¸åŒ, ç´§è´´åœ¨åç§°å‰é¢ç”¨æ³¢æµªå· ~ ä¸æ„é€ å‡½æ•°è¿›è¡ŒåŒºåˆ†, ä¾‹å¦‚: <strong>~Point();</strong></li><li>æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›ç±»å‹, ä¹Ÿä¸èƒ½æŒ‡å®šå‚æ•°, å› æ­¤ææ„å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ª, ä¸èƒ½è¢«é‡è½½;</li><li>å½“å¯¹è±¡è¢«æ’¤é”€æ—¶ææ„å‡½æ•°è¢«è‡ªåŠ¨è°ƒç”¨, ä¸æ„é€ å‡½æ•°ä¸åŒçš„æ˜¯, ææ„å‡½æ•°å¯ä»¥è¢«æ˜¾å¼çš„è°ƒç”¨, ä»¥é‡Šæ”¾å¯¹è±¡ä¸­åŠ¨æ€ç”³è¯·çš„å†…å­˜ã€‚</li></ul><p>å½“ç”¨æˆ·æ²¡æœ‰æ˜¾å¼å®šä¹‰ææ„å‡½æ•°æ—¶, ç¼–è¯‘å™¨åŒæ ·ä¼šä¸ºå¯¹è±¡ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ææ„å‡½æ•°, ä½†é»˜è®¤ç”Ÿæˆçš„ææ„å‡½æ•°åªèƒ½é‡Šæ”¾ç±»çš„æ™®é€šæ•°æ®æˆå‘˜æ‰€å ç”¨çš„ç©ºé—´, æ— æ³•é‡Šæ”¾é€šè¿‡ new æˆ– malloc è¿›è¡Œç”³è¯·çš„ç©ºé—´, å› æ­¤æœ‰æ—¶æˆ‘ä»¬éœ€è¦è‡ªå·±æ˜¾å¼çš„å®šä¹‰ææ„å‡½æ•°å¯¹è¿™äº›ç”³è¯·çš„ç©ºé—´è¿›è¡Œé‡Šæ”¾, é¿å…é€ æˆå†…å­˜æ³„éœ²ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Book( <span class="keyword">const</span> <span class="keyword">char</span> *name )      <span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            bookName = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(name)+<span class="number">1</span>];</span><br><span class="line">            <span class="built_in">strcpy</span>(bookName, name);</span><br><span class="line">        &#125;</span><br><span class="line">        ~Book()                 <span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"ææ„å‡½æ•°è¢«è°ƒç”¨...\n"</span>;</span><br><span class="line">            <span class="keyword">delete</span> []bookName;  <span class="comment">//é‡Šæ”¾é€šè¿‡newç”³è¯·çš„ç©ºé—´</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">showName</span><span class="params">()</span> </span>&#123; <span class="built_in">cout</span>&lt;&lt;<span class="string">"Book name: "</span>&lt;&lt; bookName &lt;&lt;<span class="built_in">endl</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *bookName;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Book <span class="title">CPP</span><span class="params">(<span class="string">"C++ Primer"</span>)</span></span>;</span><br><span class="line">    CPP.showName();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘è¿è¡Œçš„ç»“æœï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Book name: C++ Primer</span><br><span class="line">ææ„å‡½æ•°è¢«è°ƒç”¨...</span><br><span class="line"></span><br><span class="line"><span class="built_in">Process</span> returned <span class="number">0</span> (<span class="number">0x0</span>)   execution time : <span class="number">0.266</span> s</span><br><span class="line">Press any key to <span class="keyword">continue</span>.</span><br></pre></td></tr></table></figure><p><strong>ä»£ç è¯´æ˜ï¼š</strong></p><p>ä»£ç ä¸­åˆ›å»ºäº†ä¸€ä¸ª <strong>Book</strong> ç±», ç±»çš„æ•°æ®æˆå‘˜åªæœ‰ä¸€ä¸ªå­—ç¬¦æŒ‡é’ˆå‹çš„ <strong>bookName</strong>, åœ¨åˆ›å»ºå¯¹è±¡æ—¶ç³»ç»Ÿä¼šä¸ºè¯¥æŒ‡é’ˆå˜é‡åˆ†é…å®ƒæ‰€éœ€å†…å­˜, ä½†æ˜¯æ­¤æ—¶è¯¥æŒ‡é’ˆå¹¶æ²¡æœ‰è¢«åˆå§‹åŒ–æ‰€ä»¥ä¸ä¼šå†ä¸ºå…¶åˆ†é…å…¶ä»–å¤šä½™çš„å†…å­˜å•å…ƒã€‚åœ¨æ„é€ å‡½æ•°ä¸­, æˆ‘ä»¬ä½¿ç”¨ new ç”³è¯·äº†ä¸€å— strlen(name)+1 å¤§å°çš„ç©ºé—´, ä¹Ÿå°±æ˜¯æ¯”ä¼ å…¥è¿›æ¥çš„å­—ç¬¦ä¸²é•¿åº¦å¤š1çš„ç©ºé—´, ç›®çš„æ˜¯è®©å­—ç¬¦æŒ‡é’ˆ bookName æŒ‡å‘å®ƒ, è¿™æ ·æ‰èƒ½æ­£å¸¸ä¿å­˜ä¼ å…¥çš„å­—ç¬¦ä¸²ã€‚</p><p>åœ¨ main å‡½æ•°ä¸­ä½¿ç”¨ Book ç±»åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ CPP, åˆå§‹åŒ– bookName å±æ€§ä¸º â€œC++ Primerâ€ã€‚ä»è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°, ææ„å‡½æ•°è¢«è°ƒç”¨äº†, è¿™æ—¶ä½¿ç”¨ new æ‰€ç”³è¯·çš„ç©ºé—´å°±ä¼šè¢«æ­£å¸¸é‡Šæ”¾ã€‚</p><p>è‡ªç„¶çŠ¶æ€ä¸‹å¯¹è±¡ä½•æ—¶å°†è¢«é”€æ¯å–å†³äºå¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸ, ä¾‹å¦‚å…¨å±€å¯¹è±¡æ˜¯åœ¨ç¨‹åºè¿è¡Œç»“æŸæ—¶è¢«é”€æ¯, è‡ªåŠ¨å¯¹è±¡æ˜¯åœ¨ç¦»å¼€å…¶ä½œç”¨åŸŸæ—¶è¢«é”€æ¯ã€‚</p><p>å¦‚æœéœ€è¦æ˜¾å¼è°ƒç”¨ææ„å‡½æ•°æ¥é‡Šæ”¾å¯¹è±¡ä¸­åŠ¨æ€ç”³è¯·çš„ç©ºé—´åªéœ€è¦ä½¿ç”¨ å¯¹è±¡å.ææ„å‡½æ•°å(); å³å¯, ä¾‹å¦‚ä¸Šä¾‹ä¸­è¦æ˜¾å¼è°ƒç”¨ææ„å‡½æ•°æ¥é‡Šæ”¾ bookName æ‰€æŒ‡å‘çš„ç©ºé—´åªè¦:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CPP.~Book();</span><br></pre></td></tr></table></figure><p><strong>å‚è€ƒæ–‡ç« ï¼š</strong></p><p><a href="https://blog.csdn.net/chaipp0607/article/details/71525599" target="_blank" rel="noopener">C++ æ„é€ å‡½æ•°æ€»ç»“</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ„é€ å‡½æ•° </tag>
            
            <tag> ææ„å‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STLä¸­çš„ä¼˜å…ˆçº§é˜Ÿåˆ—å’Œå †é—®é¢˜</title>
      <link href="/2021/06/28/Priority_queue_and_heap/"/>
      <url>/2021/06/28/Priority_queue_and_heap/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>priority_queue æ˜¯å®¹å™¨é€‚é…å™¨ï¼Œå®ƒæä¾›å¸¸æ•°æ—¶é—´çš„ï¼ˆé»˜è®¤ï¼‰æœ€å¤§å…ƒç´ æŸ¥æ‰¾ï¼Œå¯¹æ•°ä»£ä»·çš„æ’å…¥ä¸é‡Šå‡ºã€‚</p><p>å¯ç”¨ç”¨æˆ·æä¾›çš„ <code>Compare</code> æ›´æ”¹é¡ºåºï¼Œä¾‹å¦‚ï¼Œç”¨ std::greater<T> å°†å¯¼è‡´æœ€å°å…ƒç´ ä½œä¸º <a href="https://zh.cppreference.com/w/cpp/container/priority_queue/top" target="_blank" rel="noopener">top()</a> å‡ºç°ã€‚</p><p>ç”¨ <code>priority_queue</code> å·¥ä½œç±»ä¼¼ç®¡ç†æŸäº›éšæœºè®¿é—®å®¹å™¨ä¸­çš„<a href="https://zh.cppreference.com/w/cpp/algorithm/make_heap" target="_blank" rel="noopener">å †</a>ï¼Œä¼˜åŠ¿æ˜¯ä¸å¯èƒ½çªç„¶æŠŠå †éæ³•åŒ–ã€‚</p></blockquote><p>é»˜è®¤æƒ…å†µä¸‹priority_queueå†…éƒ¨æ˜¯ä»¥â€é™åºâ€œæ’åˆ—çš„ï¼Œå³é»˜è®¤<strong>å¤§é¡¶å †</strong>ã€‚</p><a id="more"></a><h2 id="ä¸€ã€ä½¿ç”¨"><a href="#ä¸€ã€ä½¿ç”¨" class="headerlink" title="ä¸€ã€ä½¿ç”¨"></a>ä¸€ã€ä½¿ç”¨</h2><p>å®šä¹‰äºå¤´æ–‡ä»¶ <queue>     </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;     </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">T</span>,    </span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Container</span> = <span class="title">std</span>:</span>:<span class="built_in">vector</span>&lt;T&gt;,     </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Compare</span> = <span class="title">std</span>:</span>:less&lt;<span class="keyword">typename</span> Container::value_type&gt;</span><br><span class="line">&gt; <span class="class"><span class="keyword">class</span> <span class="title">priority_queue</span>;</span></span><br></pre></td></tr></table></figure><p><strong>æ¨¡æ¿å½¢å‚</strong></p><ul><li><strong>T</strong> - å­˜å‚¨çš„å…ƒç´ ç±»å‹ã€‚è‹¥ <code>T</code> ä¸ <code>Container::value_type</code> ä¸æ˜¯åŒä¸€ç±»å‹åˆ™è¡Œä¸ºæœªå®šä¹‰ã€‚ (C++17 èµ·)</li><li><strong>Container </strong>- ç”¨äºå­˜å‚¨å…ƒç´ çš„åº•å±‚å®¹å™¨ç±»å‹ã€‚å®¹å™¨å¿…é¡»æ»¡è¶³<a href="https://zh.cppreference.com/w/cpp/named_req/SequenceContainer" target="_blank" rel="noopener"><em>åºåˆ—å®¹å™¨</em> <em>(SequenceContainer)</em> </a>çš„è¦æ±‚ï¼Œè€Œå…¶è¿­ä»£å™¨å¿…é¡»æ»¡è¶³<a href="https://zh.cppreference.com/w/cpp/named_req/RandomAccessIterator" target="_blank" rel="noopener"><em>é—ç•™éšæœºè®¿é—®è¿­ä»£å™¨</em> <em>(LegacyRandomAccessIterator)</em> </a>çš„è¦æ±‚ã€‚å¦å¤–ï¼Œå®ƒå¿…é¡»æä¾›æ‹¥æœ‰é€šå¸¸è¯­ä¹‰çš„ä¸‹åˆ—å‡½æ•°ï¼š<code>front()``push_back()``pop_back()</code>æ ‡å‡†å®¹å™¨ <a href="https://zh.cppreference.com/w/cpp/container/vector" target="_blank" rel="noopener">std::vector</a> å’Œ <a href="https://zh.cppreference.com/w/cpp/container/deque" target="_blank" rel="noopener">std::deque</a> æ»¡è¶³è¿™äº›è¦æ±‚ã€‚</li><li><strong>Compare</strong> - æä¾›ä¸¥æ ¼å¼±åºçš„<a href="https://zh.cppreference.com/w/cpp/named_req/Compare" target="_blank" rel="noopener"><em>æ¯”è¾ƒ</em> <em>(Compare)</em> </a>ç±»å‹ã€‚</li></ul><p><strong>å †å®ç°</strong></p><p><strong>å¤§é¡¶å †</strong>ï¼špriority_queueé»˜è®¤å®ç°å¤§é¡¶å †ï¼Œä¹Ÿå¯å°†priority_queueæ¨¡æ¿ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¾ç¤ºè®¾ç½® std::less<T>ã€‚</p><p><strong>å°é¡¶å †</strong>ï¼špriority_queueæ¨¡æ¿ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¾ç¤ºè®¾ç½® std::greater<T>ï¼Œå®ç°å°é¡¶å †ã€‚</p><h2 id="äºŒã€priority-queueè‡ªå®šä¹‰æ’åº"><a href="#äºŒã€priority-queueè‡ªå®šä¹‰æ’åº" class="headerlink" title="äºŒã€priority_queueè‡ªå®šä¹‰æ’åº"></a>äºŒã€priority_queueè‡ªå®šä¹‰æ’åº</h2><p>å‰é¢è¯´åˆ° priority_queue å®¹å™¨é€‚é…å™¨æ—¶ï¼Œè¿˜é—ç•™ä¸€ä¸ªé—®é¢˜ï¼Œå³å½“ <function> å¤´æ–‡ä»¶æä¾›çš„æ’åºæ–¹å¼ï¼ˆstd::less<T> å’Œ std::greater<T>ï¼‰ä¸å†é€‚ç”¨æ—¶ï¼Œå¦‚ä½•è‡ªå®šä¹‰ä¸€ä¸ªæ»¡è¶³éœ€æ±‚çš„æ’åºè§„åˆ™ã€‚</p><p>é¦–å…ˆæ¥çœ‹çœ‹ std::less<T> å’Œ std::greater<T> å„è‡ªçš„åº•å±‚å®ç°ã€‚å®é™…ä¸Šï¼Œ<function> å¤´æ–‡ä»¶ä¸­çš„ std::less<T> å’Œ std::greater<T> ï¼Œå„è‡ªåº•å±‚å®ç°é‡‡ç”¨çš„éƒ½æ˜¯å‡½æ•°å¯¹è±¡çš„æ–¹å¼ã€‚</p><p>æ¯”å¦‚ï¼Œstd::less<T> çš„åº•å±‚å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">less</span> &#123;</span></span><br><span class="line">    <span class="comment">//å®šä¹‰æ–°çš„æ’åºè§„åˆ™</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> T &amp;_lhs, <span class="keyword">const</span> T &amp;_rhs)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _lhs &lt; _rhs;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>std::greater<T> çš„åº•å±‚å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">greater</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> T &amp;_lhs, <span class="keyword">const</span> T &amp;_rhs)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _lhs &gt; _rhs;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œstd::less<T> å’Œ std::greater<T> åº•å±‚å®ç°çš„å”¯ä¸€ä¸åŒåœ¨äºï¼Œå‰è€…ä½¿ç”¨ &lt; å·å®ç°ä»å¤§åˆ°å°æ’åºï¼Œåè€…ä½¿ç”¨ &gt; å·å®ç°ä»å°åˆ°å¤§æ’åºã€‚</p><p>ä»¿ç…§ std::less<T> å’Œ std::greater<T>  çš„åº•å±‚å®ç°ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œç„¶åä½œä¸ºå‚æ•°ä¼ å…¥priority_queueä½¿ç”¨ã€‚</p><p><strong>å‚è€ƒæ–‡ç« </strong>ï¼š</p><p><a href="https://zh.cppreference.com/w/cpp/container/priority_queue" target="_blank" rel="noopener">cppreference::priority_queue</a></p><p><a href="http://c.biancheng.net/view/6996.html" target="_blank" rel="noopener">STL priority_queueè‡ªå®šä¹‰æ’åºå®ç°æ–¹æ³•è¯¦è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å † </tag>
            
            <tag> STL </tag>
            
            <tag> priority_queue </tag>
            
            <tag> ä¼˜å…ˆçº§é˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ±‚è§£æŸä¸€èŒƒå›´å†…çš„å…¨éƒ¨ç´ æ•°</title>
      <link href="/2021/06/27/Calculate_prime_numbers/"/>
      <url>/2021/06/27/Calculate_prime_numbers/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><strong>ç´ æ•°</strong>åˆç§°è´¨æ•°ï¼Œæ˜¯æŒ‡å¤§äº1çš„<a href="https://baike.baidu.com/item/è‡ªç„¶æ•°" target="_blank" rel="noopener">è‡ªç„¶æ•°</a>ä¸­ï¼Œé™¤äº†1å’Œå®ƒæœ¬èº«ï¼Œä¸èƒ½è¢«å…¶å®ƒè‡ªç„¶æ•°æ•´é™¤çš„æ•°å­—ã€‚1è¢«å®šä¹‰ä¸ºéç´ æ•°ã€‚å¤§äº1çš„è‡ªç„¶æ•°ï¼Œå¦‚æœä¸æ˜¯ç´ æ•°åˆ™ä¸º<strong>åˆæ•°</strong>ã€‚<strong>2æ˜¯æœ€å°çš„ç´ æ•°</strong>ã€‚</p></blockquote><p><strong>é—®é¢˜</strong>ï¼šç»™å®šä¸€ä¸ªèŒƒå›´ï¼Œæ±‚è§£è¿™ä¸ªèŒƒå›´å†…çš„å…¨éƒ¨ç´ æ•°ã€‚</p><a id="more"></a><h2 id="ä¸€ã€è¯•é™¤æ³•"><a href="#ä¸€ã€è¯•é™¤æ³•" class="headerlink" title="ä¸€ã€è¯•é™¤æ³•"></a>ä¸€ã€è¯•é™¤æ³•</h2><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šä¸ºäº†åˆ¤æ–­è‡ªç„¶æ•°xæ˜¯å¦æ˜¯ç´ æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä»2å¼€å§‹ï¼Œåˆ†åˆ«é™¤ä»¥ä¸å¤§äºxçš„æ¯ä¸ªæ•°ï¼Œå¦‚æœå­˜åœ¨èƒ½æ•´é™¤xçš„æ•°ï¼Œåˆ™xä¸æ˜¯ç´ æ•°ã€‚</p><p><strong>ç®€å•å®ç°</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ç´ æ•°*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_prime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (n%i == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æ–¹æ³•ä¸€ è¯•é™¤æ³•*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime_number1</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prime, <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (is_prime(i))</span><br><span class="line">&#123;</span><br><span class="line">prime.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n*sqrt(n))</p><h2 id="äºŒã€åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"><a href="#äºŒã€åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•" class="headerlink" title="äºŒã€åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"></a>äºŒã€åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•</h2><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼š<strong>åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•ï¼ˆsieve of Eratosthenes ï¼‰</strong> æ˜¯å¤å¸Œè…Šæ•°å­¦å®¶<a href="https://zh.wikipedia.org/wiki/åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼" target="_blank" rel="noopener">åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼</a>å‘æ˜çš„è®¡ç®—ç´ æ•°çš„æ–¹æ³•ã€‚å¯¹äºæ±‚è§£ä¸å¤§äº <strong>n</strong> çš„æ‰€æœ‰ç´ æ•°ï¼Œæˆ‘ä»¬å…ˆæ‰¾å‡º <strong>sqrt(n)</strong> å†…çš„æ‰€æœ‰ç´ æ•° <strong>p<sub>1</sub>, p<sub>2</sub>, p<sub>3</sub>, , , p<sub>k-1</sub>, p<sub>k</sub></strong>ï¼Œå…¶ä¸­ <strong>k=floor(sqrt(n))</strong> (floorè¡¨ç¤ºå‘ä¸‹å–æ•´)ï¼Œä¾æ¬¡å‰”é™¤ <strong>p<sub>i</sub> (1&lt;=i&lt;=k) </strong>çš„å€æ•°ï¼Œå‰©ä¸‹çš„æ‰€æœ‰æ•°éƒ½æ˜¯ç´ æ•°ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ¥è‡ªç»´åŸºç™¾ç§‘çš„ä¾‹å­ï¼Œå¦‚æœæ±‚25å†…çš„æ‰€æœ‰ç´ æ•°</p><p>1.åˆ—å‡ºå¤§äºç­‰äº2å°äºç­‰äº25çš„æ‰€æœ‰æ•°ç»„æˆçš„åºåˆ—ï¼š</p><ul><li>2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</li></ul><p>2.å»æ‰ç´ æ•°2çš„æ‰€æœ‰å€æ•°ï¼š</p><ul><li>2 3 5 7 9 11 13 15 17 19 21 23 25</li></ul><p>3.å»æ‰ç´ æ•°3çš„æ‰€æœ‰å€æ•°ï¼š</p><ul><li>2 3 5 7 11 13 17 19 23 25</li></ul><p>4.å»æ‰ç´ æ•°5çš„æ‰€æœ‰å€æ•°ï¼š</p><ul><li>2 3 7 11 17 19 23</li></ul><p>5.å› ä¸º <strong>5=sqrt(25)</strong> ï¼Œæ‰€ä»¥ç®—æ³•ç»“æŸã€‚å‰©ä¸‹çš„æ‰€æœ‰æ•°éƒ½æ˜¯ç´ æ•°ã€‚</p><p><strong>ç®€å•å®ç°</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ–¹æ³•ä¸‰ åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime_number3</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prime, <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; is_prime(n + <span class="number">1</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (is_prime[i])</span><br><span class="line">&#123;</span><br><span class="line">prime.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i * i; j &lt;= n; j += i)</span><br><span class="line">&#123;</span><br><span class="line">is_prime[j] = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nlogn)</p><h2 id="ä¸‰ã€æ¬§æ‹‰ç­›æ³•"><a href="#ä¸‰ã€æ¬§æ‹‰ç­›æ³•" class="headerlink" title="ä¸‰ã€æ¬§æ‹‰ç­›æ³•"></a>ä¸‰ã€æ¬§æ‹‰ç­›æ³•</h2><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šå›é¡¾ä¸Šæ–‡çš„åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯ä¾æ¬¡å‰”é™¤ç´ æ•°çš„å€æ•°ã€‚è¿™é‡Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°æ­¤ç®—æ³•å­˜åœ¨çš„ç¼ºç‚¹ï¼šå¯¹äºä¸¤ä¸ªç´ æ•°çš„å…¬å€æ•°ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¿›è¡Œå¤šæ¬¡å‰”é™¤ã€‚äºæ˜¯ä¾¿å‡ºç°äº†æ¬§æ‹‰ç­›æ³•ï¼Œæ ¸å¿ƒæ€æƒ³ä¾¿æ˜¯å¯¹äºä¸€ä¸ªæ²¡è¢«ç­›é€‰è¿‡çš„æ•°æ¥è¯´ï¼Œå®ƒåªéœ€è¦è¢«ç¬¬ä¸€ä¸ªæ•´é™¤å®ƒçš„ç´ æ•°ç­›æ‰å°±è¡Œã€‚</p><p><strong>ç®€å•å®ç°</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ–¹æ³•å›› æ¬§æ‹‰ç­›æ³•*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime_number4</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prime, <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; is_prime(n + <span class="number">1</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (is_prime[i])</span><br><span class="line">&#123;</span><br><span class="line">prime.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; prime.<span class="built_in">size</span>() &amp;&amp; i*prime[j] &lt;= n; j++)</span><br><span class="line">&#123;</span><br><span class="line">is_prime[i*prime[j]] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (i%prime[j] == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)</p><p><strong>å‚è€ƒæ–‡ç« </strong>ï¼š<a href="https://www.jianshu.com/p/7867517826e7" target="_blank" rel="noopener">https://www.jianshu.com/p/7867517826e7</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> LeetCodeåˆ·é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç´ æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»å…¸ TopK é—®é¢˜</title>
      <link href="/2021/06/25/Classic_TopK_problem/"/>
      <url>/2021/06/25/Classic_TopK_problem/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>ä»€ä¹ˆæ˜¯ Top K é—®é¢˜ï¼Ÿç®€å•æ¥è¯´å°±æ˜¯åœ¨ä¸€å †æ•°æ®é‡Œé¢æ‰¾åˆ°å‰ K å¤§ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯å‰ K å°ï¼‰çš„æ•°ã€‚</p><p>è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯ååˆ†ç»å…¸çš„ç®—æ³•é—®é¢˜ï¼Œä¸è®ºæ˜¯é¢è¯•ä¸­è¿˜æ˜¯å®é™…å¼€å‘ä¸­ï¼Œéƒ½éå¸¸å…¸å‹ã€‚è€Œè¿™ä¸ªé—®é¢˜å…¶å®ä¹Ÿæœ‰å¾ˆå¤šç§åšæ³•ï¼Œä½ çœŸçš„éƒ½æ‡‚äº†ä¹ˆï¼Ÿ</p></blockquote><p>ç»å…¸çš„ Top K é—®é¢˜æœ‰ï¼šæœ€å¤§ï¼ˆå°ï¼‰ K ä¸ªæ•°ã€å‰ K ä¸ªé«˜é¢‘å…ƒç´ ã€ç¬¬ K ä¸ªæœ€å¤§ï¼ˆå°ï¼‰å…ƒç´ ï¼Œä¸‹é¢ä¸¾ä¾‹å­è¯´æ˜ï¼š</p><p><strong>æ —å­(ä»¥ä¸‹æ‰€æœ‰æ–¹æ³•å‡ä½¿ç”¨è¿™ä¸ªæ —å­)</strong>ï¼š</p><p>ä» data[1, 12]={5,3,7,1,8,2,9,4,7,2,6,6} è¿™n=12ä¸ªæ•°ä¸­ï¼Œæ‰¾å‡ºæœ€å¤§çš„k=5ä¸ªã€‚</p><a id="more"></a><h2 id="ä¸€ã€æ’åº"><a href="#ä¸€ã€æ’åº" class="headerlink" title="ä¸€ã€æ’åº"></a>ä¸€ã€æ’åº</h2><p>æœ€ç®€å•ä¹Ÿæ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•å°±æ˜¯æ’åºï¼Œåˆ©ç”¨å¿«æ’å°†æ•°ç»„æ’åºï¼Œç„¶åå–å‰kä¸ªã€‚</p><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nlogn)</p><p><strong>åˆ†æ</strong>ï¼šæ˜æ˜åªéœ€è¦TopKï¼Œå´å°†å…¨å±€éƒ½æ’åºäº†ï¼Œè¿™ä¹Ÿæ˜¯è¿™ä¸ªæ–¹æ³•å¤æ‚åº¦éå¸¸é«˜çš„åŸå› ã€‚é‚£èƒ½ä¸èƒ½ä¸å…¨å±€æ’åºï¼Œè€Œåªå±€éƒ¨æ’åºå‘¢ï¼Ÿè¿™å°±å¼•å‡ºäº†ç¬¬äºŒä¸ªä¼˜åŒ–æ–¹æ³•ã€‚</p><h2 id="äºŒã€å±€éƒ¨æ’åº"><a href="#äºŒã€å±€éƒ¨æ’åº" class="headerlink" title="äºŒã€å±€éƒ¨æ’åº"></a>äºŒã€å±€éƒ¨æ’åº</h2><p>ä¸å†å…¨å±€æ’åºï¼Œåªå¯¹æœ€å¤§çš„kä¸ªæ’åºã€‚</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/local_sort.png" alt=""></p><p>å†’æ³¡æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„æ’åºæ–¹æ³•ï¼Œæ¯å†’ä¸€ä¸ªæ³¡ï¼Œæ‰¾å‡ºæœ€å¤§å€¼ï¼Œå†’kä¸ªæ³¡ï¼Œå°±å¾—åˆ°TopKã€‚</p><p><strong>ç®€å•å®ç°</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ–¹æ³•ä¸€ å±€éƒ¨å†’æ³¡æ’åº*/</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; local_bubble_sort(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;data, <span class="keyword">int</span> k)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; data.<span class="built_in">size</span>(); ++j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (data[i] &lt; data[j])</span><br><span class="line">&#123;</span><br><span class="line">swap(data[i], data[j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">res = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(data.<span class="built_in">begin</span>(), data.<span class="built_in">begin</span>() + k);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n*k)</p><p><strong>åˆ†æ</strong>ï¼šå†’æ³¡ï¼Œå°†å…¨å±€æ’åºä¼˜åŒ–ä¸ºäº†å±€éƒ¨æ’åºï¼ŒéTopKçš„å…ƒç´ æ˜¯ä¸éœ€è¦æ’åºçš„ï¼ŒèŠ‚çœäº†è®¡ç®—èµ„æºã€‚ä¸å°‘æœ‹å‹ä¼šæƒ³åˆ°ï¼Œéœ€æ±‚æ˜¯TopKï¼Œæ˜¯ä¸æ˜¯è¿™æœ€å¤§çš„kä¸ªå…ƒç´ ä¹Ÿä¸éœ€è¦æ’åºå‘¢ï¼Ÿè¿™å°±å¼•å‡ºäº†ç¬¬ä¸‰ä¸ªä¼˜åŒ–æ–¹æ³•ã€‚</p><h2 id="ä¸‰ã€å †"><a href="#ä¸‰ã€å †" class="headerlink" title="ä¸‰ã€å †"></a>ä¸‰ã€å †</h2><p><strong>æ€è·¯</strong>ï¼šåªæ‰¾åˆ°TopKï¼Œä¸æ’åºTopK</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/heap_1.png" alt=""></p><p>å…ˆç”¨å‰kä¸ªå…ƒç´ ç”Ÿæˆä¸€ä¸ªå°é¡¶å †ï¼Œè¿™ä¸ªå°é¡¶å †ç”¨äºå­˜å‚¨ï¼Œå½“å‰æœ€å¤§çš„kä¸ªå…ƒç´ ã€‚</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/heap_2.png" alt=""></p><p>æ¥ç€ï¼Œä»ç¬¬k+1ä¸ªå…ƒç´ å¼€å§‹æ‰«æï¼Œå’Œå †é¡¶ï¼ˆå †ä¸­æœ€å°çš„å…ƒç´ ï¼‰æ¯”è¾ƒï¼Œå¦‚æœè¢«æ‰«æçš„å…ƒç´ å¤§äºå †é¡¶ï¼Œåˆ™æ›¿æ¢å †é¡¶çš„å…ƒç´ ï¼Œå¹¶è°ƒæ•´å †ï¼Œä»¥ä¿è¯å †å†…çš„kä¸ªå…ƒç´ ï¼Œæ€»æ˜¯å½“å‰æœ€å¤§çš„kä¸ªå…ƒç´ ã€‚</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/heap_3.png" alt=""></p><p>ç›´åˆ°ï¼Œæ‰«æå®Œæ‰€æœ‰n-kä¸ªå…ƒç´ ï¼Œæœ€ç»ˆå †ä¸­çš„kä¸ªå…ƒç´ ï¼Œå°±æ˜¯æ‰€æ±‚çš„TopKã€‚</p><p><strong>ç®€å•å®ç°</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ–¹æ³•äºŒ å †*/</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; local_heap_sort(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;data, <span class="keyword">int</span> k)</span><br><span class="line">&#123;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt;&gt; heap;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> num : data)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (heap.<span class="built_in">size</span>() == k)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!heap.empty() &amp;&amp; heap.top() &lt; num)</span><br><span class="line">&#123;</span><br><span class="line">heap.pop();</span><br><span class="line">heap.emplace(num);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">heap.emplace(num);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (!heap.empty())</span><br><span class="line">&#123;</span><br><span class="line">res.emplace_back(heap.top());</span><br><span class="line">heap.pop();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n*log(k))</p><p><strong>è§£é‡Š</strong>ï¼šnä¸ªå…ƒç´ æ‰«ä¸€éï¼Œæœ€åçš„æƒ…å†µä¸‹ï¼Œæ¯æ’å…¥ä¸€ä¸ªå…ƒç´ éƒ½è¦è¿›è¡Œå †è°ƒæ•´ï¼Œè°ƒæ•´æ—¶é—´å¤æ‚åº¦ä¸ºå †çš„é«˜åº¦ï¼Œå³lg(k)ï¼Œæ•…æ•´ä½“æ—¶é—´å¤æ‚åº¦æ˜¯n*lg(k)ã€‚</p><p><strong>åˆ†æ</strong>ï¼šå †ï¼Œå°†å†’æ³¡çš„TopKæ’åºä¼˜åŒ–ä¸ºäº†TopKä¸æ’åºï¼ŒèŠ‚çœäº†è®¡ç®—èµ„æºã€‚å †ï¼Œæ˜¯æ±‚TopKçš„ç»å…¸ç®—æ³•ï¼Œé‚£è¿˜æœ‰æ²¡æœ‰æ›´å¿«çš„æ–¹æ¡ˆå‘¢ï¼Ÿ</p><h2 id="å››ã€éšæœºé€‰æ‹©"><a href="#å››ã€éšæœºé€‰æ‹©" class="headerlink" title="å››ã€éšæœºé€‰æ‹©"></a>å››ã€éšæœºé€‰æ‹©</h2><p>éšæœºé€‰æ‹©ç®—åœ¨æ˜¯ã€Šç®—æ³•å¯¼è®ºã€‹ä¸­ä¸€ä¸ªç»å…¸çš„ç®—æ³•ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæ˜¯ä¸€ä¸ªçº¿æ€§å¤æ‚åº¦çš„æ–¹æ³•ã€‚</p><p>è¿™ä¸ªæ–¹æ³•å¹¶ä¸æ˜¯æ‰€æœ‰åŒå­¦éƒ½çŸ¥é“ï¼Œä¸ºäº†å°†ç®—æ³•è®²é€ï¼Œå…ˆèŠä¸€äº›å‰åºçŸ¥è¯†ï¼Œä¸€ä¸ªæ‰€æœ‰ç¨‹åºå‘˜éƒ½åº”è¯¥çƒ‚ç†Ÿäºèƒ¸çš„ç»å…¸ç®—æ³•ï¼š<strong>å¿«é€Ÿæ’åº</strong>ã€‚</p><p><strong>å…¶ä¼ªä»£ç æ˜¯</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span>[]arr, <span class="keyword">int</span> low, inthigh)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(low== high) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = partition(arr, low, high);</span><br><span class="line">quick_sort(arr, low, i<span class="number">-1</span>);</span><br><span class="line">quick_sort(arr, i+<span class="number">1</span>, high);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶æ ¸å¿ƒç®—æ³•æ€æƒ³æ˜¯ï¼š<strong>åˆ†æ²»æ³•</strong>ã€‚</p><p><strong>åˆ†æ²»æ³•ï¼ˆDivide&amp;Conquerï¼‰</strong>ï¼ŒæŠŠä¸€ä¸ªå¤§çš„é—®é¢˜ï¼Œè½¬åŒ–ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜ï¼ˆDivideï¼‰ï¼Œæ¯ä¸ªå­é—®é¢˜â€œéƒ½â€è§£å†³ï¼Œå¤§çš„é—®é¢˜ä¾¿éšä¹‹è§£å†³ï¼ˆConquerï¼‰ã€‚è¿™é‡Œçš„å…³é”®è¯æ˜¯â€œéƒ½â€ã€‚ä»ä¼ªä»£ç é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå¿«é€Ÿæ’åºé€’å½’æ—¶ï¼Œå…ˆé€šè¿‡partitionæŠŠæ•°ç»„åˆ†éš”ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸¤ä¸ªéƒ¨åˆ†â€œéƒ½â€è¦å†æ¬¡é€’å½’ã€‚</p><p>åˆ†æ²»æ³•æœ‰ä¸€ä¸ªç‰¹ä¾‹ï¼Œå«<strong>å‡æ²»æ³•</strong>ã€‚ </p><p><strong>å‡æ²»æ³•ï¼ˆReduce&amp;Conquerï¼‰</strong>ï¼ŒæŠŠä¸€ä¸ªå¤§çš„é—®é¢˜ï¼Œè½¬åŒ–ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜ï¼ˆReduceï¼‰ï¼Œè¿™äº›å­é—®é¢˜ä¸­â€œåªâ€è§£å†³ä¸€ä¸ªï¼Œå¤§çš„é—®é¢˜ä¾¿éšä¹‹è§£å†³ï¼ˆConquerï¼‰ã€‚è¿™é‡Œçš„å…³é”®è¯æ˜¯â€œåªâ€ã€‚</p><p><strong>äºŒåˆ†æŸ¥æ‰¾binary_search</strong>ï¼ŒBSï¼Œæ˜¯ä¸€ä¸ªå…¸å‹çš„è¿ç”¨å‡æ²»æ³•æ€æƒ³çš„ç®—æ³•ã€‚</p><p><strong>å…¶ä¼ªä»£ç æ˜¯</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BS</span><span class="params">(<span class="keyword">int</span>[]arr, <span class="keyword">int</span> low, inthigh, <span class="keyword">int</span> target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(low&gt; high) </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">mid= (low+high)/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span>(arr[mid]== target) </span><br><span class="line">        <span class="keyword">return</span> mid;</span><br><span class="line"><span class="keyword">if</span>(arr[mid]&gt; target)</span><br><span class="line"><span class="keyword">return</span> BS(arr, low, mid<span class="number">-1</span>, target);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> BS(arr, mid+<span class="number">1</span>, high, target);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä¼ªä»£ç å¯ä»¥çœ‹åˆ°ï¼ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œä¸€ä¸ªå¤§çš„é—®é¢˜ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªmidå…ƒç´ ï¼Œåˆ†æˆå·¦åŠåŒºï¼Œå³åŠåŒºä¸¤ä¸ªå­é—®é¢˜ã€‚è€Œå·¦å³ä¸¤ä¸ªå­é—®é¢˜ï¼Œåªéœ€è¦è§£å†³å…¶ä¸­ä¸€ä¸ªï¼Œé€’å½’ä¸€æ¬¡ï¼Œå°±èƒ½å¤Ÿè§£å†³äºŒåˆ†æŸ¥æ‰¾å…¨å±€çš„é—®é¢˜ã€‚</p><p>é€šè¿‡åˆ†æ²»æ³•ä¸å‡æ²»æ³•çš„æè¿°ï¼Œå¯ä»¥å‘ç°ï¼Œåˆ†æ²»æ³•çš„å¤æ‚åº¦ä¸€èˆ¬æ¥è¯´æ˜¯å¤§äºå‡æ²»æ³•çš„ï¼š</p><p>å¿«é€Ÿæ’åºï¼šO(n*lg(n))</p><p>äºŒåˆ†æŸ¥æ‰¾ï¼šO(lg(n))</p><p>è¯é¢˜æ”¶å›æ¥ï¼Œ<strong>å¿«é€Ÿæ’åº</strong>çš„æ ¸å¿ƒæ˜¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = partition(arr, low, high);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªpartitionæ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ</p><p>é¡¾åæ€ä¹‰ï¼Œpartitionä¼šæŠŠæ•´ä½“åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚</p><p>æ›´å…·ä½“çš„ï¼Œä¼šç”¨æ•°ç»„ arrä¸­ çš„ä¸€ä¸ªå…ƒç´ ï¼ˆé»˜è®¤æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´  t=arr[low] ï¼‰ä¸ºåˆ’åˆ†ä¾æ®ï¼Œå°†æ•°æ® arr[low, high] åˆ’åˆ†æˆå·¦å³ä¸¤ä¸ªå­æ•°ç»„ï¼š</p><ul><li><p>å·¦åŠéƒ¨åˆ†ï¼Œéƒ½æ¯” t å¤§</p></li><li><p>å³åŠéƒ¨åˆ†ï¼Œéƒ½æ¯” t å°</p></li><li><p>ä¸­é—´ä½ç½® i æ˜¯åˆ’åˆ†å…ƒç´ </p></li></ul><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/heap_4.png" alt=""></p><p>ä»¥ä¸Šè¿°TopKçš„æ•°ç»„ä¸ºä¾‹ï¼Œå…ˆç”¨ç¬¬ä¸€ä¸ªå…ƒç´  t=arr[low] ä¸ºåˆ’åˆ†ä¾æ®ï¼Œæ‰«æä¸€éæ•°ç»„ï¼ŒæŠŠæ•°ç»„åˆ†æˆäº†ä¸¤ä¸ªåŠåŒºï¼š</p><ul><li>å·¦åŠåŒºæ¯” t å¤§</li><li>å³åŠåŒºæ¯” t å°</li><li>ä¸­é—´æ˜¯ t</li></ul><p>partitionè¿”å›çš„æ˜¯ t æœ€ç»ˆçš„ä½ç½® i ã€‚</p><p>å¾ˆå®¹æ˜“çŸ¥é“ï¼Œpartitionçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚</p><p>è§£é‡Šï¼šæŠŠæ•´ä¸ªæ•°ç»„æ‰«ä¸€éï¼Œæ¯” t å¤§çš„æ”¾å·¦è¾¹ï¼Œæ¯” t å°çš„æ”¾å³è¾¹ï¼Œæœ€å t æ”¾åœ¨ä¸­é—´ N[i]ã€‚</p><p>partitionå’ŒTopKé—®é¢˜æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>TopKæ˜¯å¸Œæœ›æ±‚å‡º arr[1,n] ä¸­æœ€å¤§çš„ k ä¸ªæ•°ï¼Œé‚£å¦‚æœæ‰¾åˆ°äº†ç¬¬ k å¤§çš„æ•°ï¼Œåšä¸€æ¬¡partitionï¼Œä¸å°±ä¸€æ¬¡æ€§æ‰¾åˆ°æœ€å¤§çš„ k ä¸ªæ•°äº†ä¹ˆï¼Ÿ</p><p>è§£é‡Šï¼šå³partitionåå·¦åŠåŒºçš„ k ä¸ªæ•°ã€‚</p><p>é—®é¢˜å˜æˆäº†arr[1, n]ä¸­æ‰¾åˆ°ç¬¬ k å¤§çš„æ•°ã€‚</p><p>å†å›è¿‡å¤´æ¥çœ‹çœ‹ç¬¬ä¸€æ¬¡partitionï¼Œåˆ’åˆ†ä¹‹åï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = partition(arr, <span class="number">1</span>, n);</span><br></pre></td></tr></table></figure><p>å¦‚æœ i å¤§äº kï¼Œåˆ™è¯´æ˜ arr[i] å·¦è¾¹çš„å…ƒç´ éƒ½å¤§äº kï¼Œäºæ˜¯åªé€’å½’ arr[1, i-1] é‡Œç¬¬ k å¤§çš„å…ƒç´ å³å¯ï¼›</p><p>å¦‚æœ i å°äº kï¼Œåˆ™è¯´æ˜è¯´æ˜ç¬¬ k å¤§çš„å…ƒç´ åœ¨ arr[i] çš„å³è¾¹ï¼Œäºæ˜¯åªé€’å½’ arr[i+1, n] é‡Œç¬¬ k-i å¤§çš„å…ƒç´ å³å¯ï¼›</p><p>è¿™å°±æ˜¯éšæœºé€‰æ‹©ç®—æ³•randomized_selectï¼ŒRSï¼Œ</p><p><strong>å…¶ä¼ªä»£ç å¦‚ä¸‹</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RS</span><span class="params">(arr, low, high, k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(low== high) </span><br><span class="line">        <span class="keyword">return</span> arr[low];</span><br><span class="line">    i= partition(arr, low, high);</span><br><span class="line">    temp= i-low;                        <span class="comment">//æ•°ç»„å‰åŠéƒ¨åˆ†å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">if</span>(temp&gt;=k)</span><br><span class="line">        <span class="keyword">return</span> RS(arr, low, i<span class="number">-1</span>, k);    <span class="comment">//æ±‚å‰åŠéƒ¨åˆ†ç¬¬kå¤§</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> RS(arr, i+<span class="number">1</span>, high, k-i); <span class="comment">//æ±‚ååŠéƒ¨åˆ†ç¬¬k-iå¤§</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç®€å•å®ç°</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;data, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i = low, j = high, pivot = data[low];</span><br><span class="line"><span class="keyword">while</span> (i &lt; j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (i &lt; j&amp;&amp;data[j] &gt; pivot)</span><br><span class="line">&#123;</span><br><span class="line">j--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (i &lt; j)</span><br><span class="line">&#123;</span><br><span class="line">swap(data[i], data[j]);</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (i&lt;j&amp;&amp;data[i]&lt;pivot)</span><br><span class="line">&#123;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (i &lt; j)</span><br><span class="line">&#123;</span><br><span class="line">swap(data[i], data[j]);</span><br><span class="line">j--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æ–¹æ³•ä¸‰ éšæœºé€‰æ‹©*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">randomized_select</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;data, <span class="keyword">int</span> low, <span class="keyword">int</span> high, <span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (low == high)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> pos = partition(data, low, high);</span><br><span class="line"><span class="keyword">int</span> tmp = pos - low + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (tmp == k)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (tmp &gt; k)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> randomized_select(data, low, pos - <span class="number">1</span>, k);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> randomized_select(data, pos + <span class="number">1</span>, high, k - tmp);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/heap_5.png" alt=""></p><p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å‡æ²»ç®—æ³•ï¼Œé€’å½’å†…çš„ä¸¤ä¸ªåˆ†æ”¯ï¼Œæœ€ç»ˆåªä¼šæ‰§è¡Œä¸€ä¸ªï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚</p><p>å†æ¬¡å¼ºè°ƒä¸€ä¸‹ï¼š</p><p><strong>åˆ†æ²»æ³•</strong>ï¼Œå¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜ï¼Œå°é—®é¢˜éƒ½è¦é€’å½’å„ä¸ªåˆ†æ”¯ï¼Œä¾‹å¦‚ï¼šå¿«é€Ÿæ’åº</p><p><strong>å‡æ²»æ³•</strong>ï¼Œå¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜ï¼Œå°é—®é¢˜åªè¦é€’å½’ä¸€ä¸ªåˆ†æ”¯ï¼Œä¾‹å¦‚ï¼šäºŒåˆ†æŸ¥æ‰¾ï¼Œéšæœºé€‰æ‹©</p><p>é€šè¿‡éšæœºé€‰æ‹©ï¼ˆrandomized_selectï¼‰ï¼Œæ‰¾åˆ° arr[1, n] ä¸­ç¬¬ k å¤§çš„æ•°ï¼Œå†è¿›è¡Œä¸€æ¬¡ partitionï¼Œå°±èƒ½å¾—åˆ° TopK çš„ç»“æœã€‚</p><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>TopKï¼Œä¸éš¾ï¼›å…¶æ€è·¯ä¼˜åŒ–è¿‡ç¨‹ï¼Œä¸ç®€å•ï¼š</p><p>å…¨å±€æ’åºï¼ŒO(n*lg(n))</p><p>å±€éƒ¨æ’åºï¼Œåªæ’åºTopKä¸ªæ•°ï¼ŒO(n*k)</p><p>å †ï¼ŒTopKä¸ªæ•°ä¹Ÿä¸æ’åºäº†ï¼ŒO(n*lg(k))</p><p>åˆ†æ²»æ³•ï¼Œæ¯ä¸ªåˆ†æ”¯â€œéƒ½è¦â€é€’å½’ï¼Œä¾‹å¦‚ï¼šå¿«é€Ÿæ’åºï¼ŒO(n*lg(n))</p><p>å‡æ²»æ³•ï¼Œâ€œåªè¦â€é€’å½’ä¸€ä¸ªåˆ†æ”¯ï¼Œä¾‹å¦‚ï¼šäºŒåˆ†æŸ¥æ‰¾O(lg(n))ï¼Œéšæœºé€‰æ‹©O(n)</p><p>TopKçš„å¦ä¸€ä¸ªè§£æ³•ï¼šéšæœºé€‰æ‹©+partition</p><p><strong>åŸæ–‡é“¾æ¥</strong>ï¼š<a href="https://blog.csdn.net/z50L2O08e2u4afToR9A/article/details/82837278" target="_blank" rel="noopener">https://blog.csdn.net/z50L2O08e2u4afToR9A/article/details/82837278</a></p><p><strong>å‚è€ƒæ–‡ç« </strong>ï¼š</p><p><a href="https://github.com/sisterAn/JavaScript-Algorithms/issues/73" target="_blank" rel="noopener">å‰ç«¯è¿›é˜¶ç®—æ³•10ï¼štopké—®é¢˜</a></p><p><a href="https://www.jianshu.com/p/7eea93ab683b" target="_blank" rel="noopener">ä»å¿«é€Ÿæ’åºã€å †æ’åºåˆ°top ké—®é¢˜</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> LeetCodeåˆ·é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åº </tag>
            
            <tag> å † </tag>
            
            <tag> åˆ†æ²»æ³• </tag>
            
            <tag> å‡æ²»æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode å•è°ƒæ ˆçš„ç†è§£ä¸ä½¿ç”¨</title>
      <link href="/2021/05/08/Understanding-and-use-of-monotone-stack/"/>
      <url>/2021/05/08/Understanding-and-use-of-monotone-stack/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å†™åœ¨å‰é¢ï¼šLeetCodeåˆ·é¢˜ç¬”è®°</p><p>è¿‘æ¥åˆ·é¢˜ï¼Œé‡åˆ°å•è°ƒæ ˆï¼Œæ„Ÿè§‰è¿™æ˜¯ä¸ªå®è—è§£é¢˜æ€æƒ³ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ï¼</p><hr><h2 id="å•è°ƒæ ˆå®šä¹‰"><a href="#å•è°ƒæ ˆå®šä¹‰" class="headerlink" title="å•è°ƒæ ˆå®šä¹‰"></a>å•è°ƒæ ˆå®šä¹‰</h2><p>å•è°ƒæ ˆæ˜¯æŒ‡ï¼šç«™å†…å…ƒç´ ä¿æŒä¸€å®šå•è°ƒæ€§ï¼ˆå•è°ƒé€’å¢æˆ–å•è°ƒé€’å‡ï¼‰çš„æ ˆã€‚è¿™é‡Œçš„å•è°ƒé€’å¢æˆ–é€’å‡æ˜¯æŒ‡ä»æ ˆé¡¶åˆ°æ ˆåº•å•è°ƒé€’å¢æˆ–é€’å‡ã€‚</p><a id="more"></a><p>ä¸»è¦è§£å†³çš„é—®é¢˜</p><ul><li>æ¯”å½“å‰å…ƒç´ æ›´å¤§çš„ä¸‹ä¸€ä¸ªå…ƒç´ </li><li>æ¯”å½“å‰å…ƒç´ æ›´å¤§çš„å‰ä¸€ä¸ªå…ƒç´ </li><li>æ¯”å½“å‰å…ƒç´ æ›´å°çš„ä¸‹ä¸€ä¸ªå…ƒç´ </li><li>æ¯”å½“å‰å…ƒç´ æ›´å°çš„å‰ä¸€ä¸ªå…ƒç´ </li></ul><h2 id="å•è°ƒæ ˆè§£é¢˜æ¨¡æ¿ä»£ç "><a href="#å•è°ƒæ ˆè§£é¢˜æ¨¡æ¿ä»£ç " class="headerlink" title="å•è°ƒæ ˆè§£é¢˜æ¨¡æ¿ä»£ç "></a>å•è°ƒæ ˆè§£é¢˜æ¨¡æ¿ä»£ç </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; st;</span><br><span class="line"><span class="comment">//æ­¤å¤„ä¸€èˆ¬éœ€è¦ç»™æ•°ç»„æœ€åæ·»åŠ ç»“æŸæ ‡å¿—ç¬¦ï¼Œå…·ä½“ä¸‹é¢ä¾‹é¢˜ä¼šæœ‰è¯¦ç»†è®²è§£</span></span><br><span class="line"><span class="keyword">for</span> (éå†è¿™ä¸ªæ•°ç»„)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (æ ˆä¸ä¸ºç©º &amp;&amp; æ ˆé¡¶å…ƒç´ å°äºå½“å‰å…ƒç´ )</span><br><span class="line">    &#123;</span><br><span class="line">        æ ˆé¡¶å…ƒç´ å‡ºæ ˆ;</span><br><span class="line">        æ›´æ–°ç»“æœ;</span><br><span class="line">    &#125;</span><br><span class="line">    å½“å‰æ•°æ®å…¥æ ˆ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸¾æ —å­"><a href="#ä¸¾æ —å­" class="headerlink" title="ä¸¾æ —å­"></a>ä¸¾æ —å­</h2><p>å¯»æ‰¾<code>T = [73, 74, 75, 71, 69, 72, 76, 73]</code>æ•°ç»„æ¯ä¸ªå…ƒç´ å³è¾¹ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„å…ƒç´ ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ç”¨-1è¡¨ç¤ºã€‚</p><p>é‚£ä¹ˆå¯¹åº”çš„ç»“æœåº”è¯¥ä¸º <code>[1, 2, 6, 5, 5, -1, -1]</code></p><p>åˆ†æï¼š</p><p>73å³è¾¹ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„å…ƒç´ æ˜¯74ï¼Œæ•°ç»„ä¸‹æ ‡ä½ç½®ä¸º1</p><p>74å³è¾¹ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„å…ƒç´ æ˜¯75ï¼Œæ•°ç»„ä¸‹æ ‡ä½ç½®ä¸º2</p><p>75å³è¾¹ç¬¬ä¸€ä¸ªæ¯”è‡ªå·±å¤§çš„å…ƒç´ æ˜¯76ï¼Œæ•°ç»„ä¸‹æ ‡ä½ç½®ä¸º6</p><p>ä¾æ¬¡å¾€ä¸‹æ±‚è§£â€¦â€¦</p><p>ç°åœ¨å¯ä»¥æ„é€ ä¸€ä¸ªå•è°ƒé€’å¢çš„æ ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»¥ä¸Šè¿°æ•°ç»„ä¸ºä¾‹ï¼š<code>[73, 74, 75, 71, 69, 72, 76, 73]</code>ã€‚ä»å·¦åˆ°å³éå†ï¼Œå¦‚æœæ ˆä¸ºç©ºæˆ–å…¥æ ˆå…ƒç´ å€¼å°äºæ ˆé¡¶å…ƒç´ å€¼ï¼Œåˆ™å…¥æ ˆï¼›åä¹‹ï¼Œå¦‚æœæ ˆä¸ä¸ºç©ºæˆ–å…¥æ ˆå…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ å€¼ï¼Œåˆ™éœ€è¦æŠŠæ¯”å…¥æ ˆå…ƒç´ å°çš„å…ƒç´ å…¨éƒ¨å‡ºæ ˆï¼ŒåŒæ—¶å¯¹å…¶è¿›è¡Œç›¸å…³æ“ä½œã€‚å•è°ƒé€’å‡çš„æ ˆåä¹‹ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸Šè¿°é—®é¢˜çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å•è°ƒæ ˆ*/</span></span><br><span class="line"><span class="comment">/*å‘å³æ‰¾ç¬¬ä¸€ä¸ªå¤§äºå½“å‰å…ƒç´ çš„å…ƒç´ */</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dailyTemperatures(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; T) &#123;</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans(T.<span class="built_in">size</span>(), <span class="number">-1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (!stk.empty() &amp;&amp; T[i] &gt; T[stk.top()])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> loc = stk.top();</span><br><span class="line">ans[loc] = i;</span><br><span class="line">stk.pop();</span><br><span class="line">&#125;</span><br><span class="line">stk.push(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="LeetCodeç›¸å…³é¢˜ç›®"><a href="#LeetCodeç›¸å…³é¢˜ç›®" class="headerlink" title="LeetCodeç›¸å…³é¢˜ç›®"></a>LeetCodeç›¸å…³é¢˜ç›®</h2><ul><li><h4 id="739-æ¯æ—¥æ¸©åº¦"><a href="#739-æ¯æ—¥æ¸©åº¦" class="headerlink" title="739. æ¯æ—¥æ¸©åº¦"></a><a href="https://leetcode-cn.com/problems/daily-temperatures/" target="_blank" rel="noopener">739. æ¯æ—¥æ¸©åº¦</a></h4></li><li><h4 id="496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I"><a href="#496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I" class="headerlink" title="496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I"></a><a href="https://leetcode-cn.com/problems/next-greater-element-i/" target="_blank" rel="noopener">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</a></h4></li><li><h4 id="503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II"><a href="#503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II" class="headerlink" title="503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II"></a><a href="https://leetcode-cn.com/problems/next-greater-element-ii/" target="_blank" rel="noopener">503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</a></h4></li><li><h4 id="316-å»é™¤é‡å¤å­—æ¯"><a href="#316-å»é™¤é‡å¤å­—æ¯" class="headerlink" title="316. å»é™¤é‡å¤å­—æ¯"></a><a href="https://leetcode-cn.com/problems/remove-duplicate-letters/" target="_blank" rel="noopener">316. å»é™¤é‡å¤å­—æ¯</a></h4></li><li><h4 id="402-ç§»æ‰Kä½æ•°å­—"><a href="#402-ç§»æ‰Kä½æ•°å­—" class="headerlink" title="402. ç§»æ‰Kä½æ•°å­—"></a><a href="https://leetcode-cn.com/problems/remove-k-digits/" target="_blank" rel="noopener">402. ç§»æ‰Kä½æ•°å­—</a></h4></li><li><h4 id="42-æ¥é›¨æ°´"><a href="#42-æ¥é›¨æ°´" class="headerlink" title="42. æ¥é›¨æ°´"></a><a href="https://leetcode-cn.com/problems/trapping-rain-water/" target="_blank" rel="noopener">42. æ¥é›¨æ°´</a></h4></li><li><h4 id="84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"><a href="#84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢" class="headerlink" title="84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"></a><a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/" target="_blank" rel="noopener">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></h4></li></ul><p>å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a href="https://blog.csdn.net/weixin_43283687/article/details/85164863?utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control" target="_blank" rel="noopener">æµ…è°ˆå•è°ƒæ ˆä¸å•è°ƒæ ˆçš„ç†è§£</a></li><li><a href="https://blog.csdn.net/lucky52529/article/details/89155694?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control" target="_blank" rel="noopener">å•è°ƒæ ˆ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> LeetCodeåˆ·é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å•è°ƒæ ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æœ¯è¡¨è¾¾å¼çš„å‰åºã€ä¸­åºã€ååºè¡¨ç¤ºåŠå…¶è½¬æ¢</title>
      <link href="/2021/05/06/Arithmetic-expression/"/>
      <url>/2021/05/06/Arithmetic-expression/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å†™åœ¨å‰é¢ï¼šLeetCodeåˆ·é¢˜ç¬”è®°</p><hr><p>ä¸­åºè¡¨è¾¾å¼è½¬ååºè¡¨è¾¾å¼ï¼ˆä»å·¦å‘å³è¯»å…¥ï¼‰</p><ol><li><p>åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œå­˜å‚¨åç¼€è¡¨è¾¾å¼ï¼›åˆ›å»ºä¸€ä¸ªæ ˆï¼Œå­˜å‚¨æ“ä½œç¬¦ã€‚</p></li><li><p>é‡åˆ°æ“ä½œæ•°åˆ™é€å…¥é˜Ÿåˆ—ã€‚</p></li><li><p>é‡åˆ° â€œ(â€œ ï¼Œå…¥æ ˆï¼Œé‡åˆ°æ“ä½œç¬¦å…¥æ ˆã€‚</p></li><li><p>å¦‚æœé‡åˆ°å…¶ä»–è¿ç®—ç¬¦ï¼Œä¸æ–­å»é™¤æ‰€æœ‰è¿ç®—ä¼˜å…ˆçº§å¤§äºç­‰äºå½“å‰è¿ç®—ç¬¦çš„è¿ç®—ç¬¦ï¼Œé€å…¥é˜Ÿåˆ—ã€‚æœ€åï¼Œæ–°çš„ç¬¦å·å…¥æ ˆã€‚</p></li><li><p>é‡åˆ° â€œ)â€ æ‹¬å·ï¼Œåˆ™å°†æ ˆå†…ä» â€œ(â€œ åˆ° â€œ)â€ çš„æ‰€æœ‰æ“ä½œç¬¦å…¨éƒ¨å–å‡ºé€å…¥é˜Ÿåˆ—ï¼ˆå·¦æ‹¬å·å‡ºæ ˆä½†ä¸å…¥é˜Ÿï¼‰ã€‚</p></li><li><p>ä¸­åºè¡¨è¾¾å¼è¯»å–ç»“æŸåï¼Œå¦‚æœæ ˆä¸ä¸ºç©ºï¼Œåˆ™å°†æ ˆå†…å…ƒç´ ä¾æ¬¡å‡ºæ ˆé€å…¥é˜Ÿåˆ—ã€‚</p></li><li><p>æ­¤æ—¶é˜Ÿåˆ—çš„è¡¨è¾¾å¼å³ä¸ºåŸä¸­åºè¡¨è¾¾å¼çš„ååºè¡¨è¾¾å¼ã€‚</p><a id="more"></a></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä»£ç å®ç°ä¸­å°†æ“ä½œæ•°é˜Ÿåˆ—æ›¿æ¢ä¸ºvector*/</span></span><br><span class="line"><span class="comment">/*ä»£ç å®ç°ä¸­åªè€ƒè™‘äº†åŠ ã€å‡è¿ç®—ï¼Œæ•…æ²¡æœ‰åˆ¤æ–­ä¼˜å…ˆçº§ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå››åˆ™è¿ç®—è¡¨è¾¾å¼å¯ä»¥æ·»åŠ ä¼˜å…ˆçº§åˆ¤æ–­éƒ¨åˆ†*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inToPost</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&amp; post)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//vector&lt;char&gt; post;</span></span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; op;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">'('</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            op.push(s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'+'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (!op.empty() &amp;&amp; (op.top() == <span class="string">'+'</span> || op.top() == <span class="string">'-'</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">char</span> tmp = op.top();</span><br><span class="line">                op.pop();</span><br><span class="line">                post.push_back(tmp);</span><br><span class="line">            &#125;</span><br><span class="line">            op.push(s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'-'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (!op.empty() &amp;&amp; (op.top() == <span class="string">'+'</span> || op.top() == <span class="string">'-'</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">char</span> tmp = op.top();</span><br><span class="line">                op.pop();</span><br><span class="line">                post.push_back(tmp);</span><br><span class="line">            &#125;</span><br><span class="line">            op.push(s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">')'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (!op.empty() &amp;&amp; op.top() != <span class="string">'('</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">char</span> tmp = op.top();</span><br><span class="line">                op.pop();</span><br><span class="line">                post.push_back(tmp);</span><br><span class="line">            &#125;</span><br><span class="line">            op.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            post.push_back(s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!op.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        post.push_back(op.top());</span><br><span class="line">        op.pop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://oi-wiki.org/misc/expression/" target="_blank" rel="noopener">è¡¨è¾¾å¼æ±‚å€¼</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> LeetCodeåˆ·é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æœ¯è¡¨è¾¾å¼ </tag>
            
            <tag> å‰åºè¡¨è¾¾å¼ </tag>
            
            <tag> ä¸­åºè¡¨è¾¾å¼ </tag>
            
            <tag> ååºè¡¨è¾¾å¼ </tag>
            
            <tag> é€†æ³¢å…°å¼ </tag>
            
            <tag> æ ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä¼˜é›…çš„ä½¿ç”¨Git</title>
      <link href="/2021/04/27/Git-usage/"/>
      <url>/2021/04/27/Git-usage/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="gitåˆå§‹åŒ–æœ¬åœ°ä»“åº“"><a href="#gitåˆå§‹åŒ–æœ¬åœ°ä»“åº“" class="headerlink" title="gitåˆå§‹åŒ–æœ¬åœ°ä»“åº“"></a>gitåˆå§‹åŒ–æœ¬åœ°ä»“åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>æ­¤æ“ä½œä¼šç”Ÿæˆä¸€ä¸ª.gitæ–‡ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯éšè—çš„ã€‚</p><h2 id="gitä»“åº“cloneåˆ°æœ¬åœ°"><a href="#gitä»“åº“cloneåˆ°æœ¬åœ°" class="headerlink" title="gitä»“åº“cloneåˆ°æœ¬åœ°"></a>gitä»“åº“cloneåˆ°æœ¬åœ°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone HTTPS&#x2F;SSH</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="gitæœ¬åœ°é¡¹ç›®æäº¤åˆ°äº‘ç«¯"><a href="#gitæœ¬åœ°é¡¹ç›®æäº¤åˆ°äº‘ç«¯" class="headerlink" title="gitæœ¬åœ°é¡¹ç›®æäº¤åˆ°äº‘ç«¯"></a>gitæœ¬åœ°é¡¹ç›®æäº¤åˆ°äº‘ç«¯</h2><p>ä»¥ä¸‹æ“ä½œé»˜è®¤è¿œç¨‹ä»“åº“åˆ†æ”¯ä¸ºmasterã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add .     ï¼ˆgit addéš”ç©ºæ ¼.ï¼‰</span><br><span class="line"></span><br><span class="line">git commit  -m  &quot;æäº¤ä¿¡æ¯&quot;  ï¼ˆæ³¨ï¼šâ€œæäº¤ä¿¡æ¯â€é‡Œé¢æ¢æˆä½ éœ€è¦ï¼Œå¦‚â€œfirst commitâ€ï¼‰</span><br><span class="line"></span><br><span class="line">git push -u origin master  ï¼ˆæ³¨ï¼šæ­¤æ“ä½œç›®çš„æ˜¯æŠŠæœ¬åœ°ä»“åº“pushåˆ°githubä¸Šé¢ï¼Œæ­¤æ­¥éª¤éœ€è¦ä½ è¾“å…¥å¸å·å’Œå¯†ç ï¼‰</span><br></pre></td></tr></table></figure><h2 id="å¦‚æœpushå¤±è´¥ï¼Œå¯èƒ½çš„åŸå› ï¼š"><a href="#å¦‚æœpushå¤±è´¥ï¼Œå¯èƒ½çš„åŸå› ï¼š" class="headerlink" title="å¦‚æœpushå¤±è´¥ï¼Œå¯èƒ½çš„åŸå› ï¼š"></a>å¦‚æœpushå¤±è´¥ï¼Œå¯èƒ½çš„åŸå› ï¼š</h2><p>ï¼ˆ1ï¼‰æœ¬åœ°åº“ä¸è¿œç¨‹åº“å†…åŒä¸ä¸€è‡´ï¼Œæ­¤æ—¶éœ€è¦æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin master</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰è¿œç¨‹å’Œæœ¬åœ°ä»“åº“åˆ†æ”¯ä¸ä¸€è‡´ï¼Œgitæ›´æ”¹ä»“åº“åˆ†æ”¯ï¼ŒæŠŠæœ¬åœ°çš„ master ä»“åº“åç§°ä¿®æ”¹ä¸ºè¿œç«¯çš„ main</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m oldBranchName newBranchName</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æœ¬åœ°çš„originå’Œremote origin/master æ²¡æœ‰å»ºç«‹å…³è”ï¼Œæ­¤æ—¶é‡æ–°å»ºç«‹æœ¬åœ°å’Œè¿œç«¯çš„è¿æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git remote remove origin</span><br><span class="line"></span><br><span class="line">git remote add origin git@github.com:XXX&#x2F;XXX.github.io.git</span><br><span class="line"></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰æœ¬åœ°æ–‡ä»¶ä¸githubä¸Šçš„æ–‡ä»¶æœ‰å†²çª/æœ¬åœ°éœ€è¦æäº¤çš„æ–‡ä»¶ä¸­å­˜åœ¨ç©ºæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">touch README</span><br><span class="line"></span><br><span class="line">git add README</span><br><span class="line"></span><br><span class="line">git commit -m &quot;change&quot;</span><br><span class="line"></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><p><strong>å‚è€ƒæ–‡ç« ï¼š</strong><a href="https://www.cnblogs.com/tugenhua0707/p/4050072.html" target="_blank" rel="noopener">https://www.cnblogs.com/tugenhua0707/p/4050072.html</a></p>]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€typedefä¸#defineè¯¦è°ˆ</title>
      <link href="/2021/03/17/C-typedef-and-define-specific-explain/"/>
      <url>/2021/03/17/C-typedef-and-define-specific-explain/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><ul><li>2022-05-09 ï¼šæ·»åŠ typedefåˆ«åè¯´æ˜å’Œusingåˆ«åå®šä¹‰</li></ul></blockquote><h2 id="ä¸€ã€typedefä¸-defineæ¯”è¾ƒ"><a href="#ä¸€ã€typedefä¸-defineæ¯”è¾ƒ" class="headerlink" title="ä¸€ã€typedefä¸#defineæ¯”è¾ƒ"></a>ä¸€ã€<strong>typedef</strong>ä¸<strong>#define</strong>æ¯”è¾ƒ</h2><h3 id="typedefå’Œ-defineåŠŸèƒ½çš„å…±åŒç‚¹"><a href="#typedefå’Œ-defineåŠŸèƒ½çš„å…±åŒç‚¹" class="headerlink" title="typedefå’Œ#defineåŠŸèƒ½çš„å…±åŒç‚¹"></a><code>typedef</code>å’Œ<code>#define</code>åŠŸèƒ½çš„å…±åŒç‚¹</h3><p>ä¾‹å¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BYTE unsigned char</span></span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºé¢„å¤„ç†å™¨ç”¨<code>BYTE</code>æ›¿æ¢<code>unsigned char</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> BYTE</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºç¼–è¯‘å™¨ç»™ç±»å‹<code>unsigned char</code>èµ·äº†ä¸€ä¸ªåˆ«å<code>BYTE</code></p><a id="more"></a><h3 id="typedefå’Œ-defineçš„åŒºåˆ«"><a href="#typedefå’Œ-defineçš„åŒºåˆ«" class="headerlink" title="typedefå’Œ#defineçš„åŒºåˆ«"></a><code>typedef</code>å’Œ<code>#define</code>çš„åŒºåˆ«</h3><p><code>#define</code>åªæ˜¯æ›¿æ¢ï¼Œç”±é¢„å¤„ç†å™¨æ‰§è¡Œï¼Œ<code>#define A B</code>å³æ„å‘³ç€å°†Bç”¨Aæ›¿æ¢ã€‚</p><p>ä¸<code>#define</code>ä¸åŒï¼Œ<code>typedef</code>å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li><code>typedef</code>ç»™å‡ºçš„ç¬¦å·åç§°ä»…é™äºç±»å‹ï¼Œè€Œä¸æ˜¯æ•°å€¼ã€‚</li><li><code>typedef</code>çš„è§£é‡Šç”±ç¼–è¯‘å™¨æ‰§è¡Œï¼Œä¸æ˜¯ç®€å•çš„æ–‡æœ¬æ›¿æ¢ã€‚</li><li>è™½ç„¶èŒƒå›´æœ‰é™ï¼Œä½†æ˜¯åœ¨æœ‰é™èŒƒå›´å†…<code>typedef</code>æ¯”<code>#define</code>æ›´çµæ´»ã€‚</li></ul><p>(1) è¿ç»­å®šä¹‰å¤šä¸ªå˜é‡æ—¶<code>typedef</code>å’Œ<code>#define</code>çš„åŒºåˆ«ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> * STRING</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºç¼–è¯‘å™¨æŠŠ<code>STRING</code>è§£é‡Šä¸ºä¸€ä¸ªç±»å‹çš„æ ‡è¯†ç¬¦ï¼Œè¯¥ç±»å‹æŒ‡å‘<code>char</code>ã€‚</p><p>æ‰€ä»¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STRING name, sign;</span><br></pre></td></tr></table></figure><p>ç›¸å½“äºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> * name, * sign;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STRING char *</span></span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºé¢„å¤„ç†å™¨å°†ç”¨<code>STRING</code>æ›¿æ¢<code>char *</code>æ ‡è¯†ç¬¦ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STRING name, sign;</span><br></pre></td></tr></table></figure><p>å°†è¢«ç¿»è¯‘æˆï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *name, sign;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯<code>name</code>æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œ<code>sign</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ç±»å‹ã€‚</p><p>(2) <code>#define</code>å¯ä»¥ä½¿ç”¨å…¶ä»–ç±»å‹åå¯¹å®ç±»å‹åè¿›è¡Œæ‹“å±•ï¼Œä½†<code>typedef</code>å®šä¹‰çš„ç±»å‹åä¸èƒ½ç”¨å…¶ä»–ç±»å‹è¿›è¡Œæ‹“å±•ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTERGE int;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> INTERGE n;    <span class="comment">//æ­£ç¡®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> INTERGE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> INTERGE n;    <span class="comment">//é”™è¯¯ï¼Œä¸èƒ½åœ¨INTERGEå‰é¢æ·»åŠ unsigned</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€typedefçš„ä¸»è¦ç”¨æ³•"><a href="#äºŒã€typedefçš„ä¸»è¦ç”¨æ³•" class="headerlink" title="äºŒã€typedefçš„ä¸»è¦ç”¨æ³•"></a>äºŒã€typedefçš„ä¸»è¦ç”¨æ³•</h2><h3 id="ç”¨æ³•ä¸€ï¼š"><a href="#ç”¨æ³•ä¸€ï¼š" class="headerlink" title="ç”¨æ³•ä¸€ï¼š"></a>ç”¨æ³•ä¸€ï¼š</h3><p>1ã€ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å®šä¹‰ä¸€ä¸ªåˆ«åï¼Œä¸æ˜¯ç®€å•çš„å®æ›¿æ¢ã€‚å¯ä»¥ç”¨ä½œåŒæ—¶å£°æ˜å¤šä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> * pa, pb;      <span class="comment">// è¿™åªæ˜¯å£°æ˜äº†ä¸€ä¸ªæŒ‡å‘å­—ç¬¦çš„æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure><p>æ¢ä¸€ç§å¯è¡Œçš„æ–¹å¼ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> * PCHAR;</span><br><span class="line"></span><br><span class="line">PCHAR pa, pb;</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šç­‰åŒäºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> * pa, *pb;</span><br></pre></td></tr></table></figure><p>2ã€ä¸ºæ•°ç»„å®šä¹‰ç®€æ´åç§°ã€‚</p><p>ç¤ºä¾‹ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> INT_ARRAY_100[<span class="number">100</span>];</span><br><span class="line">INT_ARRAY_100 arr;    <span class="comment">// INT_ARRAY_100è¡¨ç¤ºä¸€ä¸ªé•¿åº¦ä¸º100çš„intå‹æ•°ç»„</span></span><br></pre></td></tr></table></figure><p><em><u>ç•ªå¤–ï¼š</u></em></p><p><em><u>c++11æ–°æ ‡å‡†ä¸­å¼•å…¥<code>using</code>è¿›è¡Œåˆ«åå®šä¹‰ï¼Œä½¿ç”¨æ›´åŠ æ–¹ä¾¿ã€ç®€æ´ï¼Œç¤ºä¾‹ä¸ºæ•°ç»„å®šä¹‰ç®€æ´åç§°ï¼š</u></em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> INT_ARRAY_100 = <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line">INT_ARRAY_100 arr;</span><br></pre></td></tr></table></figure><h3 id="ç”¨æ³•äºŒï¼š"><a href="#ç”¨æ³•äºŒï¼š" class="headerlink" title="ç”¨æ³•äºŒï¼š"></a>ç”¨æ³•äºŒï¼š</h3><p>1ã€ç”¨åœ¨æ—§çš„Cä»£ç ä¸­ï¼Œå¸®åŠ©structã€‚ä»¥å‰çš„ä»£ç ä¸­ï¼Œå£°æ˜structæ–°å¯¹è±¡æ—¶ï¼Œå¿…é¡»è¦å¸¦ä¸Šstructï¼Œå³å½¢å¼ä¸ºï¼š struct ç»“æ„åå¯¹è±¡åï¼Œå¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tagPOINT1</span></span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tagPOINT1</span> <span class="title">p1</span>;</span></span><br></pre></td></tr></table></figure><p>è€Œåœ¨C++ä¸­ï¼Œåˆ™å¯ä»¥ç›´æ¥å†™ï¼šç»“æ„åå¯¹è±¡åï¼Œå³ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tagPOINT1 p1;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tagPOINT</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;POINT;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">POINT p1; <span class="comment">// è¿™æ ·å°±æ¯”åŸæ¥çš„æ–¹å¼å°‘å†™äº†ä¸€ä¸ªstruct</span></span><br></pre></td></tr></table></figure><p>2ã€å¦å¤–ï¼Œè¿˜å¯ä»¥ä¸ºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼ˆç»“æ„ä½“ã€å…±ç”¨ä½“å’Œæšä¸¾ç±»å‹ï¼‰å®šä¹‰ç®€æ´çš„ç±»å‹åç§°ã€‚</p><p>ä»¥ç»“æ„ä½“ä¸ºä¾‹ï¼Œä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸ºPointçš„ç»“æ„ä½“ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">double</span> x;</span><br><span class="line"><span class="keyword">double</span> y;</span><br><span class="line"><span class="keyword">double</span> z;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨è¿™ä¸ªç»“æ„ä½“ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> <span class="title">oPoint1</span>=&#123;</span><span class="number">100</span>,<span class="number">10</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Ponit</span> <span class="title">oPoint2</span>;</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œç»“æ„ä½“ <code>struct Point</code> ä¸ºæ–°çš„æ•°æ®ç±»å‹ï¼Œåœ¨å®šä¹‰å˜é‡çš„æ—¶å€™å‡è¦å‘ä¸Šé¢çš„è°ƒç”¨æ–¹æ³•ä¸€æ ·æœ‰ä¿ç•™å­— <code>struct</code>ï¼Œè€Œä¸èƒ½åƒ <code>int</code> å’Œ <code>double</code> é‚£æ ·ç›´æ¥ä½¿ç”¨ <code>Point</code> æ¥å®šä¹‰å˜é‡ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>typedef</code> å®šä¹‰è¿™ä¸ªç»“æ„ä½“ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tagPonit</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">double</span> x;</span><br><span class="line"><span class="keyword">double</span> y;</span><br><span class="line"><span class="keyword">double</span> z;</span><br><span class="line">&#125;Point;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå®é™…ä¸Šå®Œæˆäº†ä¸¤ä¸ªæ“ä½œï¼š</p><p>ï¼ˆ1ï¼‰å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ç±»å‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tagPoint</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">double</span> x;</span><br><span class="line"><span class="keyword">double</span> y;</span><br><span class="line"><span class="keyword">double</span> z;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç°åœ¨å·²ç»å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ç±»å‹<code>tagPoint</code>ã€‚</p><p>ï¼ˆ2ï¼‰ä½¿ç”¨<code>typedef</code>ä¸ºè¿™ä¸ªæ–°çš„ç»“æ„ä½“èµ·ä¸€ä¸ªåˆ«åï¼Œå«Pointï¼Œå³ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tagPoint</span> <span class="title">Point</span>;</span></span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œç°åœ¨ä½ å°±å¯ä»¥åƒ int å’Œ double é‚£æ ·ç›´æ¥ä½¿ç”¨ Point å®šä¹‰å˜é‡ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Point oPoint1=&#123;<span class="number">100</span>,<span class="number">10</span>,<span class="number">0</span>&#125;;</span><br><span class="line">Point oPoint2;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨typedefè§„èŒƒå®šä¹‰ç»“æ„ä½“çš„æ–¹æ³•ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tagNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">char</span> *pItem;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tagNode</span> *<span class="title">pNext</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tagNode</span> *<span class="title">pNode</span>;</span></span><br></pre></td></tr></table></figure><p>æ¨èä½¿ç”¨è¿™ç§ä½¿ç”¨<code>typedef</code>è§„èŒƒå®šä¹‰ç»“æ„ä½“çš„æ–¹æ³•ï¼Œåœ¨å®šä¹‰<strong>é“¾è¡¨</strong>æ—¶ç»å¸¸ä¼šç”¨åˆ°ã€‚</p><h3 id="ç”¨æ³•ä¸‰ï¼š"><a href="#ç”¨æ³•ä¸‰ï¼š" class="headerlink" title="ç”¨æ³•ä¸‰ï¼š"></a>ç”¨æ³•ä¸‰ï¼š</h3><p>ç”¨typedefæ¥å®šä¹‰ä¸å¹³å°æ— å…³çš„ç±»å‹ã€‚</p><p><strong><u>å¤šä½¿ç”¨åœ¨è·¨å¹³å°ç§»æ¤ç¨‹åºæ—¶ï¼</u></strong></p><p>æ¯”å¦‚å®šä¹‰ä¸€ä¸ªå« <code>REAL</code> çš„æµ®ç‚¹ç±»å‹ï¼Œåœ¨ç›®æ ‡å¹³å°ä¸€ä¸Šï¼Œè®©å®ƒè¡¨ç¤ºæœ€é«˜ç²¾åº¦çš„ç±»å‹ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">double</span> REAL;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸æ”¯æŒ <code>long double</code> çš„å¹³å°äºŒä¸Šï¼Œæ”¹ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> REAL;</span><br></pre></td></tr></table></figure><p>åœ¨è¿ <code>double</code> éƒ½ä¸æ”¯æŒçš„å¹³å°ä¸‰ä¸Šï¼Œæ”¹ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">float</span> REAL;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è·¨å¹³å°æ—¶ï¼Œåªè¦æ”¹ä¸‹ <code>typedef</code> æœ¬èº«å°±è¡Œï¼Œä¸ç”¨å¯¹å…¶ä»–æºç åšä»»ä½•ä¿®æ”¹ã€‚</p><p>æ ‡å‡†åº“å°±å¹¿æ³›ä½¿ç”¨äº†è¿™ä¸ªæŠ€å·§ï¼Œæ¯”å¦‚<code>size_t</code>ã€‚å¦å¤–ï¼Œå› ä¸º<code>typedef</code>æ˜¯å®šä¹‰äº†ä¸€ç§ç±»å‹çš„æ–°åˆ«åï¼Œä¸æ˜¯ç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢ï¼Œæ‰€ä»¥å®ƒæ¯”å®æ¥å¾—ç¨³å¥ã€‚</p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="https://www.cnblogs.com/csyisong/archive/2009/01/09/1372363.html" target="_blank" rel="noopener">å…³äºtypedefçš„ç”¨æ³•æ€»ç»“</a></p><p><a href="http://c.biancheng.net/view/298.html" target="_blank" rel="noopener">typedefçš„ç”¨æ³•ï¼ŒCè¯­è¨€typedefè¯¦è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typedef </tag>
            
            <tag> define </tag>
            
            <tag> using </tag>
            
            <tag> å® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matplotlibå‡½æ•°æ±‡æ€»</title>
      <link href="/2020/11/28/Matplotlib-function/"/>
      <url>/2020/11/28/Matplotlib-function/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="matplotlibå‡½æ•°æ±‡æ€»"><a href="#matplotlibå‡½æ•°æ±‡æ€»" class="headerlink" title="matplotlibå‡½æ•°æ±‡æ€»"></a>matplotlibå‡½æ•°æ±‡æ€»</h2><a id="more"></a><iframe border=2 frameborder=0 width=1000 height=900 marginheight=0 marginwidth=0 scrolling=no src="https://www.wulihub.com.cn/gc/WzOlXg/index.html"></iframe>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ´ç´ è´å¶æ–¯ç®—æ³•åŸç†åŠå®ç°</title>
      <link href="/2020/11/10/Naive-bayes/"/>
      <url>/2020/11/10/Naive-bayes/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="ä¸€ã€è´å¶æ–¯ç®—æ³•åŸç†"><a href="#ä¸€ã€è´å¶æ–¯ç®—æ³•åŸç†" class="headerlink" title="ä¸€ã€è´å¶æ–¯ç®—æ³•åŸç†"></a>ä¸€ã€è´å¶æ–¯ç®—æ³•åŸç†</h2><h3 id="1-æ¡ä»¶æ¦‚ç‡å…¬å¼"><a href="#1-æ¡ä»¶æ¦‚ç‡å…¬å¼" class="headerlink" title="1.æ¡ä»¶æ¦‚ç‡å…¬å¼"></a>1.æ¡ä»¶æ¦‚ç‡å…¬å¼</h3><p>æ ¹æ®æ–‡æ°å›¾ï¼Œå¯ä»¥çœ‹åˆ°åœ¨äº‹ä»¶Bå‘ç”Ÿçš„æƒ…å†µä¸‹ï¼Œäº‹ä»¶Aå‘ç”Ÿçš„æ¦‚ç‡ä¸ºï¼š</p><a id="more"></a><p><a href="https://www.codecogs.com/eqnedit.php?latex=P(A|B)=\frac{P(A\cap&space;B)}{P(B)}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A|B)=\frac{P(A\cap&space;B)}{P(B)}" title="P(A|B)=\frac{P(A\cap B)}{P(B)}" /></a>ï¼Œå…¶ä¸­<a href="https://www.codecogs.com/eqnedit.php?latex=P(A\cap&space;B)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A\cap&space;B)" title="P(A\cap B)" /></a>åˆå¯å†™ä¸º<a href="https://www.codecogs.com/eqnedit.php?latex=P(AB)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(AB)" title="P(AB)" /></a></p><p>å› æ­¤ï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=P(A\cap&space;B)=P(A|B){P(B)}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A\cap&space;B)=P(A|B){P(B)}" title="P(A\cap B)=P(A|B){P(B)}" /></a></p><p>åŒç†åˆæœ‰ï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=P(A\cap&space;B)=P(B|A){P(A)}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A\cap&space;B)=P(B|A){P(A)}" title="P(A\cap B)=P(B|A){P(A)}" /></a></p><p>æ‰€ä»¥ï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=P(B|A){P(A)}=P(A|B){P(B)}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(B|A){P(A)}=P(A|B){P(B)}" title="P(B|A){P(A)}=P(A|B){P(B)}" /></a>ï¼Œ<a href="https://www.codecogs.com/eqnedit.php?latex=P(A\cap&space;B)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A\cap&space;B)" title="P(A\cap B)" /></a>ç§°ä¸ºè”åˆæ¦‚ç‡ã€‚</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=P(A|B)=\frac{P(B|A)P(A)}{P(B)}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A|B)=\frac{P(B|A)P(A)}{P(B)}" title="P(A|B)=\frac{P(B|A)P(A)}{P(B)}" /></a></p><p>å³ä¸ºæ¡ä»¶æ¦‚ç‡å…¬å¼ã€‚</p><p><a href="https://imgchr.com/i/BbzL3F" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/11/10/BbzL3F.jpg" alt=""></a></p><h3 id="2-å…¨æ¦‚ç‡å…¬å¼"><a href="#2-å…¨æ¦‚ç‡å…¬å¼" class="headerlink" title="2.å…¨æ¦‚ç‡å…¬å¼"></a>2.å…¨æ¦‚ç‡å…¬å¼</h3><p>å¦‚æœäº‹ä»¶B1ï¼ŒB2ï¼ŒB3ï¼Œâ€¦ï¼ŒBn æ„æˆä¸€ä¸ªå®Œå¤‡äº‹ä»¶ç»„ï¼Œå³å®ƒä»¬ä¸¤ä¸¤äº’ä¸ç›¸å®¹ï¼Œå…¶å’Œä¸ºå…¨é›†ï¼›å¹¶ä¸”P(Bi)å¤§äº0ï¼Œåˆ™å¯¹ä»»ä¸€äº‹ä»¶Aæœ‰ï¼š</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=P(A)=P(A|B_{1})\*P(B_{1})&space;&plus;&space;P(A|B_{2})\*P(B_{2})&space;&plus;&space;...&space;&plus;&space;P(A|B_{n})\*P(B_{n})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A)=P(A|B_{1})\*P(B_{1})&space;&plus;&space;P(A|B_{2})\*P(B_{2})&space;&plus;&space;...&space;&plus;&space;P(A|B_{n})\*P(B_{n})" title="P(A)=P(A|B_{1})\*P(B_{1}) + P(A|B_{2})\*P(B_{2}) + ... + P(A|B_{n})\*P(B_{n})" /></a></p><h3 id="3-è´å¶æ–¯å®šç†"><a href="#3-è´å¶æ–¯å®šç†" class="headerlink" title="3.è´å¶æ–¯å®šç†"></a>3.è´å¶æ–¯å®šç†</h3><p>è´å¶æ–¯å®šç†æ˜¯å…³äºéšæœºäº‹ä»¶Aå’ŒBçš„æ¡ä»¶æ¦‚ç‡ï¼ˆæˆ–è¾¹ç¼˜æ¦‚ç‡ï¼‰çš„ä¸€åˆ™å®šç†ã€‚å…¶ä¸­P(A|B)æ˜¯åœ¨Bå‘ç”Ÿçš„æƒ…å†µä¸‹Aå‘ç”Ÿçš„å¯èƒ½æ€§ã€‚</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=P(A|B)=\frac{P(B|A)P(A)}{P(B)}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(A|B)=\frac{P(B|A)P(A)}{P(B)}" title="P(A|B)=\frac{P(B|A)P(A)}{P(B)}" /></a></p><p>ä¸¾ä¸ªä¾‹å­ï¼šä¸€ä¸ªé¸¢å°¾èŠ±æ•°æ®æœ‰å››ä¸ªç‰¹å¾ï¼Œå…¶ç‰¹å¾åˆ†åˆ«ä¸ºï¼šsepal lengthã€sepal widthã€petal lengthã€petal widthï¼Œä¸‰ä¸ªç±»åˆ«ï¼Œåˆ†åˆ«ä¸ºï¼šIris Setosaã€Iris Versicolourã€Iris Virginicaï¼Œç°åœ¨æœ‰ä¸€ç»„é¸¢å°¾èŠ±æ•°æ®ï¼š5.5ï¼Œ2.6ï¼Œ4.4ï¼Œ1.2ï¼Œåˆ¤æ–­æ­¤é¸¢å°¾èŠ±å±äºå“ªç§ã€‚</p><p>ç”±è´å¶æ–¯å®šç†æˆ‘ä»¬å¯ä»¥è®¡ç®—æ­¤æ¡ä»¶ä¸‹å±äºå„ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œ</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=P(setosa|sepallen*sepalwid*petallen*petalwid)=\frac{P(sepallen*sepalwid*petallen*petalwid|setosa)}{P(sepallen*sepalwid*petallen*petalwid)}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(setosa|sepallen*sepalwid*petallen*petalwid)=\frac{P(sepallen*sepalwid*petallen*petalwid|setosa)}{P(sepallen*sepalwid*petallen*petalwid)}" title="P(setosa|sepallen*sepalwid*petallen*petalwid)=\frac{P(sepallen*sepalwid*petallen*petalwid|setosa)}{P(sepallen*sepalwid*petallen*petalwid)}" /></a></p><p>åŒç†ï¼Œä¾æ¬¡å¯ä»¥è®¡ç®—å±äºç±»åˆ« Versicolourã€Virginicaçš„æ¦‚ç‡ã€‚æ¦‚ç‡æœ€å¤§çš„ç±»åˆ«å³ä¸ºæœ€æœ‰å¯èƒ½çš„é¸¢å°¾èŠ±ç±»åˆ«ã€‚</p><p>ä½†æ˜¯ï¼Œå¯ä»¥çœ‹åˆ°<a href="https://www.codecogs.com/eqnedit.php?latex=P(sepallen*sepalwid*petallen*petalwid|setosa)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(sepallen*sepalwid*petallen*petalwid|setosa)" title="P(sepallen*sepalwid*petallen*petalwid|setosa)" /></a>å¹¶ä¸å¥½è®¡ç®—ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¸¢å°¾èŠ±æ•°æ®çš„å››ä¸ªç‰¹å¾çœ‹ä½œç›¸äº’ç‹¬ç«‹ï¼ˆå³æœ´ç´ è´å¶æ–¯çš„æ ¸å¿ƒï¼‰ï¼Œæ‰€ä»¥æœ‰ï¼š</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=P(sepallen*sepalwid*petallen*petalwid|setosa)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(sepallen*sepalwid*petallen*petalwid|setosa)" title="P(sepallen*sepalwid*petallen*petalwid|setosa)" /></a> = <a href="https://www.codecogs.com/eqnedit.php?latex=P(sepallen|setosa)*P(sepalwid|setosa)*P(petallen|setosa)*P(petalwid|setosa)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(sepallen|setosa)*P(sepalwid|setosa)*P(petallen|setosa)*P(petalwid|setosa)" title="P(sepallen|setosa)*P(sepalwid|setosa)*P(petallen|setosa)*P(petalwid|setosa)" /></a></p><p>æ­¤æ—¶æˆ‘ä»¬åªéœ€è¦è®¡ç®—<a href="https://www.codecogs.com/eqnedit.php?latex=P(sepallen|setosa)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(sepallen|setosa)" title="P(sepallen|setosa)" /></a>ç­‰å•ä¸ªç‰¹å¾å€¼æ¦‚ç‡å³å¯ã€‚</p><h3 id="4-é«˜æ–¯åˆ†å¸ƒ"><a href="#4-é«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="4.é«˜æ–¯åˆ†å¸ƒ"></a>4.é«˜æ–¯åˆ†å¸ƒ</h3><p>ä¸Šè¿°ä¾‹å­ä¸­ï¼Œsepal lengthã€sepal widthã€petal lengthã€petal widthç­‰ç‰¹å¾å‡ä¸ºè¿ç»­å˜é‡ï¼Œ<a href="https://www.codecogs.com/eqnedit.php?latex=P(sepallen|setosa)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(sepallen|setosa)" title="P(sepallen|setosa)" /></a>è¯¥å¦‚ä½•è®¡ç®—ï¼Ÿæˆ‘ä»¬å¯ä»¥å‡è®¾åœ¨<strong>setosa</strong>çš„æ¡ä»¶ä¸‹ï¼Œ<strong>sepallen</strong>æœä»é«˜æ–¯åˆ†å¸ƒï¼ˆæ­£æ€åˆ†å¸ƒï¼‰ã€‚æ ¹æ®æ­£æ€åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°å³å¯è®¡ç®—å‡º<a href="https://www.codecogs.com/eqnedit.php?latex=P(sepallen|setosa)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(sepallen|setosa)" title="P(sepallen|setosa)" /></a>ï¼Œå…¬å¼å¦‚ä¸‹ï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=P(x)=\frac{1}{\sqrt{2\pi&space;\sigma&space;^{2}}}e^{-\frac{(x-\mu&space;)^{2}}{2\sigma&space;^{2}}}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?P(x)=\frac{1}{\sqrt{2\pi&space;\sigma&space;^{2}}}e^{-\frac{(x-\mu&space;)^{2}}{2\sigma&space;^{2}}}" title="P(x)=\frac{1}{\sqrt{2\pi \sigma ^{2}}}e^{-\frac{(x-\mu )^{2}}{2\sigma ^{2}}}" /></a></p><h2 id="äºŒã€æœ´ç´ è´å¶æ–¯å¤„ç†è¿‡ç¨‹"><a href="#äºŒã€æœ´ç´ è´å¶æ–¯å¤„ç†è¿‡ç¨‹" class="headerlink" title="äºŒã€æœ´ç´ è´å¶æ–¯å¤„ç†è¿‡ç¨‹"></a>äºŒã€æœ´ç´ è´å¶æ–¯å¤„ç†è¿‡ç¨‹</h2><ul><li><p>åŠ è½½æ•°æ®ï¼šåŸå§‹æ•°æ®é›†è½½å…¥</p></li><li><p>åˆ†ç±»æ•°æ®ï¼šæ ¹æ®è´å¶æ–¯å®šç†å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»</p></li><li><p>è®­ç»ƒç®—æ³•ï¼šè®¡ç®—ä¸åŒçš„ç‹¬ç«‹ç‰¹å¾çš„æ¡ä»¶æ¦‚ç‡</p></li><li><p>æµ‹è¯•ç®—æ³•ï¼šè®¡ç®—æ­£ç¡®ç‡</p></li><li><p>ä½¿ç”¨ç®—æ³•ï¼šæ•°æ®åˆ†ç±»</p><p><a href="https://imgchr.com/i/BXcu5t" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/11/11/BXcu5t.png" alt=""></a></p></li></ul><h2 id="ä¸‰ã€æœ´ç´ è´å¶æ–¯åˆ†ç±»å®ç°"><a href="#ä¸‰ã€æœ´ç´ è´å¶æ–¯åˆ†ç±»å®ç°" class="headerlink" title="ä¸‰ã€æœ´ç´ è´å¶æ–¯åˆ†ç±»å®ç°"></a>ä¸‰ã€æœ´ç´ è´å¶æ–¯åˆ†ç±»å®ç°</h2><h3 id="1-æ•°æ®é›†è¯´æ˜"><a href="#1-æ•°æ®é›†è¯´æ˜" class="headerlink" title="1.æ•°æ®é›†è¯´æ˜"></a>1.æ•°æ®é›†è¯´æ˜</h3><p>æœ´ç´ è´å¶æ–¯åˆ†ç±»å®ç°é¸¢å°¾èŠ±æ•°æ®åˆ†ç±»ï¼Œæ•°æ®é›†æ¥æºï¼š<a href="https://archive.ics.uci.edu/ml/datasets/irisã€‚ç®—æ³•å®ç°ä¹‹å‰ï¼ŒæŒ‰ç…§8ï¼š2çš„æ¯”ä¾‹å°†åŸå§‹æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ï¼ŒåŸå§‹æ•°æ®é›†ä¸­æ¯ä¸ªç±»åˆ«æŠ½å–10ä¸ªæ ·æœ¬ç»„æˆä¸€ä¸ªæ€»å…±30ä¸ªæ ·æœ¬çš„æµ‹è¯•æ•°æ®é›†ã€‚" target="_blank" rel="noopener">https://archive.ics.uci.edu/ml/datasets/irisã€‚ç®—æ³•å®ç°ä¹‹å‰ï¼ŒæŒ‰ç…§8ï¼š2çš„æ¯”ä¾‹å°†åŸå§‹æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ï¼ŒåŸå§‹æ•°æ®é›†ä¸­æ¯ä¸ªç±»åˆ«æŠ½å–10ä¸ªæ ·æœ¬ç»„æˆä¸€ä¸ªæ€»å…±30ä¸ªæ ·æœ¬çš„æµ‹è¯•æ•°æ®é›†ã€‚</a></p><p>æ•°æ®é›†è¯´æ˜ï¼š</p><blockquote><p>Attribute Information:</p><ol><li>sepal length in cm</li><li>sepal width in cm</li><li>petal length in cm</li><li>petal width in cm</li><li>class:<br>â€” Iris Setosa<br>â€” Iris Versicolour<br>â€” Iris Virginica</li></ol></blockquote><h3 id="2-åŠ è½½æ•°æ®é›†"><a href="#2-åŠ è½½æ•°æ®é›†" class="headerlink" title="2.åŠ è½½æ•°æ®é›†"></a>2.åŠ è½½æ•°æ®é›†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    irisæ•°æ®é›†è½½å…¥</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span><span class="params">(file)</span>:</span></span><br><span class="line">    x_data=[]</span><br><span class="line">    y_data=[]</span><br><span class="line">    data=[]</span><br><span class="line">    <span class="keyword">with</span> open(file,<span class="string">'r'</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        lines=fp.readlines()</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">            line=line.strip().split(<span class="string">','</span>)</span><br><span class="line">            x_data.append(line[:<span class="number">-1</span>])</span><br><span class="line">            y_data.append((line[<span class="number">-1</span>]))</span><br><span class="line">            data.append(line)</span><br><span class="line">    <span class="keyword">return</span> x_data,y_data,data</span><br></pre></td></tr></table></figure><h3 id="3-è®¡ç®—è®­ç»ƒé›†å‡å€¼"><a href="#3-è®¡ç®—è®­ç»ƒé›†å‡å€¼" class="headerlink" title="3.è®¡ç®—è®­ç»ƒé›†å‡å€¼"></a>3.è®¡ç®—è®­ç»ƒé›†å‡å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_mean</span><span class="params">(x,lable)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„å‡å€¼</span></span><br><span class="line">    means=[]</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        sum=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">120</span>):</span><br><span class="line">            <span class="keyword">if</span> (lable==x[i,<span class="number">4</span>]):</span><br><span class="line">                sum+=float(x[i,j])</span><br><span class="line">        means.append(sum/<span class="number">40</span>)</span><br><span class="line">    <span class="keyword">return</span> means</span><br></pre></td></tr></table></figure><p>4.è®¡ç®—è®­ç»ƒé›†æ–¹å·®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_var</span><span class="params">(x,mean,label)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„æ–¹å·®</span></span><br><span class="line">    vars=[]</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        sum=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">120</span>):</span><br><span class="line">            <span class="keyword">if</span> (label==x[i,<span class="number">4</span>]):</span><br><span class="line">                sum+=(float(x[i,j])-mean[j])**<span class="number">2</span></span><br><span class="line">        vars.append(sum/<span class="number">40</span>)</span><br><span class="line">    <span class="keyword">return</span> vars</span><br></pre></td></tr></table></figure><h3 id="5-è®¡ç®—å…ˆéªŒæ¦‚ç‡"><a href="#5-è®¡ç®—å…ˆéªŒæ¦‚ç‡" class="headerlink" title="5.è®¡ç®—å…ˆéªŒæ¦‚ç‡"></a>5.è®¡ç®—å…ˆéªŒæ¦‚ç‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_prior</span><span class="params">(x,label)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„å…ˆéªŒæ¦‚ç‡</span></span><br><span class="line">    cnt=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(x)):</span><br><span class="line">        <span class="keyword">if</span> (label==x[i,<span class="number">4</span>]):</span><br><span class="line">            cnt+=<span class="number">1</span></span><br><span class="line">    prior=cnt/len(x)</span><br><span class="line">    <span class="keyword">return</span> prior</span><br></pre></td></tr></table></figure><h3 id="6-è®¡ç®—åéªŒæ¦‚ç‡"><a href="#6-è®¡ç®—åéªŒæ¦‚ç‡" class="headerlink" title="6.è®¡ç®—åéªŒæ¦‚ç‡"></a>6.è®¡ç®—åéªŒæ¦‚ç‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_postpro</span><span class="params">(mean,var,xi)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„åéªŒæ¦‚ç‡</span></span><br><span class="line">    p=(<span class="number">1</span>/np.sqrt(<span class="number">2</span>*math.pi*var))*np.exp(-((float(xi)-mean)**<span class="number">2</span>)/(<span class="number">2</span>*var))</span><br><span class="line">    <span class="keyword">return</span> p</span><br></pre></td></tr></table></figure><h3 id="7-è®¡ç®—ä¼¼ç„¶åº¦"><a href="#7-è®¡ç®—ä¼¼ç„¶åº¦" class="headerlink" title="7.è®¡ç®—ä¼¼ç„¶åº¦"></a>7.è®¡ç®—ä¼¼ç„¶åº¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_likelihood</span><span class="params">(mean,var,x)</span>:</span></span><br><span class="line">    <span class="comment">#æ ¹æ®åéªŒæ¦‚ç‡è®¡ç®—ä¼¼ç„¶åº¦</span></span><br><span class="line">    p=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        p=get_postpro(mean[i],var[i],x[i])</span><br><span class="line">        p*=p</span><br><span class="line">    <span class="keyword">return</span> p</span><br></pre></td></tr></table></figure><h3 id="8-è®­ç»ƒæ¨¡å‹"><a href="#8-è®­ç»ƒæ¨¡å‹" class="headerlink" title="8.è®­ç»ƒæ¨¡å‹"></a>8.è®­ç»ƒæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fit_model</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="comment">#è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">    mean_set=get_mean(x,<span class="string">'Iris-setosa'</span>)</span><br><span class="line">    mean_ver=get_mean(x,<span class="string">'Iris-versicolor'</span>)</span><br><span class="line">    mean_vir=get_mean(x,<span class="string">'Iris-virginica'</span>)</span><br><span class="line">    var_set=get_var(x,mean_set,<span class="string">'Iris-setosa'</span>)</span><br><span class="line">    var_ver=get_var(x,mean_ver,<span class="string">'Iris-versicolor'</span>)</span><br><span class="line">    var_vir=get_var(x,mean_vir,<span class="string">'Iris-virginica'</span>)</span><br><span class="line">    <span class="keyword">return</span> mean_set,mean_ver,mean_vir,var_set,var_ver,var_vir</span><br></pre></td></tr></table></figure><h3 id="9-é¢„æµ‹ç±»åˆ«"><a href="#9-é¢„æµ‹ç±»åˆ«" class="headerlink" title="9.é¢„æµ‹ç±»åˆ«"></a>9.é¢„æµ‹ç±»åˆ«</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="comment">#é¢„æµ‹ç±»åˆ«</span></span><br><span class="line">    proba=[]</span><br><span class="line">    mean_set,mean_ver,mean_vir,var_set,var_ver,var_vir=fit_model(X_train)</span><br><span class="line">    p1=get_likelihood(mean_set,var_set,x[:<span class="number">-1</span>])</span><br><span class="line">    p2=get_likelihood(mean_ver,var_ver, x[:<span class="number">-1</span>])</span><br><span class="line">    p3=get_likelihood(mean_vir,var_vir, x[:<span class="number">-1</span>])</span><br><span class="line">    proba.append(p1)</span><br><span class="line">    proba.append(p2)</span><br><span class="line">    proba.append(p3)</span><br><span class="line">    sort=np.argmax(proba)</span><br><span class="line">    <span class="keyword">return</span> sort</span><br></pre></td></tr></table></figure><h3 id="10-æ•ˆæœè¯„ä¼°"><a href="#10-æ•ˆæœè¯„ä¼°" class="headerlink" title="10.æ•ˆæœè¯„ä¼°"></a>10.æ•ˆæœè¯„ä¼°</h3><p>å¯¹äºè¿ç®—ç»“æœï¼Œåœ¨æ­¤åªæˆªå–äº†ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹åˆ°æ€»å‡†ç¡®ç‡ä¸º100%ï¼Œæœ´ç´ è´å¶æ–¯å¾—åˆ°çš„å„ä¸ªç±»åˆ«çš„ç›¸å¯¹æ¦‚ç‡å€¼å·®åˆ«å¾ˆå¤§ï¼Œç»“æœæ˜¾è€Œæ˜“è§ã€‚è¿™ä¸ªç»“æœå¹¶ä¸èƒ½è¯´æ˜æœ´ç´ è´å¶æ–¯çš„åˆ†ç±»æ•ˆæœç‰¹åˆ«å¥½ï¼Œåªæ˜¯è¿™ä¸ªé¸¢å°¾èŠ±æµ‹è¯•æ•°æ®é›†æ•°æ®å¤ªç†æƒ³ï¼Œæ²¡æœ‰ä¸€ç‚¹è¯¯å·®ï¼Œæ•°æ®é›†å¾ˆå¹²å‡€ã€‚</p><p><a href="https://imgchr.com/i/BqqQAS" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/11/10/BqqQAS.md.png" alt=""></a></p><p>é€šè¿‡æ•£ç‚¹å›¾åŒæ—¶å±•ç¤ºè¯¥æµ‹è¯•æ•°æ®é›†çš„å››ä¸ªä¸åŒç»´åº¦ï¼šå›¾ä¸­çš„(x, y)ä½ç½®ä»£è¡¨æ¯ä¸ªæ ·æœ¬çš„èŠ±è¼çš„é•¿åº¦å’Œå®½åº¦ï¼ˆsepal lengthã€sepal widthï¼‰ï¼Œæ•£ç‚¹çš„å¤§å°ä»£è¡¨æ¯ä¸ªæ ·æœ¬çš„èŠ±ç“£çš„é•¿åº¦ï¼ˆpetal lengthï¼‰ï¼Œè€Œæ•£ç‚¹çš„é¢œè‰²ä»£è¡¨ä¸€ç§ç‰¹å®šçš„é¸¢å°¾èŠ±ç±»å‹ã€‚</p><p><a href="https://imgchr.com/i/BX61B9" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/11/11/BX61B9.png" alt=""></a></p><h2 id="å››ã€é™„å½•"><a href="#å››ã€é™„å½•" class="headerlink" title="å››ã€é™„å½•"></a>å››ã€é™„å½•</h2><p>load_data.pyæ–‡ä»¶ï¼Œå®ç°æ•°æ®è½½å…¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    irisæ•°æ®é›†è½½å…¥</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span><span class="params">(file)</span>:</span></span><br><span class="line">    x_data=[]</span><br><span class="line">    y_data=[]</span><br><span class="line">    data=[]</span><br><span class="line">    <span class="keyword">with</span> open(file,<span class="string">'r'</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        lines=fp.readlines()</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">            line=line.strip().split(<span class="string">','</span>)</span><br><span class="line">            x_data.append(line[:<span class="number">-1</span>])</span><br><span class="line">            y_data.append((line[<span class="number">-1</span>]))</span><br><span class="line">            data.append(line)</span><br><span class="line">    <span class="keyword">return</span> x_data,y_data,data</span><br></pre></td></tr></table></figure><p>naive_bayes.pyæ–‡ä»¶ï¼Œå®ç°è´å¶æ–¯æ¨¡å‹è®­ç»ƒï¼Œæµ‹è¯•æ•°æ®é›†åˆ†ç±»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">from</span> load_data <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_mean</span><span class="params">(x,lable)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„å‡å€¼</span></span><br><span class="line">    means=[]</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        sum=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">120</span>):</span><br><span class="line">            <span class="keyword">if</span> (lable==x[i,<span class="number">4</span>]):</span><br><span class="line">                sum+=float(x[i,j])</span><br><span class="line">        means.append(sum/<span class="number">40</span>)</span><br><span class="line">    <span class="keyword">return</span> means</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_var</span><span class="params">(x,mean,label)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„æ–¹å·®</span></span><br><span class="line">    vars=[]</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        sum=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">120</span>):</span><br><span class="line">            <span class="keyword">if</span> (label==x[i,<span class="number">4</span>]):</span><br><span class="line">                sum+=(float(x[i,j])-mean[j])**<span class="number">2</span></span><br><span class="line">        vars.append(sum/<span class="number">40</span>)</span><br><span class="line">    <span class="keyword">return</span> vars</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_prior</span><span class="params">(x,label)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„å…ˆéªŒæ¦‚ç‡</span></span><br><span class="line">    cnt=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(x)):</span><br><span class="line">        <span class="keyword">if</span> (label==x[i,<span class="number">4</span>]):</span><br><span class="line">            cnt+=<span class="number">1</span></span><br><span class="line">    prior=cnt/len(x)</span><br><span class="line">    <span class="keyword">return</span> prior</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_postpro</span><span class="params">(mean,var,xi)</span>:</span></span><br><span class="line">    <span class="comment">#è·å–æ¯ä¸ªç±»åˆ«çš„åéªŒæ¦‚ç‡</span></span><br><span class="line">    p=(<span class="number">1</span>/np.sqrt(<span class="number">2</span>*math.pi*var))*np.exp(-((float(xi)-mean)**<span class="number">2</span>)/(<span class="number">2</span>*var))</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_likelihood</span><span class="params">(mean,var,x)</span>:</span></span><br><span class="line">    <span class="comment">#æ ¹æ®åéªŒæ¦‚ç‡è®¡ç®—ä¼¼ç„¶åº¦</span></span><br><span class="line">    p=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">        p=get_postpro(mean[i],var[i],x[i])</span><br><span class="line">        p*=p</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fit_model</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="comment">#è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">    mean_set=get_mean(x,<span class="string">'Iris-setosa'</span>)</span><br><span class="line">    mean_ver=get_mean(x,<span class="string">'Iris-versicolor'</span>)</span><br><span class="line">    mean_vir=get_mean(x,<span class="string">'Iris-virginica'</span>)</span><br><span class="line">    var_set=get_var(x,mean_set,<span class="string">'Iris-setosa'</span>)</span><br><span class="line">    var_ver=get_var(x,mean_ver,<span class="string">'Iris-versicolor'</span>)</span><br><span class="line">    var_vir=get_var(x,mean_vir,<span class="string">'Iris-virginica'</span>)</span><br><span class="line">    <span class="keyword">return</span> mean_set,mean_ver,mean_vir,var_set,var_ver,var_vir</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="comment">#é¢„æµ‹ç±»åˆ«</span></span><br><span class="line">    proba=[]</span><br><span class="line">    mean_set, mean_ver, mean_vir, var_set, var_ver, var_vir = fit_model(X_train)</span><br><span class="line">    p1=get_likelihood(mean_set,var_set,x[:<span class="number">-1</span>])</span><br><span class="line">    p2=get_likelihood(mean_ver, var_ver, x[:<span class="number">-1</span>])</span><br><span class="line">    p3=get_likelihood(mean_vir, var_vir, x[:<span class="number">-1</span>])</span><br><span class="line">    proba.append(p1)</span><br><span class="line">    proba.append(p2)</span><br><span class="line">    proba.append(p3)</span><br><span class="line">    print(<span class="string">'proba is '</span>,proba)</span><br><span class="line">    sort=np.argmax(proba)</span><br><span class="line">    <span class="keyword">return</span> sort</span><br><span class="line"></span><br><span class="line">file1=<span class="string">'C:\\Users\\wnxy\\PycharmProjects\\NaiveBayesian\\iris_data\\iris_train.data'</span></span><br><span class="line">file2=<span class="string">'C:\\Users\\wnxy\\PycharmProjects\\NaiveBayesian\\iris_data\\iris_test.data'</span></span><br><span class="line">x_train_data,y_train_data,x_train=load_data(file1)</span><br><span class="line">X_train_data=np.mat(x_train_data)</span><br><span class="line">Y_train_data=np.mat(y_train_data)</span><br><span class="line">X_train=np.mat(x_train)</span><br><span class="line">mean_set,mean_ver,mean_vir,var_set,var_ver,var_vir=fit_model(X_train)</span><br><span class="line">prior_set=get_prior(X_train,<span class="string">'Iris-setosa'</span>)</span><br><span class="line">prior_ver=get_prior(X_train,<span class="string">'Iris-versicolor'</span>)</span><br><span class="line">prior_vir=get_prior(X_train,<span class="string">'Iris-virginica'</span>)</span><br><span class="line">print(<span class="string">'prior_set'</span>,prior_set)</span><br><span class="line">cnt = <span class="number">0</span></span><br><span class="line"><span class="keyword">with</span> open(file2,<span class="string">'r'</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    x_test=[]</span><br><span class="line">    lines=fp.readlines()</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">        line = line.strip().split(<span class="string">','</span>)</span><br><span class="line">        x_test.append(line)</span><br><span class="line">        sort=predict(x_test[<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">if</span> (x_test[<span class="number">-1</span>][<span class="number">4</span>]==<span class="string">'Iris-setosa'</span>):</span><br><span class="line">            y_test=<span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> (x_test[<span class="number">-1</span>][<span class="number">4</span>]==<span class="string">'Iris-versicolor'</span>):</span><br><span class="line">            y_test=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            y_test=<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> (y_test==sort):</span><br><span class="line">            cnt+=<span class="number">1</span></span><br><span class="line">        print(<span class="string">'The prediction is classified as: '</span>,sort)</span><br><span class="line">        print(<span class="string">'The fact is classified as: '</span>, y_test)</span><br><span class="line">print(<span class="string">'Accuracy is: '</span>,cnt/len(lines))</span><br><span class="line">y_test=np.array(y_test)</span><br><span class="line">seplen = []</span><br><span class="line">sepwid = []</span><br><span class="line">petlen = []</span><br><span class="line">petwid = []</span><br><span class="line">colors=[<span class="string">'purple'</span>,<span class="string">'y'</span>,<span class="string">'b'</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">30</span>):</span><br><span class="line">    seplen.append(x_test[i][<span class="number">0</span>])</span><br><span class="line">    sepwid.append(x_test[i][<span class="number">1</span>])</span><br><span class="line">    petlen.append(x_test[i][<span class="number">2</span>])</span><br><span class="line">    petwid.append(x_test[i][<span class="number">3</span>])</span><br><span class="line">    index=y_test[i]</span><br><span class="line">    plt.scatter(float(seplen[i]), float(sepwid[i]), alpha=<span class="number">0.2</span>, s=<span class="number">100</span>*float(petlen[i]), c=colors[index], cmap=<span class="string">'viridis'</span>)</span><br><span class="line">plt.ylim(<span class="number">2.0</span>,<span class="number">4.0</span>)</span><br><span class="line">plt.title(<span class="string">'Iris Data Classification'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length in cm'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'sepal width in cm'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Machine-Learning </tag>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
            <tag> æœ´ç´ è´å¶æ–¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®å¯è§†åŒ–æ¨¡å—Matplotlibå®æ“</title>
      <link href="/2020/11/02/Data-visualization-matplotlib/"/>
      <url>/2020/11/02/Data-visualization-matplotlib/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>é€šè¿‡ Matplotlibï¼Œå¼€å‘è€…å¯ä»¥ä»…éœ€è¦å‡ è¡Œä»£ç ï¼Œä¾¿å¯ä»¥ç”Ÿæˆç»˜å›¾ï¼Œç›´æ–¹å›¾ï¼ŒåŠŸç‡è°±ï¼Œæ¡å½¢å›¾ï¼Œé”™è¯¯å›¾ï¼Œæ•£ç‚¹å›¾ç­‰ã€‚</p><h1 id="å¯¼è¯»"><a href="#å¯¼è¯»" class="headerlink" title="å¯¼è¯»"></a><strong>å¯¼è¯»</strong></h1><p>Matplotlib æ˜¯ä¸€ä¸ª Python çš„ 2Dç»˜å›¾åº“ï¼Œå®ƒä»¥å„ç§ç¡¬æ‹·è´æ ¼å¼å’Œè·¨å¹³å°çš„äº¤äº’å¼ç¯å¢ƒç”Ÿæˆå‡ºç‰ˆè´¨é‡çº§åˆ«çš„å›¾å½¢ã€‚é€šè¿‡ Matplotlibï¼Œå¼€å‘è€…å¯ä»¥ä»…éœ€è¦å‡ è¡Œä»£ç ï¼Œä¾¿å¯ä»¥ç”Ÿæˆç»˜å›¾ï¼Œç›´æ–¹å›¾ï¼ŒåŠŸç‡è°±ï¼Œæ¡å½¢å›¾ï¼Œé”™è¯¯å›¾ï¼Œæ•£ç‚¹å›¾ç­‰ã€‚</p><a id="more"></a><p>ä»¥ä¸‹å†…å®¹æ¥è‡ªGithubï¼Œä¸ºã€ŠPythonDataScienceHandbook[1]ã€‹(Python æ•°æ®ç§‘å­¦æ‰‹å†Œ[2])ç¬¬å››ç« Matplotlibä»‹ç»éƒ¨åˆ†ã€‚å…¨éƒ¨å†…å®¹éƒ½åœ¨ä»¥ä¸‹ç¯å¢ƒæ¼”ç¤ºé€šè¿‡ï¼š</p><ul><li>numpy:1.18.5</li><li>pandas:1.0.5</li><li>matplotlib:3.2.1</li></ul><blockquote><p>æ–‡ç« è½¬è‡ªå¾®ä¿¡å…¬ä¼—å·ï¼š<strong>DataWhale</strong></p><p>å¦‚æœ‰ä¾µæƒï¼Œè”ç³»åˆ é™¤ï¼</p></blockquote><h1 id="1-ç®€å•çš„æŠ˜çº¿å›¾"><a href="#1-ç®€å•çš„æŠ˜çº¿å›¾" class="headerlink" title="1.ç®€å•çš„æŠ˜çº¿å›¾"></a><strong>1.ç®€å•çš„æŠ˜çº¿å›¾</strong></h1><p>å¯¹äºå›¾è¡¨æ¥è¯´ï¼Œæœ€ç®€å•çš„è«è¿‡äºä½œå‡ºä¸€ä¸ªå•ä¸€å‡½æ•°  çš„å›¾åƒã€‚æœ¬èŠ‚ä¸­æˆ‘ä»¬é¦–å…ˆæ¥ä»‹ç»åˆ›å»ºè¿™ç§ç±»å‹å›¾è¡¨ã€‚æœ¬èŠ‚å’Œåç»­å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ä¸‹é¢çš„ä»£ç å°†æˆ‘ä»¬éœ€è¦çš„åŒ…è½½å…¥åˆ° notebook ä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'seaborn-whitegrid'</span>)</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><p>å¯¹äºæ‰€æœ‰çš„ Matplotlib å›¾è¡¨æ¥è¯´ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä»åˆ›å»ºå›¾å½¢å’Œç»´åº¦å¼€å§‹ã€‚å›¾å½¢å’Œç»´åº¦å¯ä»¥ä½¿ç”¨ä¸‹é¢ä»£ç è¿›è¡Œæœ€ç®€å½¢å¼çš„åˆ›å»ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = plt.axes()</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223923.png" alt=""></p><p>åœ¨ Matplotlib ä¸­ï¼Œå›¾å½¢ï¼ˆç±»plt.Figureçš„ä¸€ä¸ªå®ä¾‹ï¼‰å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰ç»´åº¦ã€å›¾åƒã€æ–‡æœ¬å’Œæ ‡ç­¾å¯¹è±¡çš„å®¹å™¨ã€‚ç»´åº¦ï¼ˆç±»plt.Axesçš„ä¸€ä¸ªå®ä¾‹ï¼‰å°±æ˜¯ä½ ä¸Šé¢çœ‹åˆ°çš„å›¾åƒï¼Œä¸€ä¸ªæœ‰è¾¹ç•Œçš„æ ¼å­åŒ…æ‹¬åˆ»åº¦å’Œæ ‡ç­¾ï¼Œæœ€ç»ˆè¿˜æœ‰æˆ‘ä»¬ç”»åœ¨ä¸Šé¢çš„å›¾è¡¨å…ƒç´ ã€‚åœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å˜é‡åfigæ¥æŒ‡ä»£å›¾å½¢å¯¹è±¡ï¼Œä»¥åŠå˜é‡åaxæ¥æŒ‡ä»£ç»´åº¦å˜é‡ã€‚</p><p>ä¸€æ—¦æˆ‘ä»¬åˆ›å»ºäº†ç»´åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ax.plotæ–¹æ³•å°†æ•°æ®ç»˜åˆ¶åœ¨å›¾è¡¨ä¸Šã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æ­£å¼¦å‡½æ•°å›¾å½¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = plt.axes()</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">ax.plot(x, np.sin(x));</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223854.png" alt=""></p><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ pylab æ¥å£ï¼ˆMATLAB é£æ ¼çš„æ¥å£ï¼‰å¸®æˆ‘ä»¬åœ¨åå°è‡ªåŠ¨åˆ›å»ºè¿™ä¸¤ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x));</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223854.png" alt=""></p><p>å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨åŒä¸€å¹…å›¾å½¢ä¸­ç»˜åˆ¶å¤šæ ¹çº¿æ¡ï¼Œåªéœ€è¦å¤šæ¬¡è°ƒç”¨<code>plot</code>å‡½æ•°å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line">plt.plot(x, np.cos(x));</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223933.png" alt=""></p><p>è¿™å°±æ˜¯åœ¨ Matplotlib ä¸­ç»˜åˆ¶ç®€å•å‡½æ•°å›¾åƒçš„æ‰€æœ‰æ¥å£äº†ã€‚ä¸‹é¢æˆ‘ä»¬æ·±å…¥äº†è§£ä¸€ä¸‹æ§åˆ¶åæ ‡è½´å’Œçº¿æ¡å¤–è§‚çš„ç»†èŠ‚ã€‚</p><h2 id="è°ƒæ•´æŠ˜çº¿å›¾ï¼šçº¿æ¡é¢œè‰²å’Œé£æ ¼"><a href="#è°ƒæ•´æŠ˜çº¿å›¾ï¼šçº¿æ¡é¢œè‰²å’Œé£æ ¼" class="headerlink" title="è°ƒæ•´æŠ˜çº¿å›¾ï¼šçº¿æ¡é¢œè‰²å’Œé£æ ¼"></a><strong>è°ƒæ•´æŠ˜çº¿å›¾ï¼šçº¿æ¡é¢œè‰²å’Œé£æ ¼</strong></h2><p>ä½ å¯èƒ½ç¬¬ä¸€ä¸ªæƒ³åˆ°éœ€è¦è¿›è¡Œè°ƒæ•´çš„éƒ¨åˆ†å°±æ˜¯çº¿æ¡çš„é¢œè‰²å’Œé£æ ¼ã€‚plt.plot()å‡½æ•°æ¥å—é¢å¤–çš„å‚æ•°å¯ä»¥ç”¨æ¥æŒ‡å®šå®ƒä»¬ã€‚é€šè¿‡æŒ‡å®šcolorå…³é”®å­—å‚æ•°å¯ä»¥è°ƒæ•´é¢œè‰²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ç±»å‹å‚æ•°åŸºæœ¬ä¸Šèƒ½ç”¨æ¥ä»£è¡¨ä»»ä½•ä½ èƒ½æƒ³åˆ°çš„é¢œè‰²ã€‚å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æŒ‡å®šé¢œè‰²å‚æ•°ï¼š</p><p>æ‰€æœ‰ HTML é¢œè‰²åç§°å¯ä»¥åœ¨è¿™é‡Œ[3]æ‰¾åˆ°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x - <span class="number">0</span>), color=<span class="string">'blue'</span>)        <span class="comment"># é€šè¿‡é¢œè‰²åç§°æŒ‡å®š</span></span><br><span class="line">plt.plot(x, np.sin(x - <span class="number">1</span>), color=<span class="string">'g'</span>)           <span class="comment"># é€šè¿‡é¢œè‰²ç®€å†™åç§°æŒ‡å®š(rgbcmyk)</span></span><br><span class="line">plt.plot(x, np.sin(x - <span class="number">2</span>), color=<span class="string">'0.75'</span>)        <span class="comment"># ä»‹äº0-1ä¹‹é—´çš„ç°é˜¶å€¼</span></span><br><span class="line">plt.plot(x, np.sin(x - <span class="number">3</span>), color=<span class="string">'#FFDD44'</span>)     <span class="comment"># 16è¿›åˆ¶çš„RRGGBBå€¼</span></span><br><span class="line">plt.plot(x, np.sin(x - <span class="number">4</span>), color=(<span class="number">1.0</span>,<span class="number">0.2</span>,<span class="number">0.3</span>)) <span class="comment"># RGBå…ƒç»„çš„é¢œè‰²å€¼ï¼Œæ¯ä¸ªå€¼ä»‹äº0-1</span></span><br><span class="line">plt.plot(x, np.sin(x - <span class="number">5</span>), color=<span class="string">'chartreuse'</span>); <span class="comment"># èƒ½æ”¯æŒæ‰€æœ‰HTMLé¢œè‰²åç§°å€¼</span></span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223938.png" alt=""></p><p>å¦‚æœæ²¡æœ‰æŒ‡å®šé¢œè‰²ï¼ŒMatplotlib ä¼šåœ¨ä¸€ç»„é»˜è®¤é¢œè‰²å€¼ä¸­å¾ªç¯ä½¿ç”¨æ¥ç»˜åˆ¶æ¯ä¸€æ¡çº¿æ¡ã€‚</p><p>ç±»ä¼¼çš„ï¼Œé€šè¿‡linestyleå…³é”®å­—å‚æ•°å¯ä»¥æŒ‡å®šçº¿æ¡çš„é£æ ¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, x + <span class="number">0</span>, linestyle=<span class="string">'solid'</span>)</span><br><span class="line">plt.plot(x, x + <span class="number">1</span>, linestyle=<span class="string">'dashed'</span>)</span><br><span class="line">plt.plot(x, x + <span class="number">2</span>, linestyle=<span class="string">'dashdot'</span>)</span><br><span class="line">plt.plot(x, x + <span class="number">3</span>, linestyle=<span class="string">'dotted'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿˜å¯ä»¥ç”¨å½¢è±¡çš„ç¬¦å·ä»£è¡¨çº¿æ¡é£æ ¼</span></span><br><span class="line">plt.plot(x, x + <span class="number">4</span>, linestyle=<span class="string">'-'</span>)  <span class="comment"># å®çº¿</span></span><br><span class="line">plt.plot(x, x + <span class="number">5</span>, linestyle=<span class="string">'--'</span>) <span class="comment"># è™šçº¿</span></span><br><span class="line">plt.plot(x, x + <span class="number">6</span>, linestyle=<span class="string">'-.'</span>) <span class="comment"># é•¿çŸ­ç‚¹è™šçº¿</span></span><br><span class="line">plt.plot(x, x + <span class="number">7</span>, linestyle=<span class="string">':'</span>);  <span class="comment"># ç‚¹çº¿</span></span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223941.png" alt=""></p><p>å¦‚æœä½ å–œæ¬¢æ›´ç®€æ´çš„ä»£ç ï¼Œè¿™äº›linestyleå’Œcolorå‚æ•°èƒ½å¤Ÿåˆå¹¶æˆä¸€ä¸ªéå…³é”®å­—å‚æ•°ï¼Œä¼ é€’ç»™plt.plot()å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, x + <span class="number">0</span>, <span class="string">'-g'</span>)  <span class="comment"># ç»¿è‰²å®çº¿</span></span><br><span class="line">plt.plot(x, x + <span class="number">1</span>, <span class="string">'--c'</span>) <span class="comment"># å¤©é’è‰²è™šçº¿</span></span><br><span class="line">plt.plot(x, x + <span class="number">2</span>, <span class="string">'-.k'</span>) <span class="comment"># é»‘è‰²é•¿çŸ­ç‚¹è™šçº¿</span></span><br><span class="line">plt.plot(x, x + <span class="number">3</span>, <span class="string">':r'</span>);  <span class="comment"># çº¢è‰²ç‚¹çº¿</span></span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223945.png" alt=""></p><p>ä¸Šé¢çš„å•å­—æ¯é¢œè‰²ç æ˜¯ RGB é¢œè‰²ç³»ç»Ÿä»¥åŠ CMYK é¢œè‰²ç³»ç»Ÿçš„ç¼©å†™ï¼Œè¢«å¹¿æ³›åº”ç”¨åœ¨æ•°å­—åŒ–å›¾åƒçš„é¢œè‰²ç³»ç»Ÿä¸­ã€‚</p><p>è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å…³é”®å­—å‚æ•°å¯ä»¥å¯¹æŠ˜çº¿å›¾çš„å¤–è§‚è¿›è¡Œç²¾ç»†è°ƒæ•´ï¼›å¯ä»¥é€šè¿‡åœ¨ IPython ä¸­ä½¿ç”¨å¸®åŠ©å·¥å…·æŸ¥çœ‹plt.plot()å‡½æ•°çš„æ–‡æ¡£æ¥è·å¾—æ›´å¤šç»†èŠ‚å†…å®¹ã€‚</p><h2 id="è°ƒæ•´æŠ˜çº¿å›¾ï¼šåæ ‡è½´èŒƒå›´"><a href="#è°ƒæ•´æŠ˜çº¿å›¾ï¼šåæ ‡è½´èŒƒå›´" class="headerlink" title="è°ƒæ•´æŠ˜çº¿å›¾ï¼šåæ ‡è½´èŒƒå›´"></a><strong>è°ƒæ•´æŠ˜çº¿å›¾ï¼šåæ ‡è½´èŒƒå›´</strong></h2><p>Matplotlib ä¼šè‡ªåŠ¨é€‰æ‹©éå¸¸åˆé€‚çš„åæ ‡è½´èŒƒå›´æ¥ç»˜åˆ¶ä½ çš„å›¾åƒï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹ä½ ä¹Ÿéœ€è¦è‡ªå·±è¿›è¡Œç›¸å…³è°ƒæ•´ã€‚ä½¿ç”¨plt.xlim()å’Œplt.ylim()å‡½æ•°å¯ä»¥è°ƒæ•´åæ ‡è½´çš„èŒƒå›´ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line"></span><br><span class="line">plt.xlim(<span class="number">-1</span>, <span class="number">11</span>)</span><br><span class="line">plt.ylim(<span class="number">-1.5</span>, <span class="number">1.5</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223949.png" alt=""></p><p>å¦‚æœæŸäº›æƒ…å†µä¸‹ä½ å¸Œæœ›å°†åæ ‡è½´åå‘ï¼Œä½ å¯ä»¥é€šè¿‡ä¸Šé¢çš„å‡½æ•°å®ç°ï¼Œå°†å‚æ•°é¡ºåºé¢ å€’å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line"></span><br><span class="line">plt.xlim(<span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">plt.ylim(<span class="number">1.2</span>, <span class="number">-1.2</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223953.png" alt=""></p><p>ç›¸å…³çš„å‡½æ•°è¿˜æœ‰plt.axis()ï¼ˆæ³¨æ„ï¼šè¿™ä¸æ˜¯plt.axes()å‡½æ•°ï¼Œå‡½æ•°åç§°æ˜¯ i è€Œä¸æ˜¯ eï¼‰ã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥åœ¨ä¸€ä¸ªå‡½æ•°è°ƒç”¨ä¸­å°±å®Œæˆ x è½´å’Œ y è½´èŒƒå›´çš„è®¾ç½®ï¼Œä¼ é€’ä¸€ä¸ª[xmin, xmax, ymin, ymax]çš„åˆ—è¡¨å‚æ•°å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line">plt.axis([<span class="number">-1</span>, <span class="number">11</span>, <span class="number">-1.5</span>, <span class="number">1.5</span>]);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223955.png" alt=""></p><p>å½“ç„¶plt.axis()å‡½æ•°ä¸ä»…èƒ½è®¾ç½®èŒƒå›´ï¼Œè¿˜èƒ½åƒä¸‹é¢ä»£ç ä¸€æ ·å°†åæ ‡è½´å‹ç¼©åˆ°åˆšå¥½è¶³å¤Ÿç»˜åˆ¶æŠ˜çº¿å›¾åƒçš„å¤§å°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line">plt.axis(<span class="string">'tight'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102223958.png" alt=""></p><p>è¿˜å¯ä»¥é€šè¿‡è®¾ç½®â€™equalâ€™å‚æ•°è®¾ç½®xè½´ä¸yè½´ä½¿ç”¨ç›¸åŒçš„é•¿åº¦å•ä½ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line">plt.axis(<span class="string">'equal'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224002.jpg" alt=""></p><p>æ›´å¤šå…³äºè®¾ç½® axis å±æ€§çš„å†…å®¹è¯·æŸ¥é˜…plt.axiså‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²ã€‚</p><h2 id="æŠ˜çº¿å›¾æ ‡ç­¾"><a href="#æŠ˜çº¿å›¾æ ‡ç­¾" class="headerlink" title="æŠ˜çº¿å›¾æ ‡ç­¾"></a><strong>æŠ˜çº¿å›¾æ ‡ç­¾</strong></h2><p>æœ¬èŠ‚æœ€åä»‹ç»ä¸€ä¸‹åœ¨æŠ˜çº¿å›¾ä¸Šç»˜åˆ¶æ ‡ç­¾ï¼šæ ‡é¢˜ã€åæ ‡è½´æ ‡ç­¾å’Œç®€å•çš„å›¾ä¾‹ã€‚</p><p>æ ‡é¢˜å’Œåæ ‡è½´æ ‡ç­¾æ˜¯æœ€ç®€å•çš„è¿™ç±»æ ‡ç­¾ï¼ŒMatplotlib æä¾›äº†å‡½æ•°ç”¨æ¥æ–¹ä¾¿çš„è®¾ç½®å®ƒä»¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x))</span><br><span class="line">plt.title(<span class="string">"A Sine Curve"</span>)</span><br><span class="line">plt.xlabel(<span class="string">"x"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"sin(x)"</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224134.png" alt=""></p><p>è¿™äº›æ ‡ç­¾çš„ä½ç½®ã€å¤§å°å’Œé£æ ¼å¯ä»¥é€šè¿‡ä¸Šé¢å‡½æ•°çš„å¯é€‰å‚æ•°è¿›è¡Œè®¾ç½®ã€‚å‚é˜… Matplotlib åœ¨çº¿æ–‡æ¡£å’Œè¿™äº›å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²å¯ä»¥è·å¾—æ›´å¤šçš„ä¿¡æ¯ã€‚</p><p>å½“ä¸€å¹…å›¾ä¸­ç»˜åˆ¶äº†å¤šæ¡æŠ˜çº¿æ—¶ï¼Œå¦‚æœèƒ½å¤Ÿç»˜åˆ¶ä¸€ä¸ªçº¿æ¡å¯¹åº”çš„å›¾ä¾‹èƒ½è®©å›¾è¡¨æ›´åŠ æ¸…æ™°ã€‚Matplotlib ä¹Ÿå†…å»ºäº†å‡½æ•°æ¥å¿«é€Ÿåˆ›å»ºå›¾ä¾‹ã€‚ä¼°è®¡ä½ ä¹ŸçŒœåˆ°äº†ï¼Œé€šè¿‡plt.legend()å‡½æ•°å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚è™½ç„¶æœ‰å¾ˆå¤šç§æ­£ç¡®çš„æ–¹æ³•æ¥æŒ‡å®šå›¾ä¾‹ï¼Œä½œè€…è®¤ä¸ºæœ€ç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡åœ¨ç»˜åˆ¶æ¯æ¡çº¿æ¡æ—¶æŒ‡å®šå¯¹åº”çš„labelå…³é”®å­—å‚æ•°æ¥ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, np.sin(x), <span class="string">'-g'</span>, label=<span class="string">'sin(x)'</span>)</span><br><span class="line">plt.plot(x, np.cos(x), <span class="string">':b'</span>, label=<span class="string">'cos(x)'</span>)</span><br><span class="line">plt.axis(<span class="string">'equal'</span>)</span><br><span class="line"></span><br><span class="line">plt.legend();</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224138.png" alt=""></p><p>ä¸Šå›¾å¯è§ï¼Œplt.legend()å‡½æ•°ç»˜åˆ¶çš„å›¾ä¾‹çº¿æ¡ä¸å›¾ä¸­çš„æŠ˜çº¿æ— è®ºé£æ ¼å’Œé¢œè‰²éƒ½ä¿æŒä¸€è‡´ã€‚æŸ¥é˜…plt.legendæ–‡æ¡£å­—ç¬¦ä¸²å¯ä»¥è·å¾—æ›´å¤šç›¸å…³ä¿¡æ¯ï¼›æˆ‘ä»¬åœ¨[è‡ªå®šä¹‰å›¾è¡¨å›¾ä¾‹]ä¸€èŠ‚ä¸­ä¹Ÿä¼šè®¨è®ºæ›´é«˜çº§çš„å›¾ä¾‹åº”ç”¨ã€‚</p><h2 id="é¢å¤–å†…å®¹ï¼šMatplotlib-çš„å‘"><a href="#é¢å¤–å†…å®¹ï¼šMatplotlib-çš„å‘" class="headerlink" title="é¢å¤–å†…å®¹ï¼šMatplotlib çš„å‘"></a><strong>é¢å¤–å†…å®¹ï¼šMatplotlib çš„å‘</strong></h2><p>è™½ç„¶å¤§å¤šæ•°çš„pltå‡½æ•°éƒ½å¯ä»¥ç›´æ¥è½¬æ¢ä¸ºaxçš„æ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼ˆä¾‹å¦‚plt.plot() â†’ ax.plot()ï¼Œplt.legend() â†’ ax.legend()ç­‰ï¼‰ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„å‘½ä»¤éƒ½èƒ½åº”ç”¨è¿™ç§æƒ…å†µã€‚ç‰¹åˆ«æ˜¯ç”¨äºè®¾ç½®æå€¼ã€æ ‡ç­¾å’Œæ ‡é¢˜çš„å‡½æ•°éƒ½æœ‰ä¸€å®šçš„æ”¹å˜ã€‚ä¸‹è¡¨åˆ—å‡ºäº†å°† MATLAB é£æ ¼çš„å‡½æ•°è½¬æ¢ä¸ºé¢å‘å¯¹è±¡çš„æ–¹æ³•çš„åŒºåˆ«ï¼š</p><ul><li>plt.xlabel() â†’ ax.set_xlabel()</li><li>plt.ylabel() â†’ ax.set_ylabel()</li><li>plt.xlim() â†’ ax.set_xlim()</li><li>plt.ylim() â†’ ax.set_ylim()</li><li>plt.title() â†’ ax.set_title()</li></ul><p>åœ¨é¢å‘å¯¹è±¡æ¥å£ä¸­ï¼Œä¸å…¶é€ä¸ªè°ƒç”¨ä¸Šé¢çš„æ–¹æ³•æ¥è®¾ç½®å±æ€§ï¼Œæ›´å¸¸è§çš„ä½¿ç”¨ax.set()æ–¹æ³•æ¥ä¸€æ¬¡æ€§è®¾ç½®æ‰€æœ‰çš„å±æ€§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ax = plt.axes()</span><br><span class="line">ax.plot(x, np.sin(x))</span><br><span class="line">ax.set(xlim=(<span class="number">0</span>, <span class="number">10</span>), ylim=(<span class="number">-2</span>, <span class="number">2</span>),</span><br><span class="line">       xlabel=<span class="string">'x'</span>, ylabel=<span class="string">'sin(x)'</span>,</span><br><span class="line">       title=<span class="string">'A Simple Plot'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224143.png" alt=""></p><h1 id="2-ç®€å•æ•£ç‚¹å›¾"><a href="#2-ç®€å•æ•£ç‚¹å›¾" class="headerlink" title="2.ç®€å•æ•£ç‚¹å›¾"></a><strong>2.ç®€å•æ•£ç‚¹å›¾</strong></h1><p>å¦ä¸€ç§å¸¸ç”¨çš„å›¾è¡¨ç±»å‹æ˜¯ç®€å•æ•£ç‚¹å›¾ï¼Œå®ƒæ˜¯æŠ˜çº¿å›¾çš„è¿‘äº²ã€‚ä¸åƒæŠ˜çº¿å›¾ï¼Œå›¾ä¸­çš„ç‚¹è¿æ¥èµ·æ¥ç»„æˆè¿çº¿ï¼Œæ•£ç‚¹å›¾ä¸­çš„ç‚¹éƒ½æ˜¯ç‹¬ç«‹åˆ†å¸ƒçš„ç‚¹çŠ¶ã€åœ†åœˆæˆ–å…¶ä»–å½¢çŠ¶ã€‚æœ¬èŠ‚å¼€å§‹æˆ‘ä»¬ä¹Ÿæ˜¯é¦–å…ˆå°†éœ€è¦ç”¨åˆ°çš„å›¾è¡¨å·¥å…·å’Œå‡½æ•°å¯¼å…¥åˆ° notebook ä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'seaborn-whitegrid'</span>)</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-plt-plot-ç»˜åˆ¶æ•£ç‚¹å›¾"><a href="#ä½¿ç”¨-plt-plot-ç»˜åˆ¶æ•£ç‚¹å›¾" class="headerlink" title="ä½¿ç”¨ plt.plot ç»˜åˆ¶æ•£ç‚¹å›¾"></a><strong>ä½¿ç”¨ plt.plot ç»˜åˆ¶æ•£ç‚¹å›¾</strong></h2><p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†plt.plot/ax.plotæ–¹æ³•ç»˜åˆ¶æŠ˜çº¿å›¾ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥åŒæ ·ç”¨æ¥ç»˜åˆ¶æ•£ç‚¹å›¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">30</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y, <span class="string">'o'</span>, color=<span class="string">'black'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224148.png" alt=""></p><p>ä¼ é€’ç»™å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä»£è¡¨çš„å›¾è¡¨ç»˜åˆ¶ç‚¹çš„ç±»å‹ã€‚å°±åƒä½ å¯ä»¥ä½¿ç”¨â€™-â€˜æˆ–â€™â€”â€˜æ¥æ§åˆ¶çº¿æ¡çš„é£æ ¼é‚£æ ·ï¼Œç‚¹çš„ç±»å‹é£æ ¼ä¹Ÿå¯ä»¥ä½¿ç”¨çŸ­å­—ç¬¦ä¸²ä»£ç æ¥è¡¨ç¤ºã€‚æ‰€æœ‰å¯ç”¨çš„ç¬¦å·å¯ä»¥é€šè¿‡plt.plotæ–‡æ¡£æˆ– Matplotlib åœ¨çº¿æ–‡æ¡£è¿›è¡ŒæŸ¥é˜…ã€‚å¤§å¤šæ•°çš„ä»£ç éƒ½æ˜¯éå¸¸ç›´è§‚çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä¾‹å­å¯ä»¥å±•ç¤ºé‚£äº›æœ€é€šç”¨çš„ç¬¦å·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rng = np.random.RandomState(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">for</span> marker <span class="keyword">in</span> [<span class="string">'o'</span>, <span class="string">'.'</span>, <span class="string">','</span>, <span class="string">'x'</span>, <span class="string">'+'</span>, <span class="string">'v'</span>, <span class="string">'^'</span>, <span class="string">'&lt;'</span>, <span class="string">'&gt;'</span>, <span class="string">'s'</span>, <span class="string">'d'</span>]:</span><br><span class="line">    plt.plot(rng.rand(<span class="number">5</span>), rng.rand(<span class="number">5</span>), marker,</span><br><span class="line">             label=<span class="string">"marker='&#123;0&#125;'"</span>.format(marker))</span><br><span class="line">plt.legend(numpoints=<span class="number">1</span>)</span><br><span class="line">plt.xlim(<span class="number">0</span>, <span class="number">1.8</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224151.png" alt=""></p><p>è€Œä¸”è¿™äº›ç¬¦å·ä»£ç å¯ä»¥å’Œçº¿æ¡ã€é¢œè‰²ä»£ç ä¸€èµ·ä½¿ç”¨ï¼Œè¿™ä¼šåœ¨æŠ˜çº¿å›¾çš„åŸºç¡€ä¸Šç»˜åˆ¶å‡ºæ•£ç‚¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y, <span class="string">'-ok'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224155.png" alt=""></p><p>plt.plotè¿˜æœ‰å¾ˆå¤šé¢å¤–çš„å…³é”®å­—å‚æ•°ç”¨æ¥æŒ‡å®šå¹¿æ³›çš„çº¿æ¡å’Œç‚¹çš„å±æ€§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y, <span class="string">'-p'</span>, color=<span class="string">'gray'</span>,</span><br><span class="line">         markersize=<span class="number">15</span>, linewidth=<span class="number">4</span>,</span><br><span class="line">         markerfacecolor=<span class="string">'white'</span>,</span><br><span class="line">         markeredgecolor=<span class="string">'gray'</span>,</span><br><span class="line">         markeredgewidth=<span class="number">2</span>)</span><br><span class="line">plt.ylim(<span class="number">-1.2</span>, <span class="number">1.2</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224159.png" alt=""></p><p>plt.plotå‡½æ•°çš„è¿™ç§çµæ´»æ€§æä¾›äº†å¾ˆå¤šçš„å¯è§†åŒ–é€‰æ‹©ã€‚æŸ¥é˜…plt.plotå¸®åŠ©æ–‡æ¡£è·å¾—å®Œæ•´çš„é€‰é¡¹è¯´æ˜ã€‚</p><h2 id="ä½¿ç”¨plt-scatterç»˜åˆ¶æ•£ç‚¹å›¾"><a href="#ä½¿ç”¨plt-scatterç»˜åˆ¶æ•£ç‚¹å›¾" class="headerlink" title="ä½¿ç”¨plt.scatterç»˜åˆ¶æ•£ç‚¹å›¾"></a><strong>ä½¿ç”¨plt.scatterç»˜åˆ¶æ•£ç‚¹å›¾</strong></h2><p>ç¬¬äºŒç§æ›´å¼ºå¤§çš„ç»˜åˆ¶æ•£ç‚¹å›¾çš„æ–¹æ³•æ˜¯ä½¿ç”¨plt.scatterå‡½æ•°ï¼Œå®ƒçš„ä½¿ç”¨æ–¹æ³•å’Œplt.plotç±»ä¼¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x, y, marker=<span class="string">'o'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224202.png" alt=""></p><p>plt.scatterå’Œplt.plotçš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œplt.scatterå¯ä»¥é’ˆå¯¹æ¯ä¸ªç‚¹è®¾ç½®ä¸åŒå±æ€§ï¼ˆå¤§å°ã€å¡«å……é¢œè‰²ã€è¾¹ç¼˜é¢œè‰²ç­‰ï¼‰ï¼Œè¿˜å¯ä»¥é€šè¿‡æ•°æ®é›†åˆå¯¹è¿™äº›å±æ€§è¿›è¡Œè®¾ç½®ã€‚</p><p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªéšæœºå€¼æ•°æ®é›†ç»˜åˆ¶ä¸åŒé¢œè‰²å’Œå¤§å°çš„æ•£ç‚¹å›¾æ¥è¯´æ˜ã€‚ä¸ºäº†æ›´å¥½çš„æŸ¥çœ‹é‡å çš„ç»“æœï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº†alphaå…³é”®å­—å‚æ•°å¯¹ç‚¹çš„é€æ˜åº¦è¿›è¡Œäº†è°ƒæ•´ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rng = np.random.RandomState(<span class="number">0</span>)</span><br><span class="line">x = rng.randn(<span class="number">100</span>)</span><br><span class="line">y = rng.randn(<span class="number">100</span>)</span><br><span class="line">colors = rng.rand(<span class="number">100</span>)</span><br><span class="line">sizes = <span class="number">1000</span> * rng.rand(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">plt.scatter(x, y, c=colors, s=sizes, alpha=<span class="number">0.3</span>,</span><br><span class="line">            cmap=<span class="string">'viridis'</span>)</span><br><span class="line">plt.colorbar();  <span class="comment"># æ˜¾ç¤ºé¢œè‰²å¯¹æ¯”æ¡</span></span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224207.png" alt=""></p><p>æ³¨æ„å›¾è¡¨å³è¾¹æœ‰ä¸€ä¸ªé¢œè‰²å¯¹æ¯”æ¡ï¼ˆè¿™é‡Œé€šè¿‡colormap()å‡½æ•°è¾“å‡ºï¼‰ï¼Œå›¾è¡¨ä¸­çš„ç‚¹å¤§å°çš„å•ä½æ˜¯åƒç´ ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ•£ç‚¹çš„é¢œè‰²å’Œå¤§å°éƒ½èƒ½ç”¨æ¥å±•ç¤ºæ•°æ®ä¿¡æ¯ï¼Œåœ¨å¸Œæœ›å±•ç¤ºå¤šä¸ªç»´åº¦æ•°æ®é›†åˆçš„æƒ…å†µä¸‹å¾ˆç›´è§‚ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ Scikit-learn ä¸­çš„é¸¢å°¾èŠ±æ•°æ®é›†ï¼Œé‡Œé¢çš„æ¯ä¸ªæ ·æœ¬éƒ½æ˜¯ä¸‰ç§é¸¢å°¾èŠ±ä¸­çš„å…¶ä¸­ä¸€ç§ï¼Œå¹¶å¸¦æœ‰ä»”ç»†æµ‹é‡çš„èŠ±ç“£å’ŒèŠ±è¼çš„å°ºå¯¸æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line">iris = load_iris()</span><br><span class="line">features = iris.data.T</span><br><span class="line"></span><br><span class="line">plt.scatter(features[<span class="number">0</span>], features[<span class="number">1</span>], alpha=<span class="number">0.2</span>,</span><br><span class="line">            s=<span class="number">100</span>*features[<span class="number">3</span>], c=iris.target, cmap=<span class="string">'viridis'</span>)</span><br><span class="line">plt.xlabel(iris.feature_names[<span class="number">0</span>])</span><br><span class="line">plt.ylabel(iris.feature_names[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224211.png" alt=""></p><p>æˆ‘ä»¬å¯ä»¥ä»ä¸Šå›¾ä¸­çœ‹å‡ºï¼Œå¯ä»¥é€šè¿‡æ•£ç‚¹å›¾åŒæ—¶å±•ç¤ºè¯¥æ•°æ®é›†çš„å››ä¸ªä¸åŒç»´åº¦ï¼šå›¾ä¸­çš„(x, y)ä½ç½®ä»£è¡¨æ¯ä¸ªæ ·æœ¬çš„èŠ±è¼çš„é•¿åº¦å’Œå®½åº¦ï¼Œæ•£ç‚¹çš„å¤§å°ä»£è¡¨æ¯ä¸ªæ ·æœ¬çš„èŠ±ç“£çš„å®½åº¦ï¼Œè€Œæ•£ç‚¹çš„é¢œè‰²ä»£è¡¨ä¸€ç§ç‰¹å®šçš„é¸¢å°¾èŠ±ç±»å‹ã€‚å¦‚ä¸Šå›¾çš„å¤šç§é¢œè‰²å’Œå¤šç§å±æ€§çš„æ•£ç‚¹å›¾å¯¹äºæˆ‘ä»¬åˆ†æå’Œå±•ç¤ºæ•°æ®é›†æ—¶éƒ½éå¸¸æœ‰å¸®åŠ©ã€‚</p><h2 id="plot-å’Œ-scatter-å¯¹æ¯”ï¼šæ€§èƒ½æé†’"><a href="#plot-å’Œ-scatter-å¯¹æ¯”ï¼šæ€§èƒ½æé†’" class="headerlink" title="plot å’Œ scatter å¯¹æ¯”ï¼šæ€§èƒ½æé†’"></a><strong>plot å’Œ scatter å¯¹æ¯”ï¼šæ€§èƒ½æé†’</strong></h2><p>é™¤äº†ä¸Šé¢è¯´çš„plt.plotå’Œplt.scatterå¯¹äºæ¯ä¸ªæ•£ç‚¹ä¸åŒå±æ€§çš„æ”¯æŒä¸åŒä¹‹å¤–ï¼Œè¿˜æœ‰åˆ«çš„å› ç´ å½±å“å¯¹è¿™ä¸¤ä¸ªå‡½æ•°çš„é€‰æ‹©å—ï¼Ÿå¯¹äºå°çš„æ•°æ®é›†æ¥è¯´ï¼Œä¸¤è€…å¹¶æ— å·®åˆ«ï¼Œå½“æ•°æ®é›†å¢é•¿åˆ°å‡ åƒä¸ªç‚¹æ—¶ï¼Œplt.plotä¼šæ˜æ˜¾æ¯”plt.scatterçš„æ€§èƒ½è¦é«˜ã€‚é€ æˆè¿™ä¸ªå·®å¼‚çš„åŸå› æ˜¯plt.scatteræ”¯æŒæ¯ä¸ªç‚¹ä½¿ç”¨ä¸åŒçš„å¤§å°å’Œé¢œè‰²ï¼Œå› æ­¤æ¸²æŸ“æ¯ä¸ªç‚¹æ—¶éœ€è¦å®Œæˆæ›´å¤šé¢å¤–çš„å·¥ä½œã€‚è€Œplt.plotæ¥è¯´ï¼Œæ¯ä¸ªç‚¹éƒ½æ˜¯ç®€å•çš„å¤åˆ¶å¦ä¸€ä¸ªç‚¹äº§ç”Ÿï¼Œå› æ­¤å¯¹äºæ•´ä¸ªæ•°æ®é›†æ¥è¯´ï¼Œç¡®å®šæ¯ä¸ªç‚¹çš„å±•ç¤ºå±æ€§çš„å·¥ä½œä»…éœ€è¦è¿›è¡Œä¸€æ¬¡å³å¯ã€‚å¯¹äºå¾ˆå¤§çš„æ•°æ®é›†æ¥è¯´ï¼Œè¿™ä¸ªå·®å¼‚ä¼šå¯¼è‡´ä¸¤è€…æ€§èƒ½çš„å·¨å¤§åŒºåˆ«ï¼Œå› æ­¤ï¼Œå¯¹äºå¤§æ•°æ®é›†åº”è¯¥ä¼˜å…ˆä½¿ç”¨plt.plotå‡½æ•°ã€‚</p><h1 id="3-è¯¯å·®å¯è§†åŒ–"><a href="#3-è¯¯å·®å¯è§†åŒ–" class="headerlink" title="3.è¯¯å·®å¯è§†åŒ–"></a><strong>3.è¯¯å·®å¯è§†åŒ–</strong></h1><p>å¯¹äºä»»ä½•çš„ç§‘å­¦æµ‹é‡æ¥è¯´ï¼Œç²¾ç¡®è®¡ç®—è¯¯å·®ä¸ç²¾ç¡®æŠ¥å‘Šæµ‹é‡å€¼åŸºæœ¬ä¸ŠåŒç­‰é‡è¦ã€‚ä¾‹å¦‚ï¼Œè®¾æƒ³æˆ‘æ­£åœ¨ä½¿ç”¨ä¸€äº›å¤©æ–‡ç‰©ç†å­¦è§‚æµ‹å€¼æ¥ä¼°ç®—å“ˆå‹ƒå¸¸æ•°ï¼Œå³æœ¬åœ°è§‚æµ‹çš„å®‡å®™è†¨èƒ€ç³»æ•°ã€‚æˆ‘ä»ä¸€äº›æ–‡çŒ®ä¸­çŸ¥é“è¿™ä¸ªå€¼å¤§æ¦‚æ˜¯ 71 (km/s)/Mpcï¼Œè€Œæˆ‘æµ‹é‡å¾—åˆ°çš„å€¼æ˜¯ 74 (km/s)/Mpc,ã€‚è¿™ä¸¤ä¸ªå€¼æ˜¯å¦ä¸€è‡´ï¼Ÿåœ¨ä»…ç»™å®šè¿™äº›æ•°æ®çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼Œæ— æ³•å›ç­”ã€‚</p><p>Mpcï¼ˆç™¾ä¸‡ç§’å·®è·ï¼‰å‚è§ç§’å·®è·[4]</p><p>å¦‚æœæˆ‘ä»¬å°†ä¿¡æ¯å¢åŠ ä¸€äº›ï¼Œç»™å‡ºä¸ç¡®å®šæ€§ï¼šæœ€æ–°çš„æ–‡çŒ®è¡¨ç¤ºå“ˆå‹ƒå¸¸æ•°çš„å€¼å¤§çº¦æ˜¯ 71  2.5 (km/s)/Mpcï¼Œæˆ‘çš„æµ‹é‡å€¼æ˜¯ 74  5 (km/s)/Mpcã€‚è¿™ä¸¤ä¸ªå€¼æ˜¯ä¸€è‡´çš„å—ï¼Ÿè¿™å°±æ˜¯ä¸€ä¸ªå¯ä»¥å‡†ç¡®å›ç­”çš„é—®é¢˜äº†ã€‚</p><p>åœ¨æ•°æ®å’Œç»“æœçš„å¯è§†åŒ–ä¸­ï¼Œæœ‰æ•ˆåœ°å±•ç¤ºè¿™äº›è¯¯å·®èƒ½ä½¿ä½ çš„å›¾è¡¨æ¶µç›–å’Œæä¾›æ›´åŠ å®Œæ•´çš„ä¿¡æ¯ã€‚</p><h2 id="åŸºç¡€è¯¯å·®æ¡"><a href="#åŸºç¡€è¯¯å·®æ¡" class="headerlink" title="åŸºç¡€è¯¯å·®æ¡"></a><strong>åŸºç¡€è¯¯å·®æ¡</strong></h2><p>è°ƒç”¨ä¸€ä¸ª Matplotlib å‡½æ•°å°±èƒ½åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„è¯¯å·®æ¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'seaborn-whitegrid'</span>)</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">50</span>)</span><br><span class="line">dy = <span class="number">0.8</span></span><br><span class="line">y = np.sin(x) + dy * np.random.randn(<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">plt.errorbar(x, y, yerr=dy, fmt=<span class="string">'.k'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224220.png" alt=""></p><p>è¿™é‡Œçš„fmtå‚æ•°æ˜¯ç”¨æ¥æ§åˆ¶çº¿æ¡å’Œç‚¹é£æ ¼çš„ä»£ç ï¼Œä¸plt.plotæœ‰ç€ç›¸åŒçš„è¯­æ³•ï¼Œå‚è§[ç®€å•çš„æŠ˜çº¿å›¾]å’Œ[ç®€å•çš„æ•£ç‚¹å›¾]ã€‚</p><p>é™¤äº†ä¸Šé¢çš„åŸºæœ¬å‚æ•°ï¼Œerrorbarå‡½æ•°è¿˜æœ‰å¾ˆå¤šå‚æ•°å¯ä»¥ç”¨æ¥ç²¾ç»†è°ƒèŠ‚å›¾è¡¨è¾“å‡ºã€‚ä½¿ç”¨è¿™äº›å‚æ•°ä½ å¯ä»¥å¾ˆå®¹æ˜“çš„ä¸ªæ€§åŒ–è°ƒæ•´è¯¯å·®æ¡çš„æ ·å¼ã€‚ä½œè€…å‘ç°é€šå¸¸å°†è¯¯å·®çº¿æ¡é¢œè‰²è°ƒæ•´ä¸ºæµ…è‰²ä¼šæ›´åŠ æ¸…æ™°ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®ç‚¹æ¯”è¾ƒå¯†é›†çš„æƒ…å†µä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.errorbar(x, y, yerr=dy, fmt=<span class="string">'o'</span>, color=<span class="string">'black'</span>,</span><br><span class="line">             ecolor=<span class="string">'lightgray'</span>, elinewidth=<span class="number">3</span>, capsize=<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224225.png" alt=""></p><p>é™¤äº†ä¸Šé¢ä»‹ç»çš„å‚æ•°ï¼Œä½ è¿˜å¯ä»¥æŒ‡å®šæ°´å¹³æ–¹å‘çš„è¯¯å·®æ¡ï¼ˆxerrï¼‰ï¼Œå•è¾¹è¯¯å·®æ¡å’Œå…¶ä»–å¾ˆå¤šçš„å‚æ•°ã€‚å‚é˜…plt.errorbarçš„å¸®åŠ©æ–‡æ¡£è·å¾—æ›´å¤šä¿¡æ¯ã€‚</p><h2 id="è¿ç»­è¯¯å·®"><a href="#è¿ç»­è¯¯å·®" class="headerlink" title="è¿ç»­è¯¯å·®"></a><strong>è¿ç»­è¯¯å·®</strong></h2><p>åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½éœ€è¦å¯¹è¿ç»­å€¼å±•ç¤ºè¯¯å·®æ¡ã€‚è™½ç„¶ Matplotlib æ²¡æœ‰å…§å»ºçš„å‡½æ•°èƒ½ç›´æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ç®€å•å°†plt.plotå’Œplt.fill_betweenå‡½æ•°ç»“åˆèµ·æ¥è¾¾åˆ°ç›®æ ‡ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä¼šé‡‡ç”¨ç®€å•çš„é«˜æ–¯è¿‡ç¨‹å›å½’æ–¹æ³•ï¼ŒScikit-Learn æä¾›äº† APIã€‚è¿™ä¸ªæ–¹æ³•éå¸¸é€‚åˆåœ¨éå‚æ•°åŒ–çš„å‡½æ•°ä¸­è·å¾—è¿ç»­è¯¯å·®ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä¸ä¼šè¯¦ç»†ä»‹ç»é«˜æ–¯è¿‡ç¨‹å›å½’ï¼Œä»…ä»…èšç„¦åœ¨å¦‚ä½•ç»˜åˆ¶è¿ç»­è¯¯å·®æœ¬èº«ï¼š</p><p>è¯‘è€…æ³¨ï¼šæ–°ç‰ˆçš„ sklearn ä¿®æ”¹äº†é«˜æ–¯è¿‡ç¨‹å›å½’å®ç°æ–¹æ³•ï¼Œä¸‹é¢ä»£ç åšäº†ç›¸åº”ä¿®æ”¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.gaussian_process <span class="keyword">import</span> GaussianProcessRegressor</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰æ¨¡å‹å’Œä¸€äº›ç¬¦åˆæ¨¡å‹çš„ç‚¹</span></span><br><span class="line">model = <span class="keyword">lambda</span> x: x * np.sin(x)</span><br><span class="line">xdata = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>])</span><br><span class="line">ydata = model(xdata)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—é«˜æ–¯è¿‡ç¨‹å›å½’ï¼Œä½¿å…¶ç¬¦åˆ fit æ•°æ®ç‚¹</span></span><br><span class="line">gp = GaussianProcessRegressor()</span><br><span class="line">gp.fit(xdata[:, np.newaxis], ydata)</span><br><span class="line"></span><br><span class="line">xfit = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">yfit, std = gp.predict(xfit[:, np.newaxis], return_std=<span class="literal">True</span>)</span><br><span class="line">dyfit = <span class="number">2</span> * std  <span class="comment"># ä¸¤å€sigma ~ 95% ç¡®å®šåŒºåŸŸ</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç°åœ¨æœ‰äº†xfitã€yfitå’Œdyfitï¼Œä½œä¸ºå¯¹æˆ‘ä»¬æ•°æ®çš„è¿ç»­æ‹Ÿåˆå€¼ä»¥åŠè¯¯å·®é™ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åƒä¸Šé¢ä¸€æ ·ä½¿ç”¨plt.errorbarç»˜åˆ¶è¯¯å·®æ¡ï¼Œä½†æ˜¯äº‹å®ä¸Šæˆ‘ä»¬ä¸å¸Œæœ›åœ¨å›¾æ ‡ä¸Šç»˜åˆ¶ 1000 ä¸ªç‚¹çš„è¯¯å·®æ¡ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨plt.fill_betweenå‡½æ•°åœ¨è¯¯å·®é™åŒºåŸŸå†…å¡«å……ä¸€é“æµ…è‰²çš„è¯¯å·®å¸¦æ¥å±•ç¤ºè¿ç»­è¯¯å·®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯è§†åŒ–ç»“æœ</span></span><br><span class="line">plt.plot(xdata, ydata, <span class="string">'or'</span>)</span><br><span class="line">plt.plot(xfit, yfit, <span class="string">'-'</span>, color=<span class="string">'gray'</span>)</span><br><span class="line"></span><br><span class="line">plt.fill_between(xfit, yfit - dyfit, yfit + dyfit,</span><br><span class="line">                 color=<span class="string">'gray'</span>, alpha=<span class="number">0.2</span>)</span><br><span class="line">plt.xlim(<span class="number">0</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224230.png" alt=""></p><p>æ³¨æ„ä¸Šé¢æˆ‘ä»¬è°ƒç”¨fill_betweenå‡½æ•°ï¼šæˆ‘ä»¬ä¼ é€’äº†çš„å‚æ•°åŒ…æ‹¬ x å€¼ï¼Œy å€¼çš„ä½é™ï¼Œç„¶åæ˜¯ y å€¼çš„é«˜é™ï¼Œç»“æœæ˜¯å›¾è¡¨ä¸­ä»‹äºä½é™å’Œé«˜é™ä¹‹é—´çš„åŒºåŸŸä¼šè¢«å¡«å……ã€‚</p><p>ä¸Šå›¾ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªéå¸¸ç›´è§‚çš„é«˜æ–¯è¿‡ç¨‹å›å½’å±•ç¤ºï¼šåœ¨è§‚æµ‹ç‚¹çš„é™„è¿‘ï¼Œæ¨¡å‹ä¼šè¢«é™åˆ¶åœ¨ä¸€ä¸ªå¾ˆå°çš„åŒºåŸŸå†…ï¼Œåæ˜ äº†è¿™äº›æ•°æ®çš„è¯¯å·®æ¯”è¾ƒå°ã€‚åœ¨è¿œç¦»è§‚æµ‹ç‚¹çš„åŒºåŸŸï¼Œæ¨¡å‹å¼€å§‹å‘æ•£ï¼Œåæ˜ äº†è¿™æ—¶çš„æ•°æ®è¯¯å·®æ¯”è¾ƒå¤§ã€‚</p><p>å¦‚æœéœ€è¦è·å¾—plt.fill_betweenï¼ˆä»¥åŠç±»ä¼¼çš„plt.fillå‡½æ•°ï¼‰æ›´å¤šå‚æ•°çš„ä¿¡æ¯ï¼Œè¯·æŸ¥é˜…å‡½æ•°çš„å¸®åŠ©æ–‡æ¡£æˆ– Matplotlib åœ¨çº¿æ–‡æ¡£ã€‚</p><h1 id="4-å¯†åº¦å’Œè½®å»“å›¾"><a href="#4-å¯†åº¦å’Œè½®å»“å›¾" class="headerlink" title="4.å¯†åº¦å’Œè½®å»“å›¾"></a><strong>4.å¯†åº¦å’Œè½®å»“å›¾</strong></h1><p>æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨äºŒç»´å›¾è¡¨ä¸­ä½¿ç”¨è½®å»“æˆ–é¢œè‰²åŒºåŸŸæ¥å±•ç¤ºä¸‰ç»´çš„æ•°æ®ï¼ˆå¯ä»¥è®¾æƒ³ç­‰é«˜çº¿åœ°å›¾æˆ–æ¸©åº¦åˆ†å¸ƒå›¾ï¼‰ã€‚Matplotlib æä¾›äº†ä¸‰ä¸ªæœ‰ç”¨çš„å‡½æ•°æ¥å¤„ç†è¿™é¡¹ä»»åŠ¡ï¼šplt.contourç»˜åˆ¶è½®å»“å›¾ï¼Œplt.contourfæ¥ç»˜åˆ¶å¡«å……åŒºåŸŸé¢œè‰²çš„å›¾è¡¨ä»¥åŠplt.imshowæ¥å±•ç¤ºå›¾åƒã€‚æœ¬èŠ‚ä¼šä»‹ç»å‡ ä¸ªä½¿ç”¨å®ƒä»¬çš„ä¾‹å­ã€‚å½“ç„¶æˆ‘ä»¬è¿˜æ˜¯é¦–å…ˆä»å°†éœ€è¦ä½¿ç”¨çš„åŒ…å¯¼å…¥ notebook å’Œåˆå§‹åŒ–å·¥ä½œå¼€å§‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'seaborn-white'</span>)</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ç»´å¯è§†åŒ–å‡½æ•°"><a href="#ä¸‰ç»´å¯è§†åŒ–å‡½æ•°" class="headerlink" title="ä¸‰ç»´å¯è§†åŒ–å‡½æ•°"></a><strong>ä¸‰ç»´å¯è§†åŒ–å‡½æ•°</strong></h2><p>æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ä¸€ä¸ªç®€å•çš„å‡½æ•°  ç»˜åˆ¶ä¸€ä¸ªè½®å»“å›¾æ¥è¿›è¡Œè¯´æ˜ï¼Œæˆ‘ä»¬ç”¨æ¥ä½œä¸ºæ•°ç»„å¹¿æ’­è¿ç®—çš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> np.sin(x) ** <span class="number">10</span> + np.cos(<span class="number">10</span> + y * x) * np.cos(x)</span><br></pre></td></tr></table></figure><p>è½®å»“å›¾å¯ä»¥ä½¿ç”¨plt.contourå‡½æ•°è¿›è¡Œåˆ›å»ºã€‚å®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šxå‚æ•°ä»£è¡¨ä¸‰ç»´ç½‘æ ¼çš„å¹³é¢æ¨ªè½´åæ ‡ï¼Œyå‚æ•°ä»£è¡¨ä¸‰ç»´ç½‘æ ¼çš„å¹³é¢çºµè½´åæ ‡ï¼Œè€Œzå‚æ•°ä»£è¡¨ä¸‰ç»´ç½‘æ ¼çš„é«˜åº¦åæ ‡ã€‚æœ€å®¹æ˜“ç”¨æ¥å‡†å¤‡è¿™ç§ç½‘æ ¼æ•°æ®çš„æ˜¯np.meshgridå‡½æ•°ï¼Œå¯ä»¥å°†ä¸¤ä¸ªä¸€ç»´çš„æ•°ç»„æ„é€ æˆä¸€ä¸ªäºŒç»´çš„ç½‘æ ¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">5</span>, <span class="number">50</span>)</span><br><span class="line">y = np.linspace(<span class="number">0</span>, <span class="number">5</span>, <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line">Z = f(X, Y)</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬å¯ä»¥ç»˜åˆ¶æ ‡å‡†çš„è½®å»“çº¿å›¾è¡¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.contour(X, Y, Z, colors=<span class="string">'black'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224235.png" alt=""></p><p>å›¾ä¸­å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨å•è‰²ç»˜åˆ¶è½®å»“å›¾æ—¶ï¼Œè™šçº¿ä»£è¡¨çš„æ˜¯è´Ÿæ•°çš„æ•°å€¼ï¼Œè€Œå®çº¿ä»£è¡¨çš„æ˜¯æ­£æ•°ã€‚è€Œè½®å»“çº¿å¯ä»¥é€šè¿‡æŒ‡å®šcmapå‚æ•°æ¥è®¾ç½®çº¿æ¡çš„è‰²å›¾ã€‚ä¸‹ä¾‹ä¸­å±•ç¤ºäº†ä½¿ç”¨è‰²å›¾ä¸”ç»˜åˆ¶äº†æ›´å¤šçš„è½®å»“çº¿çš„ä¾‹å­ï¼Œä¼šåœ¨æ•´ä¸ªæ•°æ®èŒƒå›´åŒºåŸŸå†…ç­‰è·åˆ†å¸ƒæœ‰ 20 æ¡è½®å»“çº¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.contour(X, Y, Z, <span class="number">20</span>, cmap=<span class="string">'RdGy'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224238.png" alt=""></p><p>ä¸Šä¾‹ä¸­æˆ‘ä»¬é€‰æ‹©äº†RdGyï¼ˆRed-Grayçš„ç¼©å†™ï¼‰è‰²å›¾ï¼Œè¿™å¯¹äºèšé›†çš„æ•°æ®æ¥è¯´æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚Matplotlib æœ‰å¤§é‡çš„é¢œè‰²å›¾å¯ä¾›ä½¿ç”¨ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ IPython ä¸­å¯¹plt.cmæ¨¡å—ä½¿ç”¨ TAB è‡ªåŠ¨è¡¥å…¨æ–¹æ³•å°±å¯ä»¥çœ‹åˆ°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.cm.&lt;TAB&gt;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å›¾çœ‹èµ·æ¥æ¯”ç¬¬ä¸€å¹…å›¾å¥½å¤šäº†ï¼Œä½†æ˜¯çº¿æ¡ä¹‹é—´çš„ç©ºéš™è¿˜æ˜¯æœ‰ç‚¹è®©äººæ··æ·†ã€‚æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„å›¾æ”¹ä¸ºå¡«å……è½®å»“å›¾æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨plt.contourf()å‡½æ•°ï¼ˆæ³¨æ„å‡½æ•°åæœ€åæœ‰ä¸ª fï¼Œä»£è¡¨å¡«å…… fillï¼‰ï¼Œè¿™ä¸ªå‡½æ•°çš„è¯­æ³•åŸºæœ¬ä¸Šä¸plt.contour()ä¿æŒä¸€è‡´ã€‚</p><p>å¹¶ä¸”æˆ‘ä»¬åŠ ä¸Šäº†plt.colorbar()å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨å›¾è¡¨è¾¹ä¸Šåˆ›å»ºä¸€ä¸ªé¢œè‰²å›¾ä¾‹ç”¨ä»¥å±•ç¤ºé¢œè‰²æ‰€è¡¨ç¤ºçš„æ•°å€¼åŒºåŸŸï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.contourf(X, Y, Z, <span class="number">20</span>, cmap=<span class="string">'RdGy'</span>)</span><br><span class="line">plt.colorbar();</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224241.png" alt=""></p><p>æœ‰äº†å›¾ä¾‹ï¼Œå¾ˆå®¹æ˜“å¯ä»¥çœ‹å‡ºé»‘è‰²åŒºåŸŸä»£è¡¨ç€â€œå³°â€ï¼Œè€Œçº¢è‰²åŒºåŸŸä»£è¡¨è¿™â€œè°·â€ã€‚</p><p>ä¸Šå›¾æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œé‚£å°±æ˜¯å›¾ä¸­é¢œè‰²çš„é˜¶æ¢¯æ˜¯ç¦»æ•£çš„è€Œä¸æ˜¯è¿ç»­çš„ï¼Œè¿™é€šå¸¸ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®å¾ˆé«˜çš„è½®å»“çº¿æ•°é‡æ¥æ”¹å–„ï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´ç»˜åˆ¶å›¾è¡¨çš„æ€§èƒ½é™ä½ï¼šMatplotlib å¿…é¡»åœ¨æ¯ä¸ªé¢œè‰²é˜¶æ¢¯ä¸Šç»˜åˆ¶ä¸€æ¡æ–°çš„è½®å»“å¤šè¾¹å½¢ã€‚æ›´å¥½çš„åŠæ³•æ˜¯ä½¿ç”¨plt.imshow()å‡½æ•°ï¼Œå®ƒä¼šå°†ä¸€ä¸ªäºŒç»´çš„ç½‘æ ¼å›¾è¡¨è½¬æ¢ä¸ºä¸€å¼ å›¾åƒã€‚</p><p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†è¯¥æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.imshow(Z, extent=[<span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>], origin=<span class="string">'lower'</span>,</span><br><span class="line">           cmap=<span class="string">'RdGy'</span>)</span><br><span class="line">plt.colorbar()</span><br><span class="line">plt.axis(aspect=<span class="string">'image'</span>);</span><br></pre></td></tr></table></figure><p>C:\Users\gdc\Anaconda3\lib\site-packages\ipykernel_launcher.py:4: MatplotlibDeprecationWarning: Passing unsupported keyword arguments to axis() will raise a TypeError in 3.3.<br>  after removing the cwd from sys.path.</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224241.png" alt=""></p><p>ç„¶è€Œï¼Œåœ¨ä½¿ç”¨imshow()çš„æ—¶å€™ä¹Ÿæœ‰ä¸€äº›å‘ï¼š</p><ul><li>plt.imshow()ä¸æ¥å— x å’Œ y ç½‘æ ¼å€¼ä½œä¸ºå‚æ•°ï¼Œå› æ­¤ä½ éœ€è¦æ‰‹åŠ¨æŒ‡å®šextentå‚æ•°[xmin, xmax, ymin, ymax]æ¥è®¾ç½®å›¾è¡¨çš„æ•°æ®èŒƒå›´ã€‚</li><li>plt.imshow()ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„å›¾åƒåæ ‡ï¼Œå³å·¦ä¸Šè§’åæ ‡ç‚¹æ˜¯åŸç‚¹ï¼Œè€Œä¸æ˜¯é€šå¸¸å›¾è¡¨çš„å·¦ä¸‹è§’åæ ‡ç‚¹ã€‚è¿™å¯ä»¥é€šè¿‡è®¾ç½®originå‚æ•°æ¥è®¾ç½®ã€‚</li><li>plt.imshow()ä¼šè‡ªåŠ¨æ ¹æ®è¾“å…¥æ•°æ®è°ƒæ•´åæ ‡è½´çš„æ¯”ä¾‹ï¼›è¿™å¯ä»¥é€šè¿‡å‚æ•°æ¥è®¾ç½®ï¼Œä¾‹å¦‚ï¼Œplt.axis(aspect=â€™imageâ€™)èƒ½è®© x å’Œ y è½´çš„å•ä½ä¸€è‡´ã€‚</li></ul><p>æœ€åï¼Œæœ‰æ—¶å¯èƒ½éœ€è¦å°†è½®å»“å›¾å’Œå›¾åƒç»“åˆèµ·æ¥ã€‚ä¾‹å¦‚ï¼Œä¸‹ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº†åŠé€æ˜çš„èƒŒæ™¯å›¾åƒï¼ˆé€šè¿‡alphaå‚æ•°è®¾ç½®é€æ˜åº¦ï¼‰ï¼Œç„¶ååœ¨èƒŒæ™¯å›¾å±‚ä¹‹ä¸Šç»˜åˆ¶äº†è½®å»“å›¾ï¼Œå¹¶å¸¦æœ‰æ¯ä¸ªè½®å»“çš„æ•°å€¼æ ‡ç­¾ï¼ˆä½¿ç”¨plt.clabel()å‡½æ•°ç»˜åˆ¶æ ‡ç­¾ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">contours = plt.contour(X, Y, Z, <span class="number">3</span>, colors=<span class="string">'black'</span>)</span><br><span class="line">plt.clabel(contours, inline=<span class="literal">True</span>, fontsize=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">plt.imshow(Z, extent=[<span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>], origin=<span class="string">'lower'</span>,</span><br><span class="line">           cmap=<span class="string">'RdGy'</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.colorbar();</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224249.png" alt=""></p><p>é€šè¿‡ç»„åˆä½¿ç”¨plt.contourã€plt.contourfå’Œplt.imshowè¿™ä¸‰ä¸ªå‡½æ•°ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³æˆ‘ä»¬ç»˜åˆ¶æ‰€æœ‰è¿™ç§åœ¨äºŒç»´å›¾æ ‡ä¸Šçš„ä¸‰ç»´æ•°æ®çš„éœ€æ±‚ã€‚éœ€è¦äº†è§£æ›´å¤šå‡½æ•°çš„å‚æ•°ä¿¡æ¯ï¼Œå‚è€ƒå®ƒä»¬çš„æ–‡æ¡£å­—ç¬¦ä¸²ã€‚å¦‚æœä½ å¯¹äºä½¿ç”¨ä¸‰ç»´å›¾è¡¨å±•ç¤ºè¿™ç§æ•°æ®æ„Ÿå…´è¶£ï¼Œå‚è§[åœ¨ matplotlib ä¸­åˆ›å»ºä¸‰ç»´å›¾è¡¨]ã€‚</p><h1 id="5-ç›´æ–¹å›¾ï¼Œåˆ†æ¡¶å’Œå¯†åº¦"><a href="#5-ç›´æ–¹å›¾ï¼Œåˆ†æ¡¶å’Œå¯†åº¦" class="headerlink" title="5.ç›´æ–¹å›¾ï¼Œåˆ†æ¡¶å’Œå¯†åº¦"></a><strong>5.ç›´æ–¹å›¾ï¼Œåˆ†æ¡¶å’Œå¯†åº¦</strong></h1><p>ä¸€ä¸ªç®€å•çš„ç›´æ–¹å›¾å¯ä»¥æ˜¯æˆ‘ä»¬å¼€å§‹ç†è§£æ•°æ®é›†çš„ç¬¬ä¸€æ­¥ã€‚å‰é¢æˆ‘ä»¬çœ‹åˆ°äº† Matplotlib çš„ç›´æ–¹å›¾å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€è¡Œä»£ç ç»˜åˆ¶åŸºç¡€çš„ç›´æ–¹å›¾ï¼Œå½“ç„¶é¦–å…ˆéœ€è¦å°†éœ€è¦ç”¨çš„åŒ…å¯¼å…¥ notebookï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'seaborn-white'</span>)</span><br><span class="line"></span><br><span class="line">data = np.random.randn(<span class="number">1000</span>)</span><br><span class="line">plt.hist(data);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224252.png" alt=""></p><p>hist()å‡½æ•°æœ‰å¾ˆå¤šçš„å‚æ•°å¯ä»¥ç”¨æ¥è°ƒæ•´è¿ç®—å’Œå±•ç¤ºï¼›ä¸‹é¢åˆä¸€ä¸ªæ›´åŠ ä¸ªæ€§åŒ–çš„ç›´æ–¹å›¾å±•ç¤ºï¼š</p><p>è¯‘è€…æ³¨ï¼šnormed å‚æ•°å·²ç»è¿‡æ—¶ï¼Œæ­¤å¤„å¯¹ä»£ç è¿›è¡Œäº†ç›¸åº”ä¿®æ”¹ï¼Œä½¿ç”¨äº†æ›¿ä»£çš„ density å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(data, bins=<span class="number">30</span>, density=<span class="literal">True</span>, alpha=<span class="number">0.5</span>,</span><br><span class="line">         histtype=<span class="string">'stepfilled'</span>, color=<span class="string">'steelblue'</span>,</span><br><span class="line">         edgecolor=<span class="string">'none'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224255.png" alt=""></p><p>plt.histæ–‡æ¡£ä¸­æœ‰æ›´å¤šå…³äºä¸ªæ€§åŒ–å‚æ•°çš„ä¿¡æ¯ã€‚ä½œè€…å‘ç°è”åˆä½¿ç”¨histtype=â€™stepfilledâ€™å’Œalphaå‚æ•°è®¾ç½®é€æ˜åº¦åœ¨å¯¹ä¸åŒåˆ†å¸ƒçš„æ•°æ®é›†è¿›è¡Œæ¯”è¾ƒå±•ç¤ºæ—¶å¾ˆæœ‰ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.random.normal(<span class="number">0</span>, <span class="number">0.8</span>, <span class="number">1000</span>)</span><br><span class="line">x2 = np.random.normal(<span class="number">-2</span>, <span class="number">1</span>, <span class="number">1000</span>)</span><br><span class="line">x3 = np.random.normal(<span class="number">3</span>, <span class="number">2</span>, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">kwargs = dict(histtype=<span class="string">'stepfilled'</span>, alpha=<span class="number">0.3</span>, density=<span class="literal">True</span>, bins=<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line">plt.hist(x1, **kwargs)</span><br><span class="line">plt.hist(x2, **kwargs)</span><br><span class="line">plt.hist(x3, **kwargs);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224258.png" alt=""></p><p>å¦‚æœä½ åªæ˜¯éœ€è¦è®¡ç®—ç›´æ–¹å›¾çš„æ•°å€¼ï¼ˆå³æ¯ä¸ªæ¡¶çš„æ•°æ®ç‚¹æ•°é‡ï¼‰è€Œä¸æ˜¯å±•ç¤ºå›¾åƒï¼Œnp.histogram()å‡½æ•°å¯ä»¥å®Œæˆè¿™ä¸ªç›®æ ‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">counts, bin_edges = np.histogram(data, bins=<span class="number">5</span>)</span><br><span class="line">print(counts)</span><br></pre></td></tr></table></figure><p>[ 49 273 471 183  24]</p><h2 id="äºŒç»´ç›´æ–¹å›¾å’Œåˆ†æ¡¶"><a href="#äºŒç»´ç›´æ–¹å›¾å’Œåˆ†æ¡¶" class="headerlink" title="äºŒç»´ç›´æ–¹å›¾å’Œåˆ†æ¡¶"></a><strong>äºŒç»´ç›´æ–¹å›¾å’Œåˆ†æ¡¶</strong></h2><p>æ­£å¦‚å‰é¢æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ç»´ä¸Šä½¿ç”¨æ•°å€¼å¯¹åº”çš„ç›´çº¿åˆ’åˆ†æ¡¶ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨äºŒç»´ä¸Šä½¿ç”¨æ•°æ®å¯¹åº”çš„ç‚¹æ¥åˆ’åˆ†æ¡¶ã€‚æœ¬èŠ‚æˆ‘ä»¬ä»‹ç»å‡ ç§å®ç°çš„æ–¹æ³•ã€‚é¦–å…ˆå®šä¹‰æ•°æ®é›†ï¼Œä»å¤šå…ƒé«˜æ–¯åˆ†å¸ƒä¸­è·å¾—xå’Œyæ•°ç»„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mean = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">cov = [[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>]]</span><br><span class="line">x, y = np.random.multivariate_normal(mean, cov, <span class="number">10000</span>).T</span><br></pre></td></tr></table></figure><h3 id="plt-hist2dï¼šäºŒç»´ç›´æ–¹å›¾"><a href="#plt-hist2dï¼šäºŒç»´ç›´æ–¹å›¾" class="headerlink" title="plt.hist2dï¼šäºŒç»´ç›´æ–¹å›¾"></a><strong>plt.hist2dï¼šäºŒç»´ç›´æ–¹å›¾</strong></h3><p>ç»˜åˆ¶äºŒç»´ç›´æ–¹å›¾æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Matplotlib çš„plt.hist2då‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.hist2d(x, y, bins=<span class="number">30</span>, cmap=<span class="string">'Blues'</span>)</span><br><span class="line">cb = plt.colorbar()</span><br><span class="line">cb.set_label(<span class="string">'counts in bin'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224304.png" alt=""></p><p>ç±»ä¼¼plt.histï¼Œplt.hist2dæœ‰è®¸å¤šé¢å¤–çš„å‚æ•°æ¥è°ƒæ•´åˆ†æ¡¶è®¡ç®—å’Œå›¾è¡¨å±•ç¤ºï¼Œå¯ä»¥é€šè¿‡æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ã€‚è€Œä¸”ï¼Œplt.histæœ‰np.histogramï¼Œplt.hist2dä¹Ÿæœ‰å…¶å¯¹åº”çš„å‡½æ•°np.histogram2dã€‚å¦‚ä¸‹ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">counts, xedges, yedges = np.histogram2d(x, y, bins=<span class="number">30</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦è·å¾—æ›´é«˜ç»´åº¦çš„åˆ†æ¡¶ç»“æœï¼Œå‚è§np.histogramdå‡½æ•°æ–‡æ¡£ã€‚</p><h3 id="plt-hexbinï¼šå…­è§’å½¢åˆ†æ¡¶"><a href="#plt-hexbinï¼šå…­è§’å½¢åˆ†æ¡¶" class="headerlink" title="plt.hexbinï¼šå…­è§’å½¢åˆ†æ¡¶"></a><strong>plt.hexbinï¼šå…­è§’å½¢åˆ†æ¡¶</strong></h3><p>åˆšæ‰çš„äºŒç»´åˆ†æ¡¶æ˜¯æ²¿ç€åæ ‡è½´å°†æ¯ä¸ªæ¡¶åˆ†ä¸ºæ­£æ–¹å½¢ã€‚å¦ä¸€ä¸ªå¾ˆè‡ªç„¶çš„åˆ†æ¡¶å½¢çŠ¶å°±æ˜¯æ­£å…­è¾¹å½¢ã€‚å¯¹äºè¿™ä¸ªéœ€æ±‚ï¼ŒMatplotlib æä¾›äº†plt.hexbinå‡½æ•°ï¼Œå®ƒä¹Ÿæ˜¯åœ¨äºŒç»´å¹³é¢ä¸Šåˆ†æ¡¶å±•ç¤ºï¼Œä¸è¿‡æ¯ä¸ªæ¡¶ï¼ˆå³å›¾è¡¨ä¸Šçš„æ¯ä¸ªæ•°æ®æ ¼ï¼‰å°†ä¼šæ˜¯å…­è¾¹å½¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.hexbin(x, y, gridsize=<span class="number">30</span>, cmap=<span class="string">'Blues'</span>)</span><br><span class="line">cb = plt.colorbar(label=<span class="string">'count in bin'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224308.png" alt=""></p><p>plt.hexbinæœ‰è®¸å¤šæœ‰è¶£çš„å‚æ•°ï¼ŒåŒ…æ‹¬èƒ½å¯¹æ¯ä¸ªç‚¹è®¾ç½®æƒé‡å’Œå°†æ¯ä¸ªæ¡¶çš„è¾“å‡ºæ•°æ®ç»“æœæ”¹ä¸ºä»»æ„çš„ NumPy èšåˆç»“æœï¼ˆå¸¦æƒé‡çš„å¹³å‡å€¼ï¼Œå¸¦æƒé‡çš„æ ‡å‡†å·®ç­‰ï¼‰ã€‚</p><h3 id="æ ¸å¯†åº¦ä¼°è®¡"><a href="#æ ¸å¯†åº¦ä¼°è®¡" class="headerlink" title="æ ¸å¯†åº¦ä¼°è®¡"></a><strong>æ ¸å¯†åº¦ä¼°è®¡</strong></h3><p>å¦å¤–ä¸€ä¸ªå¸¸ç”¨æ¥ç»Ÿè®¡å¤šç»´æ•°æ®å¯†åº¦çš„å·¥å…·æ˜¯æ ¸å¯†åº¦ä¼°è®¡ï¼ˆKDEï¼‰ã€‚ç›®å‰æˆ‘ä»¬åªéœ€è¦çŸ¥é“ KDE è¢«è®¤ä¸ºæ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥å¡«è¡¥æ•°æ®çš„ç©ºéš™å¹¶è¡¥å……ä¸Šå¹³æ»‘å˜åŒ–æ•°æ®çš„æ–¹æ³•å°±è¶³å¤Ÿäº†ã€‚å¿«é€Ÿå’Œç®€å•çš„ KDE ç®—æ³•å·²ç»åœ¨scipy.statsæ¨¡å—ä¸­æœ‰äº†æˆç†Ÿçš„å®ç°ã€‚ä¸‹é¢æˆ‘ä»¬å°±ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨ KDE å’Œç»˜åˆ¶ç›¸åº”çš„äºŒç»´ç›´æ–¹å›¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> gaussian_kde</span><br><span class="line"></span><br><span class="line"><span class="comment"># äº§ç”Ÿå’Œå¤„ç†æ•°æ®ï¼Œåˆå§‹åŒ–KDE</span></span><br><span class="line">data = np.vstack([x, y])</span><br><span class="line">kde = gaussian_kde(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨é€šç”¨çš„ç½‘æ ¼ä¸­è®¡ç®—å¾—åˆ°Zçš„å€¼</span></span><br><span class="line">xgrid = np.linspace(<span class="number">-3.5</span>, <span class="number">3.5</span>, <span class="number">40</span>)</span><br><span class="line">ygrid = np.linspace(<span class="number">-6</span>, <span class="number">6</span>, <span class="number">40</span>)</span><br><span class="line">Xgrid, Ygrid = np.meshgrid(xgrid, ygrid)</span><br><span class="line">Z = kde.evaluate(np.vstack([Xgrid.ravel(), Ygrid.ravel()]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å›¾è¡¨ç»˜åˆ¶æˆä¸€å¼ å›¾åƒ</span></span><br><span class="line">plt.imshow(Z.reshape(Xgrid.shape),</span><br><span class="line">           origin=<span class="string">'lower'</span>, aspect=<span class="string">'auto'</span>,</span><br><span class="line">           extent=[<span class="number">-3.5</span>, <span class="number">3.5</span>, <span class="number">-6</span>, <span class="number">6</span>],</span><br><span class="line">           cmap=<span class="string">'Blues'</span>)</span><br><span class="line">cb = plt.colorbar()</span><br><span class="line">cb.set_label(<span class="string">"density"</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224313.png" alt=""></p><p>KDE æœ‰ç€å…‰æ»‘çš„é•¿åº¦ï¼Œå¯ä»¥åœ¨ç»†èŠ‚å’Œå…‰æ»‘åº¦ä¸­æœ‰æ•ˆçš„è¿›è¡Œè°ƒèŠ‚ï¼ˆä¸€ä¸ªä¾‹å­æ˜¯æ–¹å·®åå·®æƒè¡¡ï¼‰ã€‚è¿™æ–¹é¢æœ‰å¤§é‡çš„æ–‡çŒ®ä»‹ç»ï¼šé«˜æ–¯æ ¸å¯†åº¦ä¼°è®¡gaussian_kdeä½¿ç”¨äº†ç»éªŒæ³•åˆ™æ¥å¯»æ‰¾è¾“å…¥æ•°æ®é™„è¿‘çš„ä¼˜åŒ–å…‰æ»‘é•¿åº¦å€¼ã€‚</p><p>å…¶ä»–çš„ KDE å®ç°ä¹Ÿå¯ä»¥åœ¨ SciPy ä¸­æ‰¾åˆ°ï¼Œæ¯ä¸€ç§éƒ½æœ‰å®ƒçš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼›å‚è§sklearn.neighbors.KernelDensityå’Œstatsmodels.nonparametric.kernel_density.KDEMultivariateã€‚è¦ç»˜åˆ¶åŸºäº KDE è¿›è¡Œå¯è§†åŒ–çš„å›¾è¡¨ï¼ŒMatplotlib å†™å‡ºçš„ä»£ç ä¼šæ¯”è¾ƒå†—é•¿ã€‚</p><h1 id="6-è‡ªå®šä¹‰å›¾æ ‡å›¾ä¾‹"><a href="#6-è‡ªå®šä¹‰å›¾æ ‡å›¾ä¾‹" class="headerlink" title="6.è‡ªå®šä¹‰å›¾æ ‡å›¾ä¾‹"></a><strong>6.è‡ªå®šä¹‰å›¾æ ‡å›¾ä¾‹</strong></h1><p>å›¾ä¾‹å¯ä»¥ä¸ºå¯è§†åŒ–èµ‹äºˆå®é™…å«ä¹‰ï¼Œä¸ºä¸åŒçš„å›¾æ ‡å…ƒç´ é™„ä¸Šæ˜ç¡®è¯´æ˜ã€‚æˆ‘ä»¬å‰é¢çœ‹åˆ°äº†ä¸€äº›ç®€å•çš„å›¾ä¾‹åˆ›å»ºä¾‹å­ï¼›æœ¬å°èŠ‚ä¸­æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹åœ¨ Matplotlib ä¸­è‡ªå®šä¹‰å›¾ä¾‹çš„ä½ç½®å’Œè¿›è¡Œç¾åŒ–çš„æ–¹æ³•ã€‚</p><p>å¯ä»¥ä½¿ç”¨plt.legend()å‡½æ•°æ¥åˆ›å»ºæœ€ç®€å•çš„å›¾ä¾‹ï¼Œè¿™ä¸ªå‡½æ•°èƒ½è‡ªåŠ¨åˆ›å»ºä»»ä½•å¸¦æœ‰æ ‡ç­¾å±æ€§çš„å›¾è¡¨å…ƒç´ çš„å›¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'classic'</span>)</span><br><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">ax.plot(x, np.sin(x), <span class="string">'-b'</span>, label=<span class="string">'Sine'</span>)</span><br><span class="line">ax.plot(x, np.cos(x), <span class="string">'--r'</span>, label=<span class="string">'Cosine'</span>)</span><br><span class="line">ax.axis(<span class="string">'equal'</span>)</span><br><span class="line">leg = ax.legend();</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224317.png" alt=""></p><p>ä½†é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¾ˆå¤šèƒ½è‡ªå®šä¹‰å›¾ä¾‹çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå›¾ä¾‹ä½ç½®å¹¶ä¸”å»é™¤è¾¹æ¡†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax.legend(loc=<span class="string">'upper left'</span>, frameon=<span class="literal">False</span>)</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224322.png" alt=""></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ncolå±æ€§è®¾ç½®å›¾ä¾‹ä¸­æ¯è¡Œçš„åˆ—æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax.legend(frameon=<span class="literal">False</span>, loc=<span class="string">'lower center'</span>, ncol=<span class="number">2</span>)</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224325.png" alt=""></p><p>è¿˜å¯ä»¥ä½¿ç”¨åœ†è§’æ–¹æ¡†ï¼ˆfancyboxï¼‰æˆ–è€…å¢åŠ é˜´å½±ï¼Œè®¾ç½®æ–¹æ¡†çš„é€æ˜åº¦ï¼ˆalpha å€¼ï¼‰æˆ–ä¿®æ”¹æ–‡å­—çš„è¾¹è·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax.legend(fancybox=<span class="literal">True</span>, framealpha=<span class="number">1</span>, shadow=<span class="literal">True</span>, borderpad=<span class="number">1</span>)</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224328.png" alt=""></p><p>è¦è·å–æ›´å¤š legend å‡½æ•°çš„å¯ç”¨é€‰é¡¹ä¿¡æ¯ï¼Œè¯·å‚è€ƒplt.legendçš„æ–‡æ¡£å­—ç¬¦ä¸²ã€‚</p><h2 id="é€‰æ‹©è®¾ç½®å›¾ä¾‹çš„å…ƒç´ "><a href="#é€‰æ‹©è®¾ç½®å›¾ä¾‹çš„å…ƒç´ " class="headerlink" title="é€‰æ‹©è®¾ç½®å›¾ä¾‹çš„å…ƒç´ "></a><strong>é€‰æ‹©è®¾ç½®å›¾ä¾‹çš„å…ƒç´ </strong></h2><p>æ­£å¦‚æˆ‘ä»¬å‰é¢ä¾‹å­æ‰€ç¤ºï¼Œç»˜åˆ¶çš„å›¾ä¾‹é»˜è®¤åŒ…æ‹¬æ‰€æœ‰å¸¦æ ‡ç­¾çš„å…ƒç´ ã€‚å¦‚æœè¿™ä¸æ˜¯æƒ³è¦çš„æ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥è°ƒæ•´å“ªäº›å…ƒç´ å’Œæ ‡ç­¾ä¼šå‡ºç°åœ¨å›¾ä¾‹å½“ä¸­ï¼Œè¿™å¯ä»¥é€šè¿‡è®¾ç½® plot å‡½æ•°æˆ–æ–¹æ³•è¿”å›çš„å¯¹è±¡å®ç°ã€‚plt.plotå‡½æ•°èƒ½å¤ŸåŒæ—¶äº§ç”Ÿå¤šæ¡æŠ˜çº¿ï¼Œç„¶åå°†è¿™äº›çº¿æ¡çš„å®ä¾‹åˆ—è¡¨è¿”å›ã€‚å°†å…¶ä¸­çš„éƒ¨åˆ†å®ä¾‹ä¼ é€’åˆ°plt.legend()å‡½æ•°å°±èƒ½è®¾ç½®å“ªäº›çº¿æ¡ä¼šå‡ºç°åœ¨å›¾ä¾‹ä¸­ï¼Œå†é€šè¿‡ä¸€ä¸ªæ ‡ç­¾çš„åˆ—è¡¨æŒ‡å®šå›¾ä¾‹çš„åç§°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">y = np.sin(x[:, np.newaxis] + np.pi * np.arange(<span class="number">0</span>, <span class="number">2</span>, <span class="number">0.5</span>))</span><br><span class="line">lines = plt.plot(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># linesæ˜¯ä¸€ä¸ªçº¿æ¡å®ä¾‹çš„åˆ—è¡¨</span></span><br><span class="line">plt.legend(lines[:<span class="number">2</span>], [<span class="string">'first'</span>, <span class="string">'second'</span>]);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224332.png" alt=""></p><p>ä½œè€…æ›´åŠ å€¾å‘äºä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ï¼Œå› ä¸ºæ›´åŠ æ¸…æ™°ã€‚é€šè¿‡å°†æ ‡ç­¾åº”ç”¨åœ¨å›¾è¡¨å…ƒç´ ä¸Šï¼Œç„¶åç»˜åˆ¶åˆ°å›¾ä¾‹ä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y[:, <span class="number">0</span>], label=<span class="string">'first'</span>)</span><br><span class="line">plt.plot(x, y[:, <span class="number">1</span>], label=<span class="string">'second'</span>)</span><br><span class="line">plt.plot(x, y[:, <span class="number">2</span>:])</span><br><span class="line">plt.legend(framealpha=<span class="number">1</span>, frameon=<span class="literal">True</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224336.png" alt=""></p><p>è¯·æ³¨æ„é»˜è®¤æƒ…å†µä¸‹ï¼Œlegend ä¼šå¿½ç•¥æ‰€æœ‰ä¸å¸¦æ ‡ç­¾çš„å…ƒç´ ã€‚</p><h2 id="æ•£ç‚¹å¤§å°çš„å›¾ä¾‹"><a href="#æ•£ç‚¹å¤§å°çš„å›¾ä¾‹" class="headerlink" title="æ•£ç‚¹å¤§å°çš„å›¾ä¾‹"></a><strong>æ•£ç‚¹å¤§å°çš„å›¾ä¾‹</strong></h2><p>æŸäº›æƒ…å†µä¸‹é»˜è®¤çš„å›¾ä¾‹ä¸è¶³ä»¥æ»¡è¶³ç‰¹å®šçš„å¯è§†åŒ–éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œä½ åœ¨ä½¿ç”¨æ•£ç‚¹çš„å¤§å°æ¥æ ‡è®°æ•°æ®çš„æŸä¸ªç‰¹å¾ï¼Œç„¶åå¸Œæœ›åˆ›å»ºä¸€ä¸ªç›¸åº”çš„å›¾ä¾‹ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¯åŠ å·åŸå¸‚äººå£çš„æ•£ç‚¹å›¾ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•£ç‚¹çš„å¤§å°è¡¨ç°è¯¥åŸå¸‚çš„é¢ç§¯ï¼Œæ•£ç‚¹çš„é¢œè‰²æ¥è¡¨ç°åŸå¸‚çš„äººå£æ•°é‡ï¼ˆè‡ªç„¶å¯¹æ•°å€¼ï¼‰ã€‚æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨ä¸€ä¸ªå›¾ä¾‹æ¥æŒ‡æ˜æ•£ç‚¹å°ºå¯¸çš„æ¯”ä¾‹ï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªé¢œè‰²æ¡æ¥è¯´æ˜äººå£æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç»˜åˆ¶ä¸€äº›æ ‡ç­¾æ•°æ®æ¥å®ç°å°ºå¯¸å›¾ä¾‹ï¼š</p><p>è¯‘è€…æ³¨ï¼šæ–°ç‰ˆ Matplotlib å·²ç»å–æ¶ˆ aspect å‚æ•°ï¼Œæ­¤å¤„æ”¹ä¸ºä½¿ç”¨æ–°çš„â€™scaledâ€™å‚æ•°è°ƒç”¨ axis å‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">cities = pd.read_csv(<span class="string">r'D:\python\Githubå­¦ä¹ ææ–™\Pythonæ•°æ®ç§‘å­¦æ‰‹å†Œ\data\california_cities.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æå–æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ•°æ®</span></span><br><span class="line">lat, lon = cities[<span class="string">'latd'</span>], cities[<span class="string">'longd'</span>]</span><br><span class="line">population, area = cities[<span class="string">'population_total'</span>], cities[<span class="string">'area_total_km2'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶æ•£ç‚¹å›¾ï¼Œä½¿ç”¨å°ºå¯¸ä»£è¡¨é¢ç§¯ï¼Œé¢œè‰²ä»£è¡¨äººå£ï¼Œä¸å¸¦æ ‡ç­¾</span></span><br><span class="line">plt.scatter(lon, lat, label=<span class="literal">None</span>,</span><br><span class="line">            c=np.log10(population), cmap=<span class="string">'viridis'</span>,</span><br><span class="line">            s=area, linewidth=<span class="number">0</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.axis(<span class="string">'scaled'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'longitude'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'latitude'</span>)</span><br><span class="line">plt.colorbar(label=<span class="string">'log$_&#123;10&#125;$(population)'</span>)</span><br><span class="line">plt.clim(<span class="number">3</span>, <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹é¢æˆ‘ä»¬åˆ›å»ºå›¾ä¾‹ï¼š</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ç©ºåˆ—è¡¨ç»˜åˆ¶å›¾ä¾‹ä¸­çš„æ•£ç‚¹ï¼Œä½¿ç”¨ä¸åŒé¢ç§¯å’Œæ ‡ç­¾ï¼Œå¸¦é€æ˜åº¦</span></span><br><span class="line"><span class="keyword">for</span> area <span class="keyword">in</span> [<span class="number">100</span>, <span class="number">300</span>, <span class="number">500</span>]:</span><br><span class="line">    plt.scatter([], [], c=<span class="string">'k'</span>, alpha=<span class="number">0.3</span>, s=area,</span><br><span class="line">                label=str(area) + <span class="string">' km$^2$'</span>)</span><br><span class="line">plt.legend(scatterpoints=<span class="number">1</span>, frameon=<span class="literal">False</span>, labelspacing=<span class="number">1</span>, title=<span class="string">'City Area'</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'California Cities: Area and Population'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224339.png" alt=""></p><p>ä¹‹å‰çš„å›¾ä¾‹éƒ½å…³è”ç€å›¾è¡¨ä¸Šçš„ä¸€äº›å¯¹è±¡ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬éœ€è¦å±•ç¤ºå›¾ä¾‹çš„è¯æˆ‘ä»¬é¦–å…ˆéœ€è¦ç»˜åˆ¶å›¾è¡¨å…ƒç´ ã€‚åœ¨ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦çš„å›¾ä¾‹å¯¹è±¡ï¼ˆç°è‰²åœ†åœˆï¼‰ä¸åœ¨å›¾è¡¨ä¸Šï¼Œå› æ­¤æˆ‘ä»¬é‡‡ç”¨ç»˜åˆ¶ç©ºåˆ—è¡¨çš„æ–¹å¼å°†å®ƒä»¬ä»¿é€ åœ¨å›¾è¡¨ä¸Šï¼ˆå®é™…ä¸Šå›¾ä¸Šæ²¡æœ‰ç‚¹ï¼‰ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦æ³¨æ„ï¼Œåªæœ‰é‚£äº›å¸¦æ ‡ç­¾çš„å…ƒç´ æ‰ä¼šå‡ºç°åœ¨å›¾ä¾‹ä¸­ã€‚</p><p>é€šè¿‡ç»˜åˆ¶ç©ºåˆ—è¡¨ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸‰ä¸ªå¸¦æ ‡ç­¾çš„å¯¹è±¡ï¼Œç„¶åå°±å¯ä»¥å‡ºç°åœ¨å›¾ä¾‹å½“ä¸­ï¼Œè¿™ä¸ªå›¾ä¾‹å°±èƒ½è¡¨ç¤ºå‡ºæœ‰å…³åŸå¸‚é¢ç§¯çš„ç›¸å…³ä¿¡æ¯ã€‚è¿™ä¸ªç­–ç•¥åœ¨å¾ˆå¤šå¤æ‚å¯è§†åŒ–å›¾è¡¨æ„å»ºè¿‡ç¨‹ä¸­éƒ½è¢«ç”¨åˆ°ã€‚</p><p>æœ€åæˆ‘ä»¬æ³¨æ„åˆ°è¿™ä¸ªå›¾è¡¨å®é™…ä¸Šæ˜¯ä¸€ä¸ªåœ°ç†ä½ç½®å›¾è¡¨ï¼Œå¦‚æœæˆ‘ä»¬èƒ½åœ¨ä¸Šé¢ç»˜åˆ¶å·ç•Œçº¿æˆ–å…¶ä»–åœ°å›¾ç›¸å…³çš„å…ƒç´ çš„è¯ï¼Œä¼šæ›´åŠ æ¸…æ™°ã€‚Matplotlib æä¾›äº†ä¸€ä¸ª Basemap é¢å¤–å·¥å…·é›†æ¥å®ç°è¿™ä¸ªç›®æ ‡ã€‚</p><h2 id="å¤šé‡å›¾ä¾‹"><a href="#å¤šé‡å›¾ä¾‹" class="headerlink" title="å¤šé‡å›¾ä¾‹"></a><strong>å¤šé‡å›¾ä¾‹</strong></h2><p>æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨åŒä¸€ä¸ªå›¾è¡¨ç»´åº¦ä¸­è®¾è®¡å¤šä¸ªå›¾ä¾‹ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒMatplotlib å¹¶æ²¡æœ‰æä¾›å¾ˆç®€å•çš„æ–¹å¼å®ç°ï¼šé€šè¿‡æ ‡å‡†çš„legendæ¥å£ï¼Œåªèƒ½åœ¨æ•´å¼ å›¾è¡¨ä¸Šåˆ›å»ºä¸€ä¸ªå›¾ä¾‹ã€‚å¦‚æœä½ è¯•å›¾ä½¿ç”¨plt.legend()æˆ–ax.legend()åˆ›å»ºç¬¬äºŒä¸ªå›¾ä¾‹ï¼Œé‚£ä¹ˆç¬¬äºŒæ¡è¯­å¥åˆ›å»ºçš„å›¾ä¾‹ä¼šè¦†ç›–ç¬¬ä¸€æ¡è¯­å¥åˆ›å»ºçš„ã€‚æˆ‘ä»¬åªèƒ½é€šè¿‡ä»åº•å±‚å¼€å§‹æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å›¾ä¾‹ artist è¿™ç§æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç„¶åä½¿ç”¨ax.add_artist()çš„åº•å±‚æ–¹æ³•æ‰‹åŠ¨å°†ç¬¬äºŒä¸ªä½œè€…åŠ åˆ°å›¾è¡¨ä¸Šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line">lines = []</span><br><span class="line">styles = [<span class="string">'-'</span>, <span class="string">'--'</span>, <span class="string">'-.'</span>, <span class="string">':'</span>]</span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    lines += ax.plot(x, np.sin(x - i * np.pi / <span class="number">2</span>),</span><br><span class="line">                     styles[i], color=<span class="string">'black'</span>)</span><br><span class="line">ax.axis(<span class="string">'equal'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç¬¬ä¸€ä¸ªå›¾ä¾‹çš„çº¿æ¡å’Œæ ‡ç­¾</span></span><br><span class="line">ax.legend(lines[:<span class="number">2</span>], [<span class="string">'line A'</span>, <span class="string">'line B'</span>],</span><br><span class="line">          loc=<span class="string">'upper right'</span>, frameon=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰‹åŠ¨åˆ›å»ºç¬¬äºŒä¸ªå›¾ä¾‹ï¼Œå¹¶å°†ä½œè€…æ·»åŠ åˆ°å›¾è¡¨ä¸­</span></span><br><span class="line"><span class="keyword">from</span> matplotlib.legend <span class="keyword">import</span> Legend</span><br><span class="line">leg = Legend(ax, lines[<span class="number">2</span>:], [<span class="string">'line C'</span>, <span class="string">'line D'</span>],</span><br><span class="line">             loc=<span class="string">'lower right'</span>, frameon=<span class="literal">False</span>)</span><br><span class="line">ax.add_artist(leg);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224343.png" alt=""></p><p>ä¸Šä¾‹å±•ç¤ºäº†ç”¨æ¥ç»„æˆä»»ä½• Matplotlib å›¾è¡¨çš„åº•å±‚ artist å¯¹è±¡çš„ç®€å•è¯´æ˜ã€‚å¦‚æœä½ å»æŸ¥çœ‹ax.legend()çš„æºä»£ç ï¼ˆä½ å¯ä»¥é€šè¿‡ IPython çš„ax.legendå¸®åŠ©å·¥å…·åšåˆ°ï¼‰ï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–¹æ³•åŒ…å«äº†ç”¨æ¥æ„å»ºåˆé€‚Legendçš„ artist å¯¹è±¡çš„é€»è¾‘ï¼Œæ„å»ºçš„å¯¹è±¡è¢«ä¿å­˜åœ¨legend_å±æ€§å½“ä¸­ï¼Œå½“ç»˜åˆ¶æ—¶è¢«æ·»åŠ åˆ°å›¾è¡¨ä¸Šè¿›è¡Œå±•ç¤ºã€‚</p><h1 id="7-ä¸ªæ€§åŒ–é¢œè‰²æ¡"><a href="#7-ä¸ªæ€§åŒ–é¢œè‰²æ¡" class="headerlink" title="7.ä¸ªæ€§åŒ–é¢œè‰²æ¡"></a><strong>7.ä¸ªæ€§åŒ–é¢œè‰²æ¡</strong></h1><p>å›¾ä¾‹å¯ä»¥å°†ç¦»æ•£çš„ç‚¹æ ‡ç¤ºä¸ºç¦»æ•£çš„æ ‡ç­¾ã€‚å¯¹äºå»ºç«‹åœ¨ä¸åŒé¢œè‰²ä¹‹ä¸Šçš„è¿ç»­çš„å€¼ï¼ˆç‚¹çº¿é¢ï¼‰æ¥è¯´ï¼Œæ ‡æ³¨äº†çš„é¢œè‰²æ¡æ˜¯éå¸¸æ–¹ä¾¿çš„å·¥å…·ã€‚Matplotlib çš„é¢œè‰²æ¡æ˜¯ç‹¬ç«‹äºå›¾è¡¨ä¹‹å¤–çš„ä¸€ä¸ªç±»ä¼¼äºæ¯”è‰²å¡çš„å›¾å½¢ï¼Œç”¨æ¥å±•ç¤ºå›¾è¡¨ä¸­ä¸åŒé¢œè‰²çš„æ•°å€¼å«ä¹‰ã€‚å› ä¸ºæœ¬ä¹¦æ˜¯ä½¿ç”¨é»‘ç™½æ‰“å°çš„ï¼Œæœ¬èŠ‚å†…å®¹ä¸­çš„æ‰€æœ‰å¸¦è‰²å½©çš„å›¾éƒ½å¯ä»¥åœ¨(<a href="https://github.com/wangyingsm/Python-Data-Science-Handbook)ä¸­æ‰¾åˆ°ã€‚æˆ‘ä»¬è¿˜æ˜¯é¦–å…ˆå¯¼å…¥æœ¬èŠ‚éœ€è¦çš„åŒ…å’Œæ¨¡å—ï¼š" target="_blank" rel="noopener">https://github.com/wangyingsm/Python-Data-Science-Handbook)ä¸­æ‰¾åˆ°ã€‚æˆ‘ä»¬è¿˜æ˜¯é¦–å…ˆå¯¼å…¥æœ¬èŠ‚éœ€è¦çš„åŒ…å’Œæ¨¡å—ï¼š</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'classic'</span>)</span><br><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><p>é€šè¿‡plt.colorbarå‡½æ•°å¯ä»¥åˆ›å»ºæœ€ç®€å•çš„é¢œè‰²æ¡ï¼Œåœ¨æœ¬èŠ‚ä¸­æˆ‘ä»¬ä¼šå¤šæ¬¡çœ‹åˆ°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">I = np.sin(x) * np.cos(x[:, np.newaxis])</span><br><span class="line"></span><br><span class="line">plt.imshow(I)</span><br><span class="line">plt.colorbar();</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224347.png" alt=""></p><p>æˆ‘ä»¬ä¸‹é¢æ¥è®¨è®ºå¦‚ä½•ä¸ªæ€§åŒ–é¢œè‰²æ¡ä»¥åŠåœ¨ä¸åŒçš„åœºåˆé«˜æ•ˆçš„ä½¿ç”¨å®ƒä»¬ã€‚</p><h2 id="è‡ªå®šä¹‰é¢œè‰²æ¡"><a href="#è‡ªå®šä¹‰é¢œè‰²æ¡" class="headerlink" title="è‡ªå®šä¹‰é¢œè‰²æ¡"></a><strong>è‡ªå®šä¹‰é¢œè‰²æ¡</strong></h2><p>é¢œè‰²æ¡å¯ä»¥é€šè¿‡cmapå‚æ•°æŒ‡å®šä½¿ç”¨çš„è‰²è°±ç³»ç»Ÿï¼ˆæˆ–å«è‰²å›¾ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.imshow(I, cmap=<span class="string">'gray'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224352.png" alt=""></p><p>æ‰€æœ‰å¯ç”¨çš„è‰²å›¾éƒ½å¯ä»¥åœ¨plt.cmæ¨¡å—ä¸­æ‰¾åˆ°ï¼›åœ¨ IPython ä¸­ä½¿ç”¨ Tab è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½èƒ½åˆ—å‡ºæ‰€æœ‰çš„è‰²å›¾åˆ—è¡¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.cm.&lt;TAB&gt;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯çŸ¥é“åœ¨å“ªé‡Œé€‰æ‹©è‰²å›¾åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ›´é‡è¦çš„æ˜¯åœ¨å„ç§é€‰é¡¹ä¸­é€‰å‡ºåˆé€‚çš„è‰²å›¾ã€‚è¿™ä¸ªé€‰æ‹©æ¯”ä½ é¢„æ–™çš„è¦å¾®å¦™çš„å¤šã€‚</p><h3 id="é€‰æ‹©è‰²å›¾"><a href="#é€‰æ‹©è‰²å›¾" class="headerlink" title="é€‰æ‹©è‰²å›¾"></a><strong>é€‰æ‹©è‰²å›¾</strong></h3><p>åœ¨å¯è§†åŒ–æ–¹æ¡ˆä¸­é€‰æ‹©é¢œè‰²å®Œæ•´çš„ä»‹ç»è¯´æ˜è¶…å‡ºäº†æœ¬ä¹¦çš„èŒƒå›´ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªè¯¾é¢˜å’Œç›¸å…³å†…å®¹æœ‰å…´è¶£ï¼Œå¯ä»¥å‚è€ƒæ–‡ç« <a href="http://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1003833" target="_blank" rel="noopener">â€œç»˜åˆ¶æ›´æ¼‚äº®å›¾è¡¨çš„ 10 ä¸ªç®€å•è§„åˆ™â€</a>ã€‚Matplotlib çš„åœ¨çº¿æ–‡æ¡£ä¹Ÿæœ‰ä¸€ç« å…³äºè‰²å›¾é€‰æ‹©çš„æœ‰è¶£è®¨è®º[5]ã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œä½ åº”è¯¥æ³¨æ„ä»¥ä¸‹ä¸‰ç§ä¸åŒç±»å‹çš„è‰²å›¾ï¼š</p><ul><li>åºåˆ—è‰²å›¾ï¼šè¿™ç±»å‹çš„è‰²è°±åªåŒ…æ‹¬ä¸€ä¸ªè¿ç»­åºåˆ—çš„è‰²ç³»ï¼ˆä¾‹å¦‚binaryæˆ–viridisï¼‰ã€‚</li><li>åˆ†åŒ–è‰²å›¾ï¼šè¿™ç±»å‹çš„è‰²è°±åŒ…æ‹¬ä¸¤ç§ç‹¬ç«‹çš„è‰²ç³»ï¼Œè¿™ä¸¤ç§é¢œè‰²æœ‰ç€éå¸¸å¤§çš„å¯¹æ¯”åº¦ï¼ˆä¾‹å¦‚RdBuæˆ–PuOrï¼‰ã€‚</li><li>å®šæ€§è‰²å›¾ï¼šè¿™ç±»å‹çš„è‰²å›¾æ··åˆäº†éç‰¹å®šè¿ç»­åºåˆ—çš„é¢œè‰²ï¼ˆä¾‹å¦‚rainbowæˆ–jetï¼‰ã€‚</li></ul><p>jetè‰²å›¾ï¼Œåœ¨ Matplotlib 2.0 ç‰ˆæœ¬ä¹‹å‰éƒ½æ˜¯é»˜è®¤çš„è‰²å›¾ï¼Œæ˜¯å®šæ€§è‰²å›¾çš„ä¸€ä¸ªä¾‹å­ã€‚jetä½œä¸ºé»˜è®¤è‰²å›¾çš„ä½ç½®å…¶å®æœ‰ç‚¹å°´å°¬ï¼Œå› ä¸ºå®šæ€§å›¾é€šå¸¸éƒ½ä¸æ˜¯å¯¹å®šé‡æ•°æ®è¿›è¡Œå±•ç¤ºçš„å¥½é€‰æ‹©ã€‚åŸå› æ˜¯å®šæ€§å›¾é€šå¸¸éƒ½ä¸èƒ½åœ¨èŒƒå›´å¢åŠ æ—¶æä¾›äº®åº¦çš„å‡åŒ€å¢é•¿ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†jeté¢œè‰²æ¡è½¬æ¢ä¸ºé»‘ç™½æ¥çœ‹åˆ°è¿™ç‚¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> LinearSegmentedColormap</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">grayscale_cmap</span><span class="params">(cmap)</span>:</span></span><br><span class="line">    <span class="string">"""è¿”å›ç»™å®šè‰²å›¾çš„ç°åº¦ç‰ˆæœ¬"""</span></span><br><span class="line">    cmap = plt.cm.get_cmap(cmap) <span class="comment"># ä½¿ç”¨åç§°è·å–è‰²å›¾å¯¹è±¡</span></span><br><span class="line">    colors = cmap(np.arange(cmap.N)) <span class="comment"># å°†è‰²å›¾å¯¹è±¡è½¬ä¸ºRGBAçŸ©é˜µï¼Œå½¢çŠ¶ä¸ºNÃ—4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†RGBAé¢œè‰²è½¬æ¢ä¸ºç°åº¦</span></span><br><span class="line">    <span class="comment"># å‚è€ƒ http://alienryderflex.com/hsp.html</span></span><br><span class="line">    RGB_weight = [<span class="number">0.299</span>, <span class="number">0.587</span>, <span class="number">0.114</span>] <span class="comment"># RGBä¸‰è‰²çš„æƒé‡å€¼</span></span><br><span class="line">    luminance = np.sqrt(np.dot(colors[:, :<span class="number">3</span>] ** <span class="number">2</span>, RGB_weight)) <span class="comment"># RGBå¹³æ–¹å€¼å’Œæƒé‡çš„ç‚¹ç§¯å¼€å¹³æ–¹æ ¹</span></span><br><span class="line">    colors[:, :<span class="number">3</span>] = luminance[:, np.newaxis] <span class="comment"># å¾—åˆ°ç°åº¦å€¼çŸ©é˜µ</span></span><br><span class="line">    <span class="comment"># è¿”å›ç›¸åº”çš„ç°åº¦å€¼è‰²å›¾</span></span><br><span class="line">    <span class="keyword">return</span> LinearSegmentedColormap.from_list(cmap.name + <span class="string">"_gray"</span>, colors, cmap.N)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">view_colormap</span><span class="params">(cmap)</span>:</span></span><br><span class="line">    <span class="string">"""å°†è‰²å›¾å¯¹åº”çš„ç°åº¦ç‰ˆæœ¬ç»˜åˆ¶å‡ºæ¥"""</span></span><br><span class="line">    cmap = plt.cm.get_cmap(cmap)</span><br><span class="line">    colors = cmap(np.arange(cmap.N))</span><br><span class="line"></span><br><span class="line">    cmap = grayscale_cmap(cmap)</span><br><span class="line">    grayscale = cmap(np.arange(cmap.N))</span><br><span class="line"></span><br><span class="line">    fig, ax = plt.subplots(<span class="number">2</span>, figsize=(<span class="number">6</span>, <span class="number">2</span>),</span><br><span class="line">                           subplot_kw=dict(xticks=[], yticks=[]))</span><br><span class="line">    ax[<span class="number">0</span>].imshow([colors], extent=[<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">    ax[<span class="number">1</span>].imshow([grayscale], extent=[<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">view_colormap(<span class="string">'jet'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224358.png" alt=""></p><p>æ³¨æ„ä¸€ä¸‹ä¸Šé¢çš„ç°åº¦å›¾ä¸­äº®æ¡çº¹çš„ä½ç½®ã€‚å³ä½¿åœ¨ä¸Šè¿°å½©è‰²å›¾ä¸­ï¼Œä¹Ÿå‡ºç°äº†è¿™ç§ä¸è§„åˆ™çš„äº®æ¡çº¹ï¼Œè¿™ä¼šå¯¼è‡´çœ¼ç›è¢«åŒºåŸŸä¸­äº®æ¡çº¹æ‰€å¸å¼•ï¼Œè¿™å¾ˆå¯èƒ½é€ æˆé˜…è¯»è€…è¢«ä¸é‡è¦çš„æ•°æ®é›†éƒ¨åˆ†å¹²æ‰°äº†ã€‚æ›´å¥½çš„é€‰æ‹©æ˜¯ä½¿ç”¨ç±»ä¼¼viridisè¿™æ ·çš„è‰²å›¾ï¼ˆMatplotlib 2.0 åé»˜è®¤è‰²å›¾ï¼‰ï¼Œå®ƒä»¬è¢«è®¾è®¡ä¸ºæœ‰ç€å‡åŒ€çš„äº®åº¦å˜åŒ–ã€‚å› æ­¤å®ƒä»¬æ— è®ºæ˜¯åœ¨å½©è‰²å›¾ä¸­è¿˜æ˜¯åœ¨ç°åº¦å›¾ä¸­éƒ½æœ‰ç€åŒæ ·çš„äº®åº¦å˜åŒ–ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view_colormap(<span class="string">'viridis'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224401.png" alt=""></p><p>å¦‚æœä½ æ›´å–œæ¬¢å½©è™¹æ–¹æ¡ˆï¼Œå¦ä¸€ä¸ªå¥½çš„é€‰æ‹©æ˜¯ä½¿ç”¨cubehelixè‰²å›¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view_colormap(<span class="string">'cubehelix'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224404.png" alt=""></p><p>å¯¹äºå…¶ä»–çš„æƒ…å†µï¼Œä¾‹å¦‚æŸç§æ­£è´Ÿåˆ†å¸ƒçš„æ•°æ®é›†ï¼ŒåŒè‰²é¢œè‰²æ¡å¦‚RdBuï¼ˆRed-Blueï¼‰ä¼šå¾ˆå¸¸ç”¨ã€‚ç„¶è€Œæ­£å¦‚ä½ ä»ä¸‹é¢ä¾‹å­çœ‹åˆ°çš„ï¼Œå¦‚æœå°†åŒè‰²é¢œè‰²æ¡è½¬åŒ–ä¸ºç°åº¦çš„è¯ï¼Œæ­£è´Ÿæˆ–ä¸¤çº§çš„ä¿¡æ¯å°±ä¼šä¸¢å¤±ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view_colormap(<span class="string">'RdBu'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224407.png" alt=""></p><p>åé¢æˆ‘ä»¬ä¼šçœ‹åˆ°æ›´å¤šä½¿ç”¨è¿™äº›è‰²å›¾çš„ä¾‹å­ã€‚</p><p>Matplotlib ä¸­æœ‰å¤§é‡å¯ç”¨çš„è‰²å›¾ï¼›è¦çœ‹åˆ°å®ƒä»¬çš„åˆ—è¡¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ IPython æ¥æ¢ç´¢plt.cmæ¨¡å—ã€‚è¦åœ¨ Python ä¸­æ›´åŠ æ­£è§„çš„ä½¿ç”¨é¢œè‰²ï¼Œä½ å¯ä»¥æŸ¥çœ‹ Seaborn åº“çš„å·¥å…·å’Œæ–‡æ¡£ã€‚</p><h3 id="é¢œè‰²é™åˆ¶å’Œæ‰©å±•"><a href="#é¢œè‰²é™åˆ¶å’Œæ‰©å±•" class="headerlink" title="é¢œè‰²é™åˆ¶å’Œæ‰©å±•"></a><strong>é¢œè‰²é™åˆ¶å’Œæ‰©å±•</strong></h3><p>Matplotlib å…è®¸ä½ å¯¹é¢œè‰²æ¡è¿›è¡Œå¤§é‡çš„è‡ªå®šä¹‰ã€‚é¢œè‰²æ¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªplt.Axeså¯¹è±¡ï¼Œå› æ­¤æ‰€æœ‰è½´å’Œåˆ»åº¦å®šåˆ¶çš„æŠ€å·§éƒ½å¯ä»¥åº”ç”¨åœ¨ä¸Šé¢ã€‚é¢œè‰²æ¡ä¹Ÿæœ‰ç€ä¸€äº›æœ‰è¶£çš„è‡ªå®šä¹‰è¡Œä¸ºï¼šä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç¼©å°é¢œè‰²çš„èŒƒå›´å¹¶ä¸”é€šè¿‡è®¾ç½®extendå‚æ•°å°†è¶…å‡ºèŒƒå›´ä¹‹å¤–çš„æ•°å€¼å±•ç¤ºä¸ºé¡¶éƒ¨å’Œåº•éƒ¨çš„ä¸‰è§’ç®­å¤´å½¢çŠ¶ã€‚è¿™å¯¹äºå±•ç¤ºä¸€äº›å—åˆ°å™ªå£°å¹²æ‰°çš„æ•°æ®æ—¶éå¸¸æ–¹ä¾¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨Iæ•°ç»„ä¸­äººä¸ºç”Ÿæˆä¸è¶…è¿‡1%çš„å™ªå£°</span></span><br><span class="line">speckles = (np.random.random(I.shape) &lt; <span class="number">0.01</span>)</span><br><span class="line">I[speckles] = np.random.normal(<span class="number">0</span>, <span class="number">3</span>, np.count_nonzero(speckles))</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">3.5</span>))</span><br><span class="line"><span class="comment"># ä¸è€ƒè™‘å»é™¤å™ªå£°æ—¶çš„é¢œè‰²åˆ†å¸ƒ</span></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">plt.imshow(I, cmap=<span class="string">'RdBu'</span>)</span><br><span class="line">plt.colorbar()</span><br><span class="line"><span class="comment"># è®¾ç½®å»é™¤å™ªå£°æ—¶çš„é¢œè‰²åˆ†å¸ƒ</span></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">plt.imshow(I, cmap=<span class="string">'RdBu'</span>)</span><br><span class="line">plt.colorbar(extend=<span class="string">'both'</span>)</span><br><span class="line">plt.clim(<span class="number">-1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224412.png" alt=""></p><p>æ³¨æ„åˆ°åœ¨å·¦è¾¹çš„å›¾è¡¨ä¸­ï¼Œé»˜è®¤çš„é¢œè‰²é˜ˆå€¼æ˜¯åŒ…æ‹¬äº†å™ªå£°çš„ï¼Œå› æ­¤æ•´ä½“çš„æ¡çº¹å½¢çŠ¶éƒ½è¢«å™ªå£°æ•°æ®å†²åˆ·æ·¡åŒ–äº†ã€‚è€Œå³è¾¹çš„å›¾è¡¨ï¼Œæˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®äº†é¢œè‰²çš„é˜ˆå€¼ï¼Œå¹¶åœ¨ç»˜åˆ¶é¢œè‰²æ¡æ˜¯åŠ ä¸Šäº†extendå‚æ•°æ¥è¡¨ç¤ºè¶…å‡ºé˜ˆå€¼çš„æ•°æ®ã€‚å¯¹äºæˆ‘ä»¬çš„æ•°æ®æ¥è¯´ï¼Œå³å›¾æ¯”å·¦å›¾è¦å¥½çš„å¤šã€‚</p><h3 id="ç¦»æ•£é¢œè‰²æ¡"><a href="#ç¦»æ•£é¢œè‰²æ¡" class="headerlink" title="ç¦»æ•£é¢œè‰²æ¡"></a><strong>ç¦»æ•£é¢œè‰²æ¡</strong></h3><p>è‰²å›¾é»˜è®¤æ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ä½ å¯èƒ½éœ€è¦å±•ç¤ºç¦»æ•£å€¼ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨plt.cm.get_cmap()å‡½æ•°ï¼Œåœ¨ä¼ é€’æŸä¸ªè‰²å›¾åç§°çš„åŒæ—¶ï¼Œè¿˜é¢å¤–ä¼ é€’ä¸€ä¸ªé¢œè‰²åˆ†æ¡¶çš„æ•°é‡å€¼å‚æ•°ç»™è¯¥å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.imshow(I, cmap=plt.cm.get_cmap(<span class="string">'Blues'</span>, <span class="number">6</span>))</span><br><span class="line">plt.colorbar()</span><br><span class="line">plt.clim(<span class="number">-1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224415.png" alt=""></p><p>ç¦»æ•£è‰²å›¾çš„ä½¿ç”¨æ–¹å¼å’Œå…¶ä»–è‰²å›¾æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><h2 id="ä¾‹å­ï¼šæ‰‹å†™æ•°å­—"><a href="#ä¾‹å­ï¼šæ‰‹å†™æ•°å­—" class="headerlink" title="ä¾‹å­ï¼šæ‰‹å†™æ•°å­—"></a><strong>ä¾‹å­ï¼šæ‰‹å†™æ•°å­—</strong></h2><p>æœ€åæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¾ˆæœ‰å®ç”¨ä»·å€¼çš„ä¾‹å­ï¼Œè®©æˆ‘ä»¬å®ç°å¯¹ä¸€äº›æ‰‹å†™æ•°å­—å›¾åƒæ•°æ®çš„å¯è§†åŒ–åˆ†æã€‚è¿™ä¸ªæ•°æ®åŒ…å«åœ¨ Sciki-Learn ä¸­ï¼Œä»¥ä¾›åŒ…å«æœ‰å°†è¿‘ 2,000 å¼   å¤§å°çš„ä¸åŒç¬”è¿¹çš„æ‰‹å†™æ•°å­—ç¼©ç•¥å›¾ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¸‹è½½è¿™ä¸ªæ•°æ®é›†ï¼Œç„¶åä½¿ç”¨plt.imshow()å°†å…¶ä¸­éƒ¨åˆ†æ•°æ®å±•ç¤ºå‡ºæ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–æ•°å­—0-5çš„æ‰‹å†™å›¾åƒï¼Œç„¶åä½¿ç”¨Matplotlibå±•ç¤ºå¤´64å¼ ç¼©ç•¥å›¾</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits</span><br><span class="line">digits = load_digits(n_class=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(<span class="number">8</span>, <span class="number">8</span>, figsize=(<span class="number">6</span>, <span class="number">6</span>))</span><br><span class="line"><span class="keyword">for</span> i, axi <span class="keyword">in</span> enumerate(ax.flat):</span><br><span class="line">    axi.imshow(digits.images[i], cmap=<span class="string">'binary'</span>)</span><br><span class="line">    axi.set(xticks=[], yticks=[])</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224419.png" alt=""></p><p>å› ä¸ºæ¯ä¸ªæ•°å­—éƒ½æ˜¯ä½¿ç”¨ 64 ä¸ªåƒç´ ç‚¹æ¸²æŸ“å‡ºæ¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ¯ä¸ªæ•°å­—æ˜¯ä¸€ä¸ª 64 ç»´ç©ºé—´ä¸­çš„ç‚¹ï¼šæ¯ä¸ªç»´åº¦ä»£è¡¨è¿™å…¶ä¸­ä¸€ä¸ªåƒç´ çš„ç°åº¦å€¼ã€‚ä½†æ˜¯è¦åœ¨å›¾è¡¨ä¸­å°†è¿™ä¹ˆé«˜ç»´åº¦ç©ºé—´çš„è”ç³»å¯è§†åŒ–å‡ºæ¥æ˜¯éå¸¸å›°éš¾çš„ã€‚æœ‰ä¸€ç§åšæ³•æ˜¯ä½¿ç”¨é™ç»´æŠ€æœ¯ï¼Œæ¯”æ–¹è¯´ä½¿ç”¨æµå½¢å­¦ä¹ æ¥å‡å°‘æ•°æ®çš„ç»´åº¦ç„¶è€Œä¸ä¼šä¸¢å¤±æ•°æ®ä¸­æœ‰æ•ˆçš„ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å°†è¿™äº›æ‰‹å†™æ•°å­—å›¾åƒæ•°æ®æ˜ å°„åˆ°äºŒç»´æµå½¢å­¦ä¹ å½“ä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨Isomapå°†æ‰‹å†™æ•°å­—å›¾åƒæ˜ å°„åˆ°äºŒç»´æµå½¢å­¦ä¹ ä¸­</span></span><br><span class="line"><span class="keyword">from</span> sklearn.manifold <span class="keyword">import</span> Isomap</span><br><span class="line">iso = Isomap(n_components=<span class="number">2</span>)</span><br><span class="line">projection = iso.fit_transform(digits.data)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨ç¦»æ•£é¢œè‰²æ¡æ¥å±•ç¤ºç»“æœï¼Œè®¾ç½®tickså’Œclimæ¥è¿›ä¸€æ­¥ç¾åŒ–ç»“æœçš„é¢œè‰²æ¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»˜åˆ¶å›¾è¡¨ç»“æœ</span></span><br><span class="line">plt.scatter(projection[:, <span class="number">0</span>], projection[:, <span class="number">1</span>], lw=<span class="number">0.1</span>,</span><br><span class="line">            c=digits.target, cmap=plt.cm.get_cmap(<span class="string">'cubehelix'</span>, <span class="number">6</span>))</span><br><span class="line">plt.colorbar(ticks=range(<span class="number">6</span>), label=<span class="string">'digit value'</span>)</span><br><span class="line">plt.clim(<span class="number">-0.5</span>, <span class="number">5.5</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224423.png" alt=""></p><p>æˆ‘ä»¬ä»æµå½¢å­¦ä¹ ä¸­çš„æ˜ å°„ä¸­å¯ä»¥è§‚å¯Ÿåˆ°ä¸€äº›æœ‰è¶£ç°è±¡ï¼šä¾‹å¦‚ï¼Œå›¾è¡¨ä¸­ 5 å’Œ 3 æœ‰ä¸€äº›é‡å çš„éƒ¨åˆ†ï¼Œè¿™è¡¨ç¤ºä¸€äº›æ‰‹å†™ä½“ä¸­ 5 å’Œ 3 æ˜¯æ¯”è¾ƒéš¾ä»¥è¾¨åˆ«çš„ï¼Œå› æ­¤å¯¹äºè‡ªåŠ¨è¯†åˆ«ç®—æ³•æ¥è¯´è¿™æ˜¯æ¯”è¾ƒå®¹æ˜“æ··æ·†çš„éƒ¨åˆ†ã€‚è€Œ 0 å’Œ 1ï¼Œå®ƒä»¬åœ¨å›¾è¡¨ä¸­è·ç¦»å¾ˆè¿œï¼Œè¿™è¡¨ç¤ºä¸¤è€…æ¯”è¾ƒå®¹æ˜“è¾¨åˆ«ï¼Œä¸å¤ªå¯èƒ½é€ æˆæ··æ·†ã€‚è¿™ä¸ªå›¾è¡¨åˆ†æä¸æˆ‘ä»¬çš„ç›´è§‰ä¸€è‡´ï¼Œå› ä¸º 5 å’Œ 3 æ˜¾ç„¶æ¯” 0 å’Œ 1 çœ‹èµ·æ¥æ›´åŠ æ¥è¿‘ã€‚</p><h1 id="8-å¤šä¸ªå­å›¾è¡¨"><a href="#8-å¤šä¸ªå­å›¾è¡¨" class="headerlink" title="8.å¤šä¸ªå­å›¾è¡¨"></a><strong>8.å¤šä¸ªå­å›¾è¡¨</strong></h1><p>åœ¨ä¸€äº›æƒ…å†µä¸­ï¼Œå¦‚æœèƒ½å°†ä¸åŒçš„æ•°æ®å›¾è¡¨å¹¶åˆ—å±•ç¤ºï¼Œå¯¹äºæˆ‘ä»¬è¿›è¡Œæ•°æ®åˆ†æå’Œæ¯”è¾ƒä¼šå¾ˆæœ‰å¸®åŠ©ã€‚Matplotlib æä¾›äº†å­å›¾è¡¨çš„æ¦‚å¿µæ¥å®ç°è¿™ä¸€ç‚¹ï¼šå•ä¸ªå›¾è¡¨ä¸­å¯ä»¥åŒ…æ‹¬ä¸€ç»„å°çš„ axes ç”¨æ¥å±•ç¤ºå¤šä¸ªå­å›¾è¡¨ã€‚è¿™äº›å­å›¾è¡¨å¯ä»¥æ˜¯æ’å›¾ï¼Œç½‘æ ¼çŠ¶åˆ†å¸ƒæˆ–å…¶ä»–æ›´å¤æ‚çš„å¸ƒå±€ã€‚åœ¨æœ¬èŠ‚ä¸­æˆ‘ä»¬ä¼šä»‹ç» Matplotlib ä¸­ç”¨æ¥æ„å»ºå­å›¾è¡¨çš„å››ä¸ªå‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'seaborn-white'</span>)</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h2 id="plt-axesï¼šæ‰‹åŠ¨æ„å»ºå­å›¾è¡¨"><a href="#plt-axesï¼šæ‰‹åŠ¨æ„å»ºå­å›¾è¡¨" class="headerlink" title="plt.axesï¼šæ‰‹åŠ¨æ„å»ºå­å›¾è¡¨"></a><strong>plt.axesï¼šæ‰‹åŠ¨æ„å»ºå­å›¾è¡¨</strong></h2><p>æ„å»º axes ä½œä¸ºå­å›¾è¡¨çš„æœ€åŸºç¡€æ–¹æ³•å°±æ˜¯ä½¿ç”¨plt.axeså‡½æ•°ã€‚æ­£å¦‚æˆ‘ä»¬å‰é¢å·²ç»çœ‹åˆ°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå‡½æ•°å¤Ÿåˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„ axes å¯¹è±¡å¡«æ»¡æ•´ä¸ªå›¾è¡¨åŒºåŸŸã€‚plt.axeså‡½æ•°ä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªå¯é€‰çš„åˆ—è¡¨å‚æ•°ç”¨æ¥æŒ‡å®šåœ¨ axes åœ¨æ•´ä¸ªå›¾è¡¨ä¸­çš„åæ ‡ç‚¹ä½ç½®ã€‚åˆ—è¡¨ä¸­æœ‰å››ä¸ªæ•°å€¼åˆ†åˆ«ä¸º[left, bottom, width, height]ï¼ˆå–å€¼éƒ½æ˜¯ 0-1ï¼‰ï¼Œä»£è¡¨ç€å­å›¾è¡¨çš„å·¦è¾¹ã€åº•éƒ¨ã€å®½åº¦ã€é«˜åº¦åœ¨æ•´ä¸ªå›¾è¡¨ä¸­å·¦è¾¹ã€åº•éƒ¨ã€å®½åº¦ã€é«˜åº¦æ‰€å çš„æ¯”ä¾‹å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·ç¦»å·¦è¾¹å’Œåº•éƒ¨ 65%çš„ä½ç½®ï¼Œä»¥æ’å›¾çš„å½¢å¼æ”¾ç½®ä¸€ä¸ªå®½åº¦å’Œé«˜åº¦éƒ½æ˜¯ 20%å­å›¾è¡¨ï¼Œä¸Šè¿°æ•°å€¼åº”è¯¥ä¸º[0.65, 0.65, 0.2, 0.2]ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax1 = plt.axes()  <span class="comment"># æ ‡å‡†å›¾è¡¨</span></span><br><span class="line">ax2 = plt.axes([<span class="number">0.65</span>, <span class="number">0.65</span>, <span class="number">0.2</span>, <span class="number">0.2</span>]) <span class="comment">#å­å›¾è¡¨</span></span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224427.png" alt=""></p><p>ä¸ä¸Šè¿°ç­‰ä»·çš„é¢å‘å¯¹è±¡æ¥å£çš„è¯­æ³•æ˜¯fig.add_axes()ã€‚æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥åˆ›å»ºä¸¤ä¸ªå‚ç›´å †å çš„å­å›¾è¡¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure() <span class="comment"># è·å¾—figureå¯¹è±¡</span></span><br><span class="line">ax1 = fig.add_axes([<span class="number">0.1</span>, <span class="number">0.5</span>, <span class="number">0.8</span>, <span class="number">0.4</span>],</span><br><span class="line">                   xticklabels=[], ylim=(<span class="number">-1.2</span>, <span class="number">1.2</span>)) <span class="comment"># å·¦è¾¹10% åº•éƒ¨50% å®½80% é«˜40%</span></span><br><span class="line">ax2 = fig.add_axes([<span class="number">0.1</span>, <span class="number">0.1</span>, <span class="number">0.8</span>, <span class="number">0.4</span>],</span><br><span class="line">                   ylim=(<span class="number">-1.2</span>, <span class="number">1.2</span>)) <span class="comment"># å·¦è¾¹10% åº•éƒ¨10% å®½80% é«˜40%</span></span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">ax1.plot(np.sin(x))</span><br><span class="line">ax2.plot(np.cos(x));</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224430.png" alt=""></p><p>è¿™æ ·æˆ‘ä»¬å°±æœ‰ä¸¤ä¸ªå­å›¾è¡¨ï¼ˆä¸Šé¢çš„å­å›¾è¡¨æ²¡æœ‰ x è½´åˆ»åº¦ï¼‰ï¼Œè¿™ä¸¤ä¸ªå­å›¾è¡¨æ­£å¥½å»åˆï¼šä¸Šé¢å›¾è¡¨çš„åº•éƒ¨æ˜¯æ•´ä¸ªå›¾è¡¨é«˜åº¦ 50%ä½ç½®ï¼Œè€Œä¸‹é¢å›¾è¡¨çš„é¡¶éƒ¨ä¹Ÿæ˜¯æ•´ä¸ªå›¾è¡¨çš„ 50%ä½ç½®ï¼ˆ0.1+0.4ï¼‰ã€‚</p><h2 id="plt-subplotï¼šç®€å•ç½‘æ ¼çš„å­å›¾è¡¨"><a href="#plt-subplotï¼šç®€å•ç½‘æ ¼çš„å­å›¾è¡¨" class="headerlink" title="plt.subplotï¼šç®€å•ç½‘æ ¼çš„å­å›¾è¡¨"></a><strong>plt.subplotï¼šç®€å•ç½‘æ ¼çš„å­å›¾è¡¨</strong></h2><p>å°†å­å›¾è¡¨çš„è¡Œä¸åˆ—å¯¹é½æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œå› æ­¤ Matplotlib æä¾›äº†ä¸€äº›ç®€å•çš„å‡½æ•°æ¥å®ç°å®ƒä»¬ã€‚è¿™äº›å‡½æ•°å½“ä¸­æœ€åº•å±‚çš„æ˜¯plt.subplot()ï¼Œå®ƒä¼šåœ¨ç½‘æ ¼ä¸­åˆ›å»ºä¸€ä¸ªå­å›¾è¡¨ã€‚å‡½æ•°æ¥å—ä¸‰ä¸ªæ•´æ•°å‚æ•°ï¼Œç½‘æ ¼è¡Œæ•°ï¼Œç½‘æ ¼åˆ—æ•°ä»¥åŠè¯¥ç½‘æ ¼å­å›¾è¡¨çš„åºå·ï¼ˆä»å·¦ä¸Šè§’å‘å³ä¸‹è§’é€’å¢ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">7</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>, <span class="number">3</span>, i)</span><br><span class="line">    plt.text(<span class="number">0.5</span>, <span class="number">0.5</span>, str((<span class="number">2</span>, <span class="number">3</span>, i)),</span><br><span class="line">             fontsize=<span class="number">18</span>, ha=<span class="string">'center'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224433.png" alt=""></p><p>plt.subplots_adjustå‡½æ•°ç”¨æ¥è°ƒæ•´è¿™äº›å­å›¾è¡¨ä¹‹é—´çš„è·ç¦»ã€‚ä¸‹é¢çš„ä»£ç ä½¿ç”¨äº†ä¸plt.subplot()ç­‰ä»·çš„é¢å‘å¯¹è±¡æ¥å£æ–¹æ³•fig.add_subplot()ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">fig.subplots_adjust(hspace=<span class="number">0.4</span>, wspace=<span class="number">0.4</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">7</span>):</span><br><span class="line">    ax = fig.add_subplot(<span class="number">2</span>, <span class="number">3</span>, i)</span><br><span class="line">    ax.text(<span class="number">0.5</span>, <span class="number">0.5</span>, str((<span class="number">2</span>, <span class="number">3</span>, i)),</span><br><span class="line">           fontsize=<span class="number">18</span>, ha=<span class="string">'center'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224437.png" alt=""></p><p>ä¸Šä¾‹ä¸­æˆ‘ä»¬æŒ‡å®šäº†plt.subplots_adjustå‡½æ•°çš„hspaceå’Œwspaceå‚æ•°ï¼Œå®ƒä»¬ä»£è¡¨è¿™æ²¿ç€é«˜åº¦å’Œå®½åº¦æ–¹å‘å­å›¾è¡¨ä¹‹é—´çš„è·ç¦»ï¼Œå•ä½æ˜¯å­å›¾è¡¨çš„å¤§å°ï¼ˆåœ¨æœ¬ä¾‹ä¸­ï¼Œè·ç¦»æ˜¯å­å›¾è¡¨å®½åº¦å’Œé«˜åº¦çš„ 40%ï¼‰ã€‚</p><h2 id="plt-subplotsï¼šä¸€å¥ä»£ç è®¾ç½®æ‰€æœ‰ç½‘æ ¼å­å›¾è¡¨"><a href="#plt-subplotsï¼šä¸€å¥ä»£ç è®¾ç½®æ‰€æœ‰ç½‘æ ¼å­å›¾è¡¨" class="headerlink" title="plt.subplotsï¼šä¸€å¥ä»£ç è®¾ç½®æ‰€æœ‰ç½‘æ ¼å­å›¾è¡¨"></a><strong>plt.subplotsï¼šä¸€å¥ä»£ç è®¾ç½®æ‰€æœ‰ç½‘æ ¼å­å›¾è¡¨</strong></h2><p>ä¸Šé¢çš„æ–¹æ³•åœ¨æˆ‘ä»¬éœ€è¦åˆ›å»ºå¤§é‡çš„å­å›¾è¡¨ç½‘æ ¼æ—¶ä¼šå˜å¾—éå¸¸å†—é•¿ä¹å‘³ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦å°†å†…éƒ¨å›¾è¡¨ x è½´å’Œ y è½´æ ‡ç­¾éšè—çš„æƒ…å†µä¸‹ã€‚å› æ­¤ï¼Œplt.subplotsåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªåˆé€‚çš„å·¥å…·ï¼ˆæ³¨æ„æœ«å°¾æœ‰ä¸ª sï¼‰ã€‚è¿™ä¸ªå‡½æ•°ä¼šä¸€æ¬¡æ€§åˆ›å»ºæ‰€æœ‰çš„ç½‘æ ¼å­å›¾è¡¨ï¼Œè€Œä¸æ˜¯å•ä¸ªç½‘æ ¼ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ª NumPy æ•°ç»„ä¸­è¿”å›ã€‚å‚æ•°æ˜¯è¡Œæ•°å’Œåˆ—æ•°ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¯é€‰çš„å…³é”®å­—å‚æ•°sharexå’Œshareyï¼Œå¯ä»¥è®©ä½ æŒ‡å®šä¸åŒå­å›¾è¡¨ä¹‹é—´çš„å…³è”ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ª  ç½‘æ ¼çš„å­å›¾è¡¨ï¼Œå…¶ä¸­æ¯ä¸€è¡Œçš„å­å›¾è¡¨å…±äº«å®ƒä»¬çš„ y è½´ï¼Œè€Œæ¯ä¸€åˆ—çš„å­å›¾è¡¨å…±äº«å®ƒä»¬çš„ x è½´ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(<span class="number">2</span>, <span class="number">3</span>, sharex=<span class="string">'col'</span>, sharey=<span class="string">'row'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224441.png" alt=""></p><p>æ³¨æ„ä¸Šé¢æˆ‘ä»¬è®¾ç½®äº†sharexå’Œshareyä¹‹åï¼Œå†…éƒ¨å­å›¾è¡¨çš„ x è½´å’Œ y è½´çš„æ ‡ç­¾å°±è‡ªåŠ¨è¢«å»æ‰äº†ã€‚è¿”å›å€¼ä¸­ ax æ˜¯ä¸€ä¸ª NumPy æ•°ç»„ï¼Œé‡Œé¢å«æœ‰æ¯ä¸€ä¸ªå­å›¾è¡¨çš„å®ä¾‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ NumPy ç´¢å¼•çš„è¯­æ³•å¾ˆç®€å•çš„è·å¾—å®ƒä»¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># axesæ˜¯ä¸€ä¸ª2Ã—3çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡[row, col]è¿›è¡Œç´¢å¼•è®¿é—®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        ax[i, j].text(<span class="number">0.5</span>, <span class="number">0.5</span>, str((i, j)),</span><br><span class="line">                      fontsize=<span class="number">18</span>, ha=<span class="string">'center'</span>)</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224444.png" alt=""></p><p>å¹¶ä¸”ç›¸å¯¹äºplt.subplotï¼Œplt.subplots()æ›´å¤åˆ Python ä» 0 å¼€å§‹è¿›è¡Œç´¢å¼•çš„ä¹ æƒ¯ã€‚</p><h2 id="plt-GridSpecï¼šæ›´å¤æ‚çš„æ’åˆ—"><a href="#plt-GridSpecï¼šæ›´å¤æ‚çš„æ’åˆ—" class="headerlink" title="plt.GridSpecï¼šæ›´å¤æ‚çš„æ’åˆ—"></a><strong>plt.GridSpecï¼šæ›´å¤æ‚çš„æ’åˆ—</strong></h2><p>å½“ä½ éœ€è¦å­å›¾è¡¨åœ¨ç½‘æ ¼ä¸­å æ®å¤šè¡Œæˆ–å¤šåˆ—æ—¶ï¼Œplt.GridSpec()æ­£æ˜¯ä½ æ‰€éœ€è¦çš„ã€‚plt.GridSpec()å¯¹è±¡å¹¶ä¸è‡ªå·±åˆ›å»ºå›¾è¡¨ï¼›å®ƒåªæ˜¯ä¸€ä¸ªå¯ä»¥è¢«ä¼ é€’ç»™plt.subplot()çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªä¸¤è¡Œä¸‰åˆ—å¹¶å¸¦æœ‰æŒ‡å®šçš„å®½åº¦é«˜åº¦é—´éš”çš„ gridspec å¯ä»¥å¦‚ä¸‹åˆ›å»ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid = plt.GridSpec(<span class="number">2</span>, <span class="number">3</span>, wspace=<span class="number">0.4</span>, hspace=<span class="number">0.3</span>)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥æŒ‡å®šå­å›¾è¡¨çš„ä½ç½®å’Œå æ®çš„ç½‘æ ¼ï¼Œä»…éœ€è¦ä½¿ç”¨ç†Ÿæ‚‰çš„ Python åˆ‡ç‰‡è¯­æ³•å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(grid[<span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">plt.subplot(grid[<span class="number">0</span>, <span class="number">1</span>:])</span><br><span class="line">plt.subplot(grid[<span class="number">1</span>, :<span class="number">2</span>])</span><br><span class="line">plt.subplot(grid[<span class="number">1</span>, <span class="number">2</span>]);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224449.png" alt=""></p><p>è¿™ç§çµæ´»çš„ç½‘æ ¼å¯¹é½æ§åˆ¶æ–¹å¼æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚ä½œè€…ç»å¸¸åœ¨éœ€è¦åˆ›å»ºå¤šä¸ªç›´æ–¹å›¾çš„è”åˆå›¾è¡¨ä¸­ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå¦‚ä¸‹ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºäºŒç»´æ­£æ€åˆ†å¸ƒæ•°æ®</span></span><br><span class="line">mean = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">cov = [[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>]]</span><br><span class="line">x, y = np.random.multivariate_normal(mean, cov, <span class="number">3000</span>).T</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨GridSpecåˆ›å»ºç½‘æ ¼å¹¶åŠ å…¥å­å›¾è¡¨</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">6</span>, <span class="number">6</span>))</span><br><span class="line">grid = plt.GridSpec(<span class="number">4</span>, <span class="number">4</span>, hspace=<span class="number">0.2</span>, wspace=<span class="number">0.2</span>)</span><br><span class="line">main_ax = fig.add_subplot(grid[:<span class="number">-1</span>, <span class="number">1</span>:])</span><br><span class="line">y_hist = fig.add_subplot(grid[:<span class="number">-1</span>, <span class="number">0</span>], xticklabels=[], sharey=main_ax)</span><br><span class="line">x_hist = fig.add_subplot(grid[<span class="number">-1</span>, <span class="number">1</span>:], yticklabels=[], sharex=main_ax)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨ä¸»å›¾è¡¨ä¸­ç»˜åˆ¶æ•£ç‚¹å›¾</span></span><br><span class="line">main_ax.plot(x, y, <span class="string">'ok'</span>, markersize=<span class="number">3</span>, alpha=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†åˆ«åœ¨xè½´å’Œyè½´æ–¹å‘ç»˜åˆ¶ç›´æ–¹å›¾</span></span><br><span class="line">x_hist.hist(x, <span class="number">40</span>, histtype=<span class="string">'stepfilled'</span>,</span><br><span class="line">            orientation=<span class="string">'vertical'</span>, color=<span class="string">'gray'</span>)</span><br><span class="line">x_hist.invert_yaxis() <span class="comment"># xè½´æ–¹å‘ï¼ˆå³ä¸‹ï¼‰ç›´æ–¹å›¾å€’è½¬yè½´æ–¹å‘</span></span><br><span class="line"></span><br><span class="line">y_hist.hist(y, <span class="number">40</span>, histtype=<span class="string">'stepfilled'</span>,</span><br><span class="line">            orientation=<span class="string">'horizontal'</span>, color=<span class="string">'gray'</span>)</span><br><span class="line">y_hist.invert_xaxis() <span class="comment"># yè½´æ–¹å‘ï¼ˆå·¦ä¸Šï¼‰ç›´æ–¹å›¾å€’è½¬xè½´æ–¹å‘</span></span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224452.png" alt=""></p><p>è¿™ç§æ²¿ç€æ•°æ®å„è‡ªæ–¹å‘åˆ†å¸ƒå¹¶ç»˜åˆ¶ç›¸åº”å›¾è¡¨çš„éœ€æ±‚æ˜¯å¾ˆé€šç”¨çš„ï¼Œå› æ­¤åœ¨ Seaborn åŒ…ä¸­å®ƒä»¬æœ‰ä¸“é—¨çš„ API æ¥å®ç°ã€‚</p><h1 id="9-æ–‡æœ¬å’Œæ ‡æ³¨"><a href="#9-æ–‡æœ¬å’Œæ ‡æ³¨" class="headerlink" title="9.æ–‡æœ¬å’Œæ ‡æ³¨"></a><strong>9.æ–‡æœ¬å’Œæ ‡æ³¨</strong></h1><p>åˆ›å»ºä¸€ä¸ªä¼˜ç§€çš„å¯è§†åŒ–å›¾è¡¨çš„å…³é”®åœ¨äºå¼•å¯¼è¯»è€…ï¼Œè®©ä»–ä»¬èƒ½ç†è§£å›¾è¡¨æ‰€è®²è¿°çš„æ•…äº‹ã€‚åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ•…äº‹å¯ä»¥é€šè¿‡çº¯å›¾åƒçš„æ–¹å¼è¡¨è¾¾ï¼Œä¸éœ€è¦é¢å¤–æ·»åŠ æ–‡å­—ï¼Œä½†æ˜¯åœ¨å¦å¤–ä¸€äº›æƒ…å†µä¸­ï¼Œå›¾è¡¨éœ€è¦æ–‡å­—çš„æç¤ºå’Œæ ‡ç­¾æ‰èƒ½å°†æ•…äº‹è®²å¥½ã€‚ä¹Ÿè®¸æ ‡æ³¨æœ€åŸºæœ¬çš„ç±»å‹å°±æ˜¯å›¾è¡¨çš„æ ‡ç­¾å’Œæ ‡é¢˜ï¼Œä½†æ˜¯å…¶ä¸­çš„é€‰é¡¹å‚æ•°å´æœ‰å¾ˆå¤šã€‚è®©æˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­ä½¿ç”¨ä¸€äº›æ•°æ®æ¥åˆ›å»ºå¯è§†åŒ–å›¾è¡¨å¹¶æ ‡æ³¨è¿™äº›å›¾è¡¨æ¥è¡¨è¾¾è¿™äº›æœ‰è¶£çš„ä¿¡æ¯ã€‚é¦–å…ˆè¿˜æ˜¯éœ€è¦å°†è¦ç”¨åˆ°çš„æ¨¡å—å’ŒåŒ…å¯¼å…¥ notebookï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line">plt.style.use(<span class="string">'seaborn-whitegrid'</span>)</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure><h2 id="ä¾‹å­ï¼šèŠ‚å‡æ—¥å¯¹ç¾å›½å‡ºç”Ÿç‡çš„å½±å“"><a href="#ä¾‹å­ï¼šèŠ‚å‡æ—¥å¯¹ç¾å›½å‡ºç”Ÿç‡çš„å½±å“" class="headerlink" title="ä¾‹å­ï¼šèŠ‚å‡æ—¥å¯¹ç¾å›½å‡ºç”Ÿç‡çš„å½±å“"></a><strong>ä¾‹å­ï¼šèŠ‚å‡æ—¥å¯¹ç¾å›½å‡ºç”Ÿç‡çš„å½±å“</strong></h2><p>æœ¬ä¾‹ä¸­çš„æ•°æ®å¯ä»¥åœ¨ <a href="https://raw.githubusercontent.com/jakevdp/data-CDCbirths/master/births.csv" target="_blank" rel="noopener">https://raw.githubusercontent.com/jakevdp/data-CDCbirths/master/births.csv</a> ä¸‹è½½ã€‚</p><p>æˆ‘ä»¬å…ˆæŒ‰ç…§å‰é¢çš„æ–¹å¼è¿›è¡ŒåŒæ ·çš„æ•°æ®æ¸…æ´—ç¨‹åºï¼Œç„¶åä»¥å›¾è¡¨å±•ç¤ºè¿™ä¸ªç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">births = pd.read_csv(<span class="string">r'D:\python\Githubå­¦ä¹ ææ–™\Pythonæ•°æ®ç§‘å­¦æ‰‹å†Œ\data\births.csv'</span>)</span><br><span class="line"></span><br><span class="line">quartiles = np.percentile(births[<span class="string">'births'</span>], [<span class="number">25</span>, <span class="number">50</span>, <span class="number">75</span>])</span><br><span class="line">mu, sig = quartiles[<span class="number">1</span>], <span class="number">0.74</span> * (quartiles[<span class="number">2</span>] - quartiles[<span class="number">0</span>])</span><br><span class="line">births = births.query(<span class="string">'(births &gt; @mu - 5 * @sig) &amp; (births &lt; @mu + 5 * @sig)'</span>)</span><br><span class="line"></span><br><span class="line">births[<span class="string">'day'</span>] = births[<span class="string">'day'</span>].astype(int)</span><br><span class="line"></span><br><span class="line">births.index = pd.to_datetime(<span class="number">10000</span> * births.year +</span><br><span class="line">                              <span class="number">100</span> * births.month +</span><br><span class="line">                              births.day, format=<span class="string">'%Y%m%d'</span>)</span><br><span class="line">births_by_date = births.pivot_table(<span class="string">'births'</span>,</span><br><span class="line">                                    [births.index.month, births.index.day])</span><br><span class="line">births_by_date.index = [pd.datetime(<span class="number">2012</span>, month, day)</span><br><span class="line">                        <span class="keyword">for</span> (month, day) <span class="keyword">in</span> births_by_date.index]</span><br></pre></td></tr></table></figure><p>C:\Users\gdc\Anaconda3\lib\site-packages\ipykernel_launcher.py:15: FutureWarning: The pandas.datetime class is deprecated and will be removed from pandas in a future version. Import from datetime module instead.<br>  from ipykernel import kernelapp as app</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">4</span>))</span><br><span class="line">births_by_date.plot(ax=ax);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224456.png" alt=""></p><p>å½“æˆ‘ä»¬ç»˜åˆ¶äº†è¿™æ ·çš„å›¾è¡¨æ¥è¡¨è¾¾æ•°æ®æ—¶ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¯¹ä¸€äº›å›¾è¡¨çš„ç‰¹æ€§ä½œå‡ºæ ‡æ³¨æ¥ï¼Œè¿™å¯¹å¸å¼•è¯»è€…çš„æ³¨æ„åŠ›é€šå¸¸æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚è¿™å¯ä»¥é€šè¿‡è°ƒç”¨plt.textæˆ–ax.textå‡½æ•°æ¥å®ç°ï¼Œå®ƒä»¬å¯ä»¥åœ¨æŸä¸ªç‰¹å®šçš„ xï¼Œy è½´ä½ç½®è¾“å‡ºä¸€æ®µæ–‡å­—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">4</span>))</span><br><span class="line">births_by_date.plot(ax=ax)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æŠ˜çº¿çš„ç‰¹æ®Šä½ç½®æ ‡æ³¨æ–‡å­—</span></span><br><span class="line">style = dict(size=<span class="number">10</span>, color=<span class="string">'gray'</span>)</span><br><span class="line"></span><br><span class="line">ax.text(<span class="string">'2012-1-1'</span>, <span class="number">3950</span>, <span class="string">"New Year's Day"</span>, **style)</span><br><span class="line">ax.text(<span class="string">'2012-7-4'</span>, <span class="number">4250</span>, <span class="string">"Independence Day"</span>, ha=<span class="string">'center'</span>, **style)</span><br><span class="line">ax.text(<span class="string">'2012-9-4'</span>, <span class="number">4850</span>, <span class="string">"Labor Day"</span>, ha=<span class="string">'center'</span>, **style)</span><br><span class="line">ax.text(<span class="string">'2012-10-31'</span>, <span class="number">4600</span>, <span class="string">"Halloween"</span>, ha=<span class="string">'right'</span>, **style)</span><br><span class="line">ax.text(<span class="string">'2012-11-25'</span>, <span class="number">4450</span>, <span class="string">"Thanksgiving"</span>, ha=<span class="string">'center'</span>, **style)</span><br><span class="line">ax.text(<span class="string">'2012-12-25'</span>, <span class="number">3850</span>, <span class="string">"Christmas "</span>, ha=<span class="string">'right'</span>, **style)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ ‡é¢˜å’Œyè½´æ ‡ç­¾</span></span><br><span class="line">ax.set(title=<span class="string">'USA births by day of year (1969-1988)'</span>,</span><br><span class="line">       ylabel=<span class="string">'average daily births'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®xè½´æ ‡ç­¾æœˆä»½å±…ä¸­</span></span><br><span class="line">ax.xaxis.set_major_locator(mpl.dates.MonthLocator())</span><br><span class="line">ax.xaxis.set_minor_locator(mpl.dates.MonthLocator(bymonthday=<span class="number">15</span>))</span><br><span class="line">ax.xaxis.set_major_formatter(plt.NullFormatter())</span><br><span class="line">ax.xaxis.set_minor_formatter(mpl.dates.DateFormatter(<span class="string">'%h'</span>));</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224500.png" alt=""></p><p>ax.textæ–¹æ³•æ¥æ”¶ x ä½ç½®ã€y ä½ç½®ã€ä¸€ä¸ªå­—ç¬¦ä¸²å’Œé¢å¤–å¯é€‰çš„å…³é”®å­—å‚æ•°å¯ä»¥ç”¨æ¥è®¾ç½®é¢œè‰²ã€å¤§å°ã€æ ·å¼ã€å¯¹é½ç­‰æ–‡æœ¬æ ¼å¼ã€‚ä¸Šé¢æˆ‘ä»¬ä½¿ç”¨äº†ha=â€™rightâ€™å’Œha=â€™centerâ€™ï¼Œè¿™é‡Œçš„haæ˜¯<em>hirizonal alignmentï¼ˆæ°´å¹³å¯¹é½ï¼‰</em>çš„ç¼©å†™ã€‚è¦æŸ¥é˜…æ›´å¤šçš„å¯ç”¨å‚æ•°ï¼Œè¯·æŸ¥çœ‹plt.text()å’Œmpl.text.Text()çš„æ–‡æ¡£å­—ç¬¦ä¸²å†…å®¹ã€‚</p><h2 id="è½¬æ¢å’Œæ–‡æœ¬ä½ç½®"><a href="#è½¬æ¢å’Œæ–‡æœ¬ä½ç½®" class="headerlink" title="è½¬æ¢å’Œæ–‡æœ¬ä½ç½®"></a><strong>è½¬æ¢å’Œæ–‡æœ¬ä½ç½®</strong></h2><p>åœ¨åˆšæ‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æ–‡å­—æ ‡æ³¨æ ¹æ®æ•°æ®ä½ç½®è¿›è¡Œäº†å®šä½ã€‚æœ‰äº›æ—¶å€™æˆ‘ä»¬éœ€è¦å°†æ–‡å­—æ ‡æ³¨ç‹¬ç«‹äºæ•°æ®ä½ç½®è€Œæ ¹æ®å›¾è¡¨ä½ç½®è¿›è¡Œå®šä½ã€‚Matplotlib é€šè¿‡è½¬æ¢å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p>ä»»ä½•çš„å›¾å½¢æ˜¾ç¤ºæ¡†æ¶éƒ½éœ€è¦åœ¨åæ ‡ç³»ç»Ÿä¹‹é—´è¿›è¡Œè½¬æ¢çš„æœºåˆ¶ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ•°æ®ç‚¹ä½äº  è¢«è½¬æ¢ä¸ºå›¾è¡¨ä¸­çš„æŸä¸ªä½ç½®ï¼Œè¿›è€Œè½¬æ¢ä¸ºå±å¹•ä¸Šæ˜¾ç¤ºçš„åƒç´ ã€‚è¿™æ ·çš„åæ ‡è½¬æ¢åœ¨æ•°å­¦ä¸Šéƒ½ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç›´æ¥ï¼Œè€Œä¸” Matplotlib æä¾›äº†ä¸€ç³»åˆ—çš„å·¥å…·å®ç°äº†è½¬æ¢ï¼ˆè¿™äº›å·¥å…·å¯ä»¥åœ¨matplotlib.transformsæ¨¡å—ä¸­æ‰¾åˆ°ï¼‰ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·å¾ˆå°‘éœ€è¦å…³æ³¨è¿™äº›è½¬æ¢çš„ç»†èŠ‚ï¼Œä½†æ˜¯å½“è€ƒè™‘å°†æ–‡æœ¬åœ¨å›¾è¡¨ä¸Šå±•ç¤ºæ—¶ï¼Œè¿™äº›çŸ¥è¯†å´æ¯”è¾ƒæœ‰ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œä¸‹é¢ä¸‰ç§å®šä¹‰å¥½çš„è½¬æ¢æ˜¯æ¯”è¾ƒæœ‰ç”¨çš„ï¼š</p><ul><li>ax.transDataï¼šä¸æ•°æ®åæ ‡ç›¸å…³çš„è½¬æ¢</li><li>ax.tranAxesï¼šä¸ Axes å°ºå¯¸ç›¸å…³çš„è½¬æ¢ï¼ˆå•ä½æ˜¯ axes çš„å®½å’Œé«˜ï¼‰</li><li>ax.tranFigureï¼šä¸ figure å°ºå¯¸ç›¸å…³çš„è½¬æ¢ï¼ˆå•ä½æ˜¯ figure çš„å®½å’Œé«˜ï¼‰</li></ul><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ä½¿ç”¨è¿™äº›è½¬æ¢å°†æ–‡å­—å†™åœ¨å›¾è¡¨ä¸­ä¸åŒä½ç½®çš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(facecolor=<span class="string">'lightgray'</span>)</span><br><span class="line">ax.axis([<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># transform=ax.transDataæ˜¯é»˜è®¤çš„ï¼Œè¿™é‡Œå†™å‡ºæ¥æ˜¯ä¸ºäº†æ˜ç¡®å¯¹æ¯”</span></span><br><span class="line">ax.text(<span class="number">1</span>, <span class="number">5</span>, <span class="string">". Data: (1, 5)"</span>, transform=ax.transData)</span><br><span class="line">ax.text(<span class="number">0.5</span>, <span class="number">0.1</span>, <span class="string">". Axes: (0.5, 0.1)"</span>, transform=ax.transAxes)</span><br><span class="line">ax.text(<span class="number">0.2</span>, <span class="number">0.2</span>, <span class="string">". Figure: (0.2, 0.2)"</span>, transform=fig.transFigure);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224504.png" alt=""></p><p>æ³¨æ„é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡å­—æ˜¯åœ¨æŒ‡å®šåæ ‡ä½ç½®é å·¦å¯¹é½çš„ï¼šè¿™é‡Œæ¯ä¸ªå­—ç¬¦ä¸²å¼€å§‹çš„â€.â€çš„ä½ç½®å°±æ˜¯æ¯ç§è½¬æ¢çš„åæ ‡ä½ç½®ã€‚</p><p>transDataåæ ‡ç»™å®šçš„æ˜¯é€šå¸¸ä½¿ç”¨çš„ x å’Œ y è½´åæ ‡ä½ç½®ã€‚transAxesåæ ‡ç»™å®šçš„æ˜¯ä» axes å·¦ä¸‹è§’å¼€å§‹ç®—èµ·ï¼ˆç™½è‰²åŒºåŸŸï¼‰çš„åæ ‡ä½ç½®ï¼Œä½¿ç”¨çš„æ˜¯å®½åº¦å’Œé•¿åº¦çš„å æ¯”ã€‚transFigureåæ ‡ç±»ä¼¼ï¼Œç»™å®šçš„æ˜¯ä» figure å·¦ä¸‹è§’å¼€å§‹ç®—èµ·ï¼ˆç°è‰²åŒºåŸŸï¼‰çš„åæ ‡ä½ç½®ï¼Œä½¿ç”¨çš„ä¹Ÿæ˜¯å®½åº¦å’Œé•¿åº¦çš„å æ¯”ã€‚</p><p>å› æ­¤å¦‚æœæˆ‘ä»¬æ”¹å˜äº†è½´çš„æœ€å¤§é•¿åº¦ï¼Œåªæœ‰transDataåæ ‡ä¼šæ”¶åˆ°å½±å“ï¼Œå…¶ä»–ä¸¤ä¸ªè¿˜æ˜¯ä¿æŒåœ¨ç›¸åŒä½ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ax.set_xlim(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">ax.set_ylim(<span class="number">-6</span>, <span class="number">6</span>)</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224507.png" alt=""></p><p>è¿™ä¸ªå˜åŒ–å¯ä»¥é€šè¿‡åŠ¨æ€æ”¹å˜è½´çš„æœ€å¤§é•¿åº¦çœ‹çš„æ›´åŠ æ¸…æ¥šï¼šå¦‚æœä½ åœ¨ notebook æ‰§è¡Œè¿™æ®µä»£ç ï¼Œä½ å¯ä»¥å°†%matplotlib inlineæ”¹ä¸º%matplotlib notebookï¼Œç„¶åä½¿ç”¨å›¾è¡¨çš„èœå•æ¥äº¤äº’å¼çš„æ”¹å˜å›¾è¡¨ã€‚</p><h2 id="ç®­å¤´å’Œæ ‡æ³¨"><a href="#ç®­å¤´å’Œæ ‡æ³¨" class="headerlink" title="ç®­å¤´å’Œæ ‡æ³¨"></a><strong>ç®­å¤´å’Œæ ‡æ³¨</strong></h2><p>é™¤äº†åˆ»åº¦æ ‡ç­¾å’Œæ–‡å­—æ ‡ç­¾ï¼Œå¦ä¸€ç§å¸¸ç”¨çš„æ ‡æ³¨æ˜¯ç®­å¤´ã€‚</p><p>åœ¨ Matplotlib ä¸­ç»˜åˆ¶ç®­å¤´é€šå¸¸æ¯”ä½ æƒ³è±¡çš„éš¾å¾—å¤šã€‚è™½ç„¶æœ‰plt.arrow()å‡½æ•°ï¼Œä½œè€…ä¸å»ºè®®ä½¿ç”¨å®ƒï¼šè¿™ä¸ªå‡½æ•°ç»˜åˆ¶çš„ç®­å¤´æ˜¯ä¸€ä¸ª SVG å¯¹è±¡ï¼Œå› æ­¤åœ¨å›¾è¡¨ä½¿ç”¨ä¸åŒçš„æ¯”ä¾‹çš„æƒ…å†µä¼šäº§ç”Ÿé—®é¢˜ï¼Œç»“æœé€šå¸¸ä¸èƒ½è®©ç”¨æˆ·æ»¡æ„ã€‚å› æ­¤ï¼Œä½œè€…å»ºè®®ä½¿ç”¨plt.annotate()å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šç»˜åˆ¶ä¸€äº›æ–‡å­—ä»¥åŠä¸€ä¸ªç®­å¤´ï¼Œå¹¶ä¸”ç®­å¤´å¯ä»¥éå¸¸çµæ´»çš„è¿›è¡Œé…ç½®ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æä¾›ä¸€äº›å‚æ•°æ¥ä½¿ç”¨annotateå‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">20</span>, <span class="number">1000</span>)</span><br><span class="line">ax.plot(x, np.cos(x))</span><br><span class="line">ax.axis(<span class="string">'equal'</span>)</span><br><span class="line"></span><br><span class="line">ax.annotate(<span class="string">'local maximum'</span>, xy=(<span class="number">6.28</span>, <span class="number">1</span>), xytext=(<span class="number">10</span>, <span class="number">4</span>),</span><br><span class="line">            arrowprops=dict(facecolor=<span class="string">'black'</span>, shrink=<span class="number">0.05</span>))</span><br><span class="line"></span><br><span class="line">ax.annotate(<span class="string">'local minimum'</span>, xy=(<span class="number">5</span> * np.pi, <span class="number">-1</span>), xytext=(<span class="number">2</span>, <span class="number">-6</span>),</span><br><span class="line">            arrowprops=dict(arrowstyle=<span class="string">"-&gt;"</span>,</span><br><span class="line">                            connectionstyle=<span class="string">"angle3,angleA=0,angleB=-90"</span>));</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224511.png" alt=""></p><p>ç®­å¤´çš„æ ·å¼æ˜¯ä½¿ç”¨ç®­å¤´å±æ€§å­—å…¸å€¼è¿›è¡Œæ§åˆ¶çš„ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå¯ç”¨çš„å‚æ•°ã€‚è¿™äº›å‚æ•°åœ¨ Matplotlib çš„åœ¨çº¿æ–‡æ¡£ä¸­å·²ç»æœ‰äº†å¾ˆè¯¦ç»†çš„è¯´æ˜ï¼Œå› æ­¤åœ¨è¿™é‡Œå°±ä¸å°†è¿™éƒ¨åˆ†å†…å®¹é‡å¤ä»‹ç»ä¸€éäº†ã€‚æˆ‘ä»¬åœ¨å‰é¢å‡ºç”Ÿç‡å›¾ä¸Šå†ä½¿ç”¨ä¸€äº›å‚æ•°è¿›è¡Œæ›´å¤šçš„è¯´æ˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>, <span class="number">4</span>))</span><br><span class="line">births_by_date.plot(ax=ax)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºå›¾è¡¨æ·»åŠ æ ‡æ³¨</span></span><br><span class="line">ax.annotate(<span class="string">"New Year's Day"</span>, xy=(<span class="string">'2012-1-1'</span>, <span class="number">4100</span>),  xycoords=<span class="string">'data'</span>,</span><br><span class="line">            xytext=(<span class="number">50</span>, <span class="number">-30</span>), textcoords=<span class="string">'offset points'</span>,</span><br><span class="line">            arrowprops=dict(arrowstyle=<span class="string">"-&gt;"</span>,</span><br><span class="line">                            connectionstyle=<span class="string">"arc3,rad=-0.2"</span>))</span><br><span class="line"></span><br><span class="line">ax.annotate(<span class="string">"Independence Day"</span>, xy=(<span class="string">'2012-7-4'</span>, <span class="number">4250</span>),  xycoords=<span class="string">'data'</span>,</span><br><span class="line">            bbox=dict(boxstyle=<span class="string">"round"</span>, fc=<span class="string">"none"</span>, ec=<span class="string">"gray"</span>),</span><br><span class="line">            xytext=(<span class="number">10</span>, <span class="number">-40</span>), textcoords=<span class="string">'offset points'</span>, ha=<span class="string">'center'</span>,</span><br><span class="line">            arrowprops=dict(arrowstyle=<span class="string">"-&gt;"</span>))</span><br><span class="line"></span><br><span class="line">ax.annotate(<span class="string">'Labor Day'</span>, xy=(<span class="string">'2012-9-4'</span>, <span class="number">4850</span>), xycoords=<span class="string">'data'</span>, ha=<span class="string">'center'</span>,</span><br><span class="line">            xytext=(<span class="number">0</span>, <span class="number">-20</span>), textcoords=<span class="string">'offset points'</span>)</span><br><span class="line">ax.annotate(<span class="string">''</span>, xy=(<span class="string">'2012-9-1'</span>, <span class="number">4850</span>), xytext=(<span class="string">'2012-9-7'</span>, <span class="number">4850</span>),</span><br><span class="line">            xycoords=<span class="string">'data'</span>, textcoords=<span class="string">'data'</span>,</span><br><span class="line">            arrowprops=&#123;<span class="string">'arrowstyle'</span>: <span class="string">'|-|,widthA=0.2,widthB=0.2'</span>, &#125;)</span><br><span class="line"></span><br><span class="line">ax.annotate(<span class="string">'Halloween'</span>, xy=(<span class="string">'2012-10-31'</span>, <span class="number">4600</span>),  xycoords=<span class="string">'data'</span>,</span><br><span class="line">            xytext=(<span class="number">-80</span>, <span class="number">-40</span>), textcoords=<span class="string">'offset points'</span>,</span><br><span class="line">            arrowprops=dict(arrowstyle=<span class="string">"fancy"</span>,</span><br><span class="line">                            fc=<span class="string">"0.6"</span>, ec=<span class="string">"none"</span>,</span><br><span class="line">                            connectionstyle=<span class="string">"angle3,angleA=0,angleB=-90"</span>))</span><br><span class="line"></span><br><span class="line">ax.annotate(<span class="string">'Thanksgiving'</span>, xy=(<span class="string">'2012-11-25'</span>, <span class="number">4500</span>),  xycoords=<span class="string">'data'</span>,</span><br><span class="line">            xytext=(<span class="number">-120</span>, <span class="number">-60</span>), textcoords=<span class="string">'offset points'</span>,</span><br><span class="line">            bbox=dict(boxstyle=<span class="string">"round4,pad=.5"</span>, fc=<span class="string">"0.9"</span>),</span><br><span class="line">            arrowprops=dict(arrowstyle=<span class="string">"-&gt;"</span>,</span><br><span class="line">                            connectionstyle=<span class="string">"angle,angleA=0,angleB=80,rad=20"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ax.annotate(<span class="string">'Christmas'</span>, xy=(<span class="string">'2012-12-25'</span>, <span class="number">3850</span>),  xycoords=<span class="string">'data'</span>,</span><br><span class="line">             xytext=(<span class="number">-30</span>, <span class="number">0</span>), textcoords=<span class="string">'offset points'</span>,</span><br><span class="line">             size=<span class="number">13</span>, ha=<span class="string">'right'</span>, va=<span class="string">"center"</span>,</span><br><span class="line">             bbox=dict(boxstyle=<span class="string">"round"</span>, alpha=<span class="number">0.1</span>),</span><br><span class="line">             arrowprops=dict(arrowstyle=<span class="string">"wedge,tail_width=0.5"</span>, alpha=<span class="number">0.1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å›¾è¡¨æ ‡é¢˜å’Œåæ ‡è½´æ ‡è®°</span></span><br><span class="line">ax.set(title=<span class="string">'USA births by day of year (1969-1988)'</span>,</span><br><span class="line">       ylabel=<span class="string">'average daily births'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æœˆä»½åæ ‡å±…ä¸­æ˜¾ç¤º</span></span><br><span class="line">ax.xaxis.set_major_locator(mpl.dates.MonthLocator())</span><br><span class="line">ax.xaxis.set_minor_locator(mpl.dates.MonthLocator(bymonthday=<span class="number">15</span>))</span><br><span class="line">ax.xaxis.set_major_formatter(plt.NullFormatter())</span><br><span class="line">ax.xaxis.set_minor_formatter(mpl.dates.DateFormatter(<span class="string">'%h'</span>));</span><br><span class="line"></span><br><span class="line">ax.set_ylim(<span class="number">3600</span>, <span class="number">5400</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224515.png" alt=""></p><p>ä¸Šå›¾ä¸­ç®­å¤´å’Œæ–‡å­—æ¡†éƒ½éå¸¸è¯¦å°½äº†ï¼šå¯ä»¥çœ‹å‡ºä½ å‡ ä¹å¯ä»¥ä½¿ç”¨plt.annotateåˆ›å»ºä»»ä½•ä½ æƒ³è¦çš„ç®­å¤´æ ·å¼ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ„å‘³ç€è¿™ç§ç‰¹æ€§éƒ½éœ€è¦æ‰‹å·¥è¿›è¡Œè°ƒæ•´ï¼Œå› æ­¤å¦‚æœéœ€è¦è·å¾—å°åˆ·è´¨é‡çš„å›¾åƒï¼Œè¿™å°†æ˜¯ä¸€ä¸ªéå¸¸è€—è´¹æ—¶é—´çš„å·¥ä½œã€‚æœ€åï¼Œå¿…é¡»æŒ‡å‡ºï¼Œä¸Šè¿°è¿™ç§å¤šç§æ ·å¼æ··åˆçš„æ–¹å¼æ¥å±•ç°æ•°æ®è‚¯å®šä¸æ˜¯æœ€ä½³å®è·µï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†å°½å¯èƒ½å¤šçš„ä»‹ç»å¯ç”¨çš„å‚æ•°ã€‚</p><p>æ›´å¤šå…³äº Matplotlib çš„ç®­å¤´å’Œæ ‡æ³¨æ ·å¼çš„è®¨è®ºå’Œä¾‹å­å¯ä»¥è®¿é—® Matplotlib galleryï¼Œç‰¹åˆ«æ˜¯æ ‡æ³¨æ¼”ç¤º[6]ã€‚</p><h1 id="10-è‡ªå®šä¹‰åˆ»åº¦"><a href="#10-è‡ªå®šä¹‰åˆ»åº¦" class="headerlink" title="10.è‡ªå®šä¹‰åˆ»åº¦"></a><strong>10.è‡ªå®šä¹‰åˆ»åº¦</strong></h1><p>Matplotlib é»˜è®¤çš„åˆ»åº¦æ ‡å¿—å’Œæ ¼å¼è¢«è®¾è®¡æˆèƒ½æ»¡è¶³è®¸å¤šé€šç”¨åœºæ™¯çš„éœ€æ±‚ï¼Œä½†æ˜¯ä¸ä¼šæ˜¯æ‰€æœ‰å›¾è¡¨çš„æœ€ä½³é€‰æ‹©ã€‚æœ¬èŠ‚ä¼šä»‹ç»ä¸€äº›è°ƒæ•´åˆ»åº¦ä½ç½®å’Œæ ¼å¼çš„ä¾‹å­æ¥è¯´æ˜è‡ªå®šä¹‰åˆ»åº¦çš„ä½¿ç”¨ã€‚</p><p>åœ¨ä»‹ç»ä¾‹å­ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥åŠ æ·±å¯¹ Matplotlib å›¾è¡¨çš„å¯¹è±¡å±‚æ¬¡çš„ç†è§£ã€‚Matplotlib çš„è®¾è®¡ç›®æ ‡æ˜¯å±•ç¤ºåœ¨å›¾è¡¨ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¡¨è¾¾æˆä¸º Python çš„å¯¹è±¡ï¼šä¾‹å¦‚ï¼Œå›å¿†å‰é¢æˆ‘ä»¬ä»‹ç»è¿‡figureæŒ‡çš„æ˜¯ç”¨æ¥å±•ç¤ºå›¾è¡¨æ‰€æœ‰å†…å®¹çš„æ–¹æ¡†ã€‚æ¯ä¸ª Matplotlib å¯¹è±¡ä¹Ÿè¢«è®¾è®¡ä¸ºå…¶å­å¯¹è±¡çš„ä¸€ä¸ªå®¹å™¨ï¼šä¾‹å¦‚figureå¯¹è±¡ä¸­å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªaxeså¯¹è±¡ï¼Œæ¯ä¸ªaxeså¯¹è±¡éƒ½ä¾æ¬¡åŒ…å«ç€å…¶ä»–ç”¨æ¥å±•ç¤ºå›¾è¡¨çš„å†…å®¹å¯¹è±¡ã€‚</p><p>åˆ»åº¦ä¹Ÿä¸ä¾‹å¤–ã€‚æ¯ä¸ªaxeså¯¹è±¡éƒ½æœ‰ç€å±æ€§xaxiså’Œyaxisï¼Œè¡¨ç¤º x å’Œ y è½´ï¼Œå…¶ä¸­åŒ…å«ç€æ‰€æœ‰çš„å±æ€§ç”¨æ¥æŒ‡ä»£è½´çš„çº¿ã€åˆ»åº¦å’Œæ ‡ç­¾ã€‚</p><h2 id="ä¸»è¦çš„å’Œæ¬¡è¦çš„åˆ»åº¦"><a href="#ä¸»è¦çš„å’Œæ¬¡è¦çš„åˆ»åº¦" class="headerlink" title="ä¸»è¦çš„å’Œæ¬¡è¦çš„åˆ»åº¦"></a><strong>ä¸»è¦çš„å’Œæ¬¡è¦çš„åˆ»åº¦</strong></h2><p>åœ¨æ¯ä¸ªåæ ‡è½´ä¸Šï¼Œéƒ½æœ‰ä¸»è¦çš„åˆ»åº¦å’Œæ¬¡è¦çš„åˆ»åº¦æ¦‚å¿µã€‚æ­£å¦‚åå­—æŒ‡ä»£çš„ï¼Œä¸»è¦åˆ»åº¦é€šå¸¸æ˜¯å¤§çš„å’Œæ›´å¤šç”¨åˆ°çš„ï¼Œè€Œæ¬¡è¦åˆ»åº¦é€šå¸¸æ˜¯å°çš„ã€‚é»˜è®¤ Matplotlib å¾ˆå°‘ä½¿ç”¨æ¬¡è¦åˆ»åº¦ï¼Œä½†æ˜¯åœ¨å¯¹æ•°å›¾è¡¨ä¸­æˆ‘ä»¬å¯èƒ½ä¼šçœ‹åˆ°å®ƒä»¬ï¼š</p><p>åœ¨ Matplotlib 2.0 ä¹‹åï¼Œå½“ axis çš„è·¨åº¦è¿‡å¤§æ—¶ï¼Œé»˜è®¤æ¬¡è¦åˆ»åº¦å°†ä¼šä¸å†å±•ç¤ºï¼Œå› æ­¤ï¼Œä¸‹é¢çš„ä»£ç ç»è¿‡äº†ä¿®æ”¹ï¼ŒåŠ ä¸Šäº† xlim å’Œ ylim å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">'classic'</span>)</span><br><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">ax = plt.axes(xscale=<span class="string">'log'</span>, yscale=<span class="string">'log'</span>, xlim=[<span class="number">10e-5</span>, <span class="number">10e5</span>], ylim=[<span class="number">10e-5</span>, <span class="number">10e5</span>])</span><br><span class="line">ax.grid();</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224519.png" alt=""></p><p>æˆ‘ä»¬çœ‹åˆ°æ¯ä¸ªä¸»è¦åˆ»åº¦æ˜¾ç¤ºäº†ä¸€ä¸ªå¤§çš„æ ‡å¿—å’Œæ ‡ç­¾ï¼Œè€Œæ¯ä¸ªæ¬¡è¦åˆ»åº¦æ˜¾ç¤ºäº†ä¸€ä¸ªå°çš„åˆ»åº¦æ ‡å¿—æ²¡æœ‰æ ‡ç­¾ã€‚</p><p>è¿™äº›åˆ»åº¦å±æ€§ï¼Œä½ç½®å’Œæ ‡ç­¾ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æ¯ä¸ªè½´çš„formatterå’Œlocatorå¯¹è±¡è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚ä¸‹é¢æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸€ä¸‹ x è½´çš„ç›¸åº”å¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(ax.xaxis.get_major_locator())</span><br><span class="line">print(ax.xaxis.get_minor_locator())</span><br></pre></td></tr></table></figure><p><matplotlib.ticker.LogLocator object at 0x000001E8074AF108></p><matplotlib.ticker.LogLocator object at 0x000001E8074AD908><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(ax.xaxis.get_major_formatter())</span><br><span class="line">print(ax.xaxis.get_minor_formatter())</span><br></pre></td></tr></table></figure><p><matplotlib.ticker.LogFormatterSciNotation object at 0x000001E8074AEB88></p><matplotlib.ticker.LogFormatterSciNotation object at 0x000001E8074ADB48><p><matplotlib.ticker.LogFormatterSciNotation object at 0x000001E8074AEB88></p><matplotlib.ticker.LogFormatterSciNotation object at 0x000001E8074ADB48><p>æˆ‘ä»¬çœ‹åˆ°ä¸»è¦å’Œæ¬¡è¦åˆ»åº¦çš„ä½ç½®éƒ½æ˜¯ä½¿ç”¨LogLocatoræ¥è®¾ç½®çš„ï¼ˆå¯¹äºå¯¹æ•°å›¾è¡¨æ¥è¯´é‚£æ˜¯ç†æ‰€å½“ç„¶çš„ï¼‰ã€‚ç„¶è€Œæ¬¡è¦åˆ»åº¦çš„æ ‡ç­¾çš„æ ¼å¼æ˜¯NullFormatterï¼šè¿™è¡¨ç¤ºæ¬¡è¦åˆ»åº¦ä¸ä¼šæ˜¾ç¤ºæ ‡ç­¾ã€‚</p><p>è¯‘è€…æ³¨ï¼šæ–°ç‰ˆ Matplotlib å·²ç»ä¿®æ”¹ï¼Œå¯ä»¥çœ‹åˆ° Formatter éƒ½ç»Ÿä¸€æˆä¸ºäº† LogFormatterSciNotationï¼Œå†æ ¹æ®å›¾è¡¨å®é™…æƒ…å†µé€‰æ‹©æ˜¯å¦å±•ç¤ºæ ‡ç­¾ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä»‹ç»ä¸€äº›è®¾ç½®è¿™äº› locator å’Œ formatter çš„ä¾‹å­äº†ã€‚</p><h2 id="éšè—åˆ»åº¦å’Œæ ‡ç­¾"><a href="#éšè—åˆ»åº¦å’Œæ ‡ç­¾" class="headerlink" title="éšè—åˆ»åº¦å’Œæ ‡ç­¾"></a><strong>éšè—åˆ»åº¦å’Œæ ‡ç­¾</strong></h2><p>ä¹Ÿè®¸æœ€å¸¸è§çš„åˆ»åº¦/æ ‡ç­¾æ ¼å¼è®¾ç½®çš„æ“ä½œæ˜¯éšè—åˆ»åº¦æˆ–æ ‡ç­¾ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨plt.NullLocator()å’Œplt.NullFormatter()æ¥è®¾ç½®ï¼Œå¦‚ä¸‹ä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ax &#x3D; plt.axes()</span><br><span class="line">ax.plot(np.random.rand(50))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_major_locator(plt.NullLocator())</span><br><span class="line">ax.xaxis.set_major_formatter(plt.NullFormatter())</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224522.png" alt=""></p><p>æ³¨æ„ä¸Šå›¾ä¸­æˆ‘ä»¬å»é™¤äº† x è½´çš„æ ‡ç­¾ï¼ˆä½†æ˜¯ä¿ç•™äº†åˆ»åº¦æˆ–ç½‘æ ¼çº¿ï¼‰ï¼Œy è½´çš„åˆ»åº¦å’Œæ ‡ç­¾éƒ½è¢«å»é™¤äº†ã€‚å›¾è¡¨ä¸­æ²¡æœ‰åˆ»åº¦å’Œæ ‡ç­¾åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå½“ä½ å¸Œæœ›å±•ç¤ºä¸€ä¸ªå›¾åƒçš„ç½‘æ ¼ã€‚æ¯”æ–¹è¯´ï¼Œè€ƒè™‘ä¸‹é¢çš„å›¾è¡¨ï¼ŒåŒ…å«ç€ä¸åŒçš„å¤´åƒï¼Œä¸€ä¸ªå¾ˆå¸¸è§çš„ç›‘ç£æœºå™¨å­¦ä¹ é—®é¢˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(<span class="number">5</span>, <span class="number">5</span>, figsize=(<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line">fig.subplots_adjust(hspace=<span class="number">0</span>, wspace=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»scikit-learnè½½å…¥å¤´åƒæ•°æ®é›†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> fetch_olivetti_faces</span><br><span class="line">faces = fetch_olivetti_faces().images</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        ax[i, j].xaxis.set_major_locator(plt.NullLocator())</span><br><span class="line">        ax[i, j].yaxis.set_major_locator(plt.NullLocator())</span><br><span class="line">        ax[i, j].imshow(faces[<span class="number">10</span> * i + j], cmap=<span class="string">"bone"</span>)</span><br></pre></td></tr></table></figure><p>downloading Olivetti faces from<br><a href="https://ndownloader.figshare.com/files/5976027" target="_blank" rel="noopener">https://ndownloader.figshare.com/files/5976027</a><br>to C:\Users\gdc\scikit_learn_data</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224526.png" alt=""></p><p>æ³¨æ„ä¸Šå›¾ä¸­æ¯å¼ å›¾åƒéƒ½æœ‰å®ƒè‡ªå·±çš„ axesï¼Œæˆ‘ä»¬å°†æ¯ä¸€ä¸ª axes çš„ locator éƒ½è®¾ç½®ä¸º null å› ä¸ºè¿™äº›åˆ»åº¦å€¼ï¼ˆåƒç´ å€¼ï¼‰åœ¨è¿™é‡Œå¹¶æ²¡æœ‰ä»»ä½•å®é™…æ„ä¹‰ã€‚</p><h2 id="å‡å°‘æˆ–å¢åŠ åˆ»åº¦çš„æ•°é‡"><a href="#å‡å°‘æˆ–å¢åŠ åˆ»åº¦çš„æ•°é‡" class="headerlink" title="å‡å°‘æˆ–å¢åŠ åˆ»åº¦çš„æ•°é‡"></a><strong>å‡å°‘æˆ–å¢åŠ åˆ»åº¦çš„æ•°é‡</strong></h2><p>é»˜è®¤è®¾ç½®çš„ä¸€ä¸ªå¸¸è§é—®é¢˜æ˜¯å½“å­å›¾è¡¨è¾ƒå°æ—¶ï¼Œåˆ»åº¦æ ‡ç­¾å¯èƒ½ä¼šç²˜åœ¨ä¸€èµ·ã€‚æˆ‘ä»¬å¯ä»¥ä»ä¸‹é¢ä¾‹å­çœ‹åˆ°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(<span class="number">4</span>, <span class="number">4</span>, sharex=<span class="literal">True</span>, sharey=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224529.png" alt=""></p><p>ç‰¹åˆ«æ˜¯ x è½´ï¼Œæ ‡ç­¾çš„æ•°å­—å°±å¿«é‡å åœ¨ä¸€èµ·äº†ï¼Œè¿™è®©è¿™äº›æ ‡ç­¾éš¾ä»¥è®¤æ¸…ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡plt.MaxNLocator()æ¥ä¿®æ­£è¿™ç‚¹ï¼Œç”¨å®ƒå¯ä»¥è®¾ç½®æœ€å¤§å±•ç¤ºåˆ»åº¦çš„æ•°é‡ã€‚Matplotlib ä¼šè‡ªå·±è®¡ç®—æŒ‰ç…§è¿™ä¸ªæœ€å¤§æ•°é‡è®¡ç®—çš„åˆ»åº¦ä½ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹xå’Œyè½´è®¾ç½®åˆ»åº¦æœ€å¤§æ•°é‡</span></span><br><span class="line"><span class="keyword">for</span> axi <span class="keyword">in</span> ax.flat:</span><br><span class="line">    axi.xaxis.set_major_locator(plt.MaxNLocator(<span class="number">3</span>))</span><br><span class="line">    axi.yaxis.set_major_locator(plt.MaxNLocator(<span class="number">3</span>))</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224532.png" alt=""></p><p>ä¸Šå›¾å°±æ¸…æ™°å¤šäº†ã€‚å¦‚æœä½ å¸Œæœ›å¯¹äºåˆ»åº¦ä½ç½®è¿›è¡Œæ›´åŠ ç²¾ç»†çš„æ§åˆ¶ï¼Œä½ å¯ä»¥ä½¿ç”¨plt.MultipleLocatorï¼Œæˆ‘ä»¬ä¼šæ¥ä¸‹æ¥è®¨è®ºè¿™ä¸ªå¯¹è±¡ã€‚</p><h2 id="å¤æ‚çš„åˆ»åº¦æ ¼å¼"><a href="#å¤æ‚çš„åˆ»åº¦æ ¼å¼" class="headerlink" title="å¤æ‚çš„åˆ»åº¦æ ¼å¼"></a><strong>å¤æ‚çš„åˆ»åº¦æ ¼å¼</strong></h2><p>Matplotlib çš„é»˜è®¤åˆ»åº¦æ ¼å¼åªèƒ½åœ¨å¾ˆå¤šå¸¸è§æƒ…å†µä¸‹å·¥ä½œè‰¯å¥½ï¼Œä½†æ˜¯åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä½ ä¼šå¸Œæœ›èƒ½å¤Ÿæ›´å¤šçš„è¿›è¡Œä¸ªæ€§åŒ–ã€‚è€ƒè™‘ä¸‹é¢çš„æ­£å¼¦å’Œä½™å¼¦å›¾è¡¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»˜åˆ¶æ­£å¼¦å’Œä½™å¼¦å›¾è¡¨</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">3</span> * np.pi, <span class="number">1000</span>)</span><br><span class="line">ax.plot(x, np.sin(x), lw=<span class="number">3</span>, label=<span class="string">'Sine'</span>)</span><br><span class="line">ax.plot(x, np.cos(x), lw=<span class="number">3</span>, label=<span class="string">'Cosine'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç½‘æ ¼ã€å›¾ä¾‹å’Œè½´æé™</span></span><br><span class="line">ax.grid(<span class="literal">True</span>)</span><br><span class="line">ax.legend(frameon=<span class="literal">False</span>)</span><br><span class="line">ax.axis(<span class="string">'equal'</span>)</span><br><span class="line">ax.set_xlim(<span class="number">0</span>, <span class="number">3</span> * np.pi);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224535.png" alt=""></p><p>è¿™é‡Œæœ‰å‡ ä¸ªæˆ‘ä»¬å¸Œæœ›è¿›è¡Œçš„æ”¹å˜ã€‚é¦–å…ˆï¼Œå¦‚æœåˆ»åº¦çš„é—´è·å’Œç½‘æ ¼çº¿æ˜¯  çš„å€æ•°ä¼šæ˜¾å¾—æ›´åŠ è‡ªç„¶ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡MultipleLocatoræ¥è®¾ç½®å®ƒï¼Œè¿™ä¸ªå¯¹è±¡ç”¨æ¥è®¾ç½®åˆ»åº¦çš„é…ç½®ã€‚ä¸ºäº†æ›´ç›´è§‚ï¼Œæˆ‘ä»¬è®¾ç½®ä¸»è¦åˆ»åº¦ä¸º  ä½ç½®ï¼Œè®¾ç½®æ¬¡è¦åˆ»åº¦ä¸º  ä½ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ax.xaxis.set_major_locator(plt.MultipleLocator(np.pi / <span class="number">2</span>))</span><br><span class="line">ax.xaxis.set_minor_locator(plt.MultipleLocator(np.pi / <span class="number">4</span>))</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224538.png" alt=""></p><p>ä½†æ˜¯ä¸Šå›¾çœ‹èµ·æ¥æœ‰ç‚¹å‚»ï¼šæˆ‘ä»¬å¯ä»¥çœ‹å‡ºåˆ»åº¦ç¡®å®æ˜¯  çš„å€æ•°ï¼Œä½†æ˜¯ä½¿ç”¨äº†å°æ•°çš„å±•ç¤ºè®©å®ƒä»¬çœ‹èµ·æ¥å¾ˆå¥‡æ€ªã€‚è¦ä¿®æ­£è¿™äº›æ ‡ç­¾ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹åˆ»åº¦çš„ formatterã€‚åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œæ²¡æœ‰å…§å»ºçš„ formatter å¯ä»¥ç»™æˆ‘ä»¬ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨<code>plt.FuncFormatter</code>ï¼Œè¿™ä¸ªå¯¹è±¡èƒ½å¤Ÿæ¥å—ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°æ¥æä¾›å¯¹äºåˆ»åº¦æ ‡ç­¾çš„ç²¾ç»†æ§åˆ¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">format_func</span><span class="params">(value, tick_number)</span>:</span></span><br><span class="line">    <span class="comment"># Næ˜¯pi/2çš„å€æ•°</span></span><br><span class="line">    N = int(np.round(<span class="number">2</span> * value / np.pi))</span><br><span class="line">    <span class="keyword">if</span> N == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span> <span class="comment"># 0ç‚¹</span></span><br><span class="line">    <span class="keyword">elif</span> N == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">r"$\frac&#123;\pi&#125;&#123;2&#125;$"</span> <span class="comment"># pi/2</span></span><br><span class="line">    <span class="keyword">elif</span> N == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">r"$\pi$"</span> <span class="comment"># pi</span></span><br><span class="line">    <span class="keyword">elif</span> N % <span class="number">2</span> &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">r"$\frac&#123;&#123;%d&#125;\pi&#125;&#123;2&#125;$"</span> %N <span class="comment"># n*pi/2 næ˜¯å¥‡æ•°</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">r"$&#123;0&#125;\pi$"</span>.format(N // <span class="number">2</span>) <span class="comment"># n*pi næ˜¯æ•´æ•°</span></span><br><span class="line"></span><br><span class="line">ax.xaxis.set_major_formatter(plt.FuncFormatter(format_func))</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224541.png" alt=""></p><p>ä¸Šå›¾çœ‹èµ·æ¥å¥½å¤šäº†ã€‚æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨åˆ°äº† Matplotlib çš„ LaTeX æ”¯æŒï¼Œä½¿ç”¨ç¾å…ƒç¬¦å·å°† LaTeX å­—ç¬¦ä¸²æ‹¬èµ·æ¥ã€‚è¿™æ˜¯ç”¨æ¥å±•ç¤ºæ•°å­¦ç¬¦å·å’Œå…¬å¼çš„ç®€ä¾¿æ–¹æ³•ï¼šåœ¨è¿™ä¸ªä¾‹å­ä¸­â€$\pi$â€è¢«æ¸²æŸ“æˆå¸Œè…Šå­—æ¯ ã€‚</p><p>plt.FuncFomatter()æä¾›äº†å¯¹äºå›¾è¡¨åˆ»åº¦æœ€é«˜çº§çš„è‡ªå®šä¹‰å’Œç²¾ç»†æ§åˆ¶ï¼Œå¹¶ä¸”å½“ä½ éœ€è¦åˆ›å»ºéœ€è¦å°åˆ·æˆ–å‡ºç‰ˆçš„å›¾è¡¨æ—¶éå¸¸æ–¹ä¾¿ã€‚</p><h2 id="Formatter-å’Œ-Locator-æ€»ç»“"><a href="#Formatter-å’Œ-Locator-æ€»ç»“" class="headerlink" title="Formatter å’Œ Locator æ€»ç»“"></a><strong>Formatter å’Œ Locator æ€»ç»“</strong></h2><p>æˆ‘ä»¬å·²ç»ä»‹ç»äº†ä¸€äº› formatter å’Œ locatorã€‚åœ¨æœ€åæˆ‘ä»¬é€šè¿‡å°†å…§å»ºçš„ locator å’Œ formatter å‚æ•°åˆ—å‡ºæ¥å¯¹æœ¬èŠ‚åšä¸€ä¸ªæ€»ç»“ã€‚è¦è·å¾—æ›´å¤šç›¸å…³å†…å®¹ï¼Œè¯·å‚é˜…æ–‡æ¡£æˆ– Matplotlib çš„åœ¨çº¿æ–‡æ¡£ã€‚ä¸‹è¡¨ä¸­åˆ—å‡ºçš„å¯¹è±¡åœ¨pltå‘½åç©ºé—´ä¸­éƒ½æ˜¯æœ‰æ•ˆçš„ï¼š</p><div class="table-container"><table><thead><tr><th style="text-align:left">Locator å¯¹è±¡</th><th style="text-align:left">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left"><code>NullLocator</code></td><td style="text-align:left">æ— åˆ»åº¦</td></tr><tr><td style="text-align:left"><code>FixedLocator</code></td><td style="text-align:left">å›ºå®šåˆ»åº¦ä½ç½®</td></tr><tr><td style="text-align:left"><code>IndexLocator</code></td><td style="text-align:left">åºå·å›¾è¡¨åˆ»åº¦ (ä¾‹å¦‚ x = range(len(y)))</td></tr><tr><td style="text-align:left"><code>LinearLocator</code></td><td style="text-align:left">ä»æœ€å°åˆ°æœ€å¤§å€¼çš„å‡åŒ€åˆ†å‰²åˆ»åº¦</td></tr><tr><td style="text-align:left"><code>LogLocator</code></td><td style="text-align:left">ä»æœ€å°åˆ°æœ€å¤§å€¼çš„å¯¹æ•°åˆ†å‰²åˆ»åº¦</td></tr><tr><td style="text-align:left"><code>MultipleLocator</code></td><td style="text-align:left">æŸä¸ªåŸºæ•°çš„å€æ•°åˆ»åº¦</td></tr><tr><td style="text-align:left"><code>MaxNLocator</code></td><td style="text-align:left">åˆ»åº¦æ•°é‡æœ€å¤§å€¼</td></tr><tr><td style="text-align:left"><code>AutoLocator</code></td><td style="text-align:left">é»˜è®¤çš„åˆ»åº¦æ•°é‡æœ€å¤§å€¼</td></tr><tr><td style="text-align:left"><code>AutoMinorLocator</code></td><td style="text-align:left">é»˜è®¤çš„æ¬¡è¦åˆ»åº¦</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th style="text-align:left">Formatter å¯¹è±¡</th><th style="text-align:left">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left"><code>NullFormatter</code></td><td style="text-align:left">æ— æ ‡ç­¾</td></tr><tr><td style="text-align:left"><code>IndexFormatter</code></td><td style="text-align:left">ä»ä¸€ä¸ªåˆ—è¡¨è·å¾—æ ‡ç­¾</td></tr><tr><td style="text-align:left"><code>FixedFormatter</code></td><td style="text-align:left">ä»å›ºå®šçš„å­—ç¬¦ä¸²è®¾ç½®æ ‡ç­¾</td></tr><tr><td style="text-align:left"><code>FuncFormatter</code></td><td style="text-align:left">ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°è®¾ç½®æ ‡ç­¾</td></tr><tr><td style="text-align:left"><code>FormatStrFormatter</code></td><td style="text-align:left">ä½¿ç”¨ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²è®¾ç½®æ ‡ç­¾</td></tr><tr><td style="text-align:left"><code>ScalarFormatter</code></td><td style="text-align:left">é»˜è®¤çš„æ ‡é‡æ ‡ç­¾</td></tr><tr><td style="text-align:left"><code>LogFormatter</code></td><td style="text-align:left">é»˜è®¤çš„å¯¹æ•°æ ‡ç­¾</td></tr></tbody></table></div><h1 id="11-åœ¨-matplotlib-ä¸­åˆ›å»ºä¸‰ç»´å›¾è¡¨"><a href="#11-åœ¨-matplotlib-ä¸­åˆ›å»ºä¸‰ç»´å›¾è¡¨" class="headerlink" title="11.åœ¨ matplotlib ä¸­åˆ›å»ºä¸‰ç»´å›¾è¡¨"></a><strong>11.åœ¨ matplotlib ä¸­åˆ›å»ºä¸‰ç»´å›¾è¡¨</strong></h1><p>Matplotlib æœ€å¼€å§‹è¢«è®¾è®¡ä¸ºä»…æ”¯æŒäºŒç»´çš„å›¾è¡¨ã€‚åˆ° 1.0 ç‰ˆæœ¬å‘å¸ƒå·¦å³ï¼Œä¸€äº›ä¸‰ç»´å›¾è¡¨çš„å·¥å…·åœ¨äºŒç»´å±•ç¤ºçš„åŸºç¡€ä¸Šè¢«åˆ›å»ºäº†å‡ºæ¥ï¼Œç»“æœå°±æ˜¯ Matplotlib æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„ï¼ˆåŒæ—¶ä¹Ÿæ˜¯æœ‰é™çš„ï¼‰çš„å¯ç”¨äºä¸‰ç»´æ•°æ®å¯è§†åŒ–çš„ä¸€å¥—å·¥å…·ã€‚ä¸‰ç»´å›¾è¡¨å¯ä»¥ä½¿ç”¨è½½å…¥mplot3då·¥å…·åŒ…æ¥æ¿€æ´»ï¼Œè¿™ä¸ªåŒ…ä¼šéšç€ Matplotlib è‡ªåŠ¨å®‰è£…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits <span class="keyword">import</span> mplot3d</span><br></pre></td></tr></table></figure><p>ä¸€æ—¦æ¨¡å—è¢«å¯¼å…¥ï¼Œä¸‰ç»´ axes å°±å¯ä»¥åƒå…¶ä»–æ™®é€š axes ä¸€æ ·é€šè¿‡å…³é”®å­—å‚æ•°projection=â€™3dâ€™æ¥åˆ›å»ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224547.png" alt=""></p><p>ä¸‰ç»´ axes æ¿€æ´»åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢ç»˜åˆ¶ä¸åŒçš„ä¸‰ç»´å›¾è¡¨ç±»å‹ã€‚ä¸‰ç»´å›¾è¡¨åœ¨ notebook ä¸­ä½¿ç”¨äº¤äº’å¼å›¾è¡¨å±•ç¤ºä¼šä¼˜äºä½¿ç”¨é™æ€å±•ç¤ºï¼›å›å¿†æˆ‘ä»¬å‰é¢ä»‹ç»è¿‡ï¼Œä½ å¯ä»¥ä½¿ç”¨%matplotlib notebookè€Œä¸æ˜¯%matplotlib inlineæ¥æ¿€æ´»äº¤äº’å¼å±•ç¤ºæ¨¡å¼ã€‚</p><h2 id="ä¸‰ç»´çš„ç‚¹å’Œçº¿"><a href="#ä¸‰ç»´çš„ç‚¹å’Œçº¿" class="headerlink" title="ä¸‰ç»´çš„ç‚¹å’Œçº¿"></a><strong>ä¸‰ç»´çš„ç‚¹å’Œçº¿</strong></h2><p>ä¸‰ç»´å›¾è¡¨ä¸­æœ€åŸºç¡€çš„æ˜¯ä½¿ç”¨(x, y, z)åæ ‡å®šä¹‰çš„ä¸€æ ¹çº¿æˆ–æ•£ç‚¹çš„é›†åˆã€‚å‰é¢ä»‹ç»è¿‡æ™®é€šçš„äºŒç»´å›¾è¡¨ï¼Œä½œä¸ºç±»æ¯”ï¼Œä½¿ç”¨ax.plot3Då’Œax.scatter3Då‡½æ•°å¯ä»¥åˆ›å»ºä¸‰ç»´æŠ˜çº¿å’Œæ•£ç‚¹å›¾ã€‚è¿™ä¸¤ä¸ªå‡½æ•°çš„ç­¾åä¸äºŒç»´çš„ç‰ˆæœ¬åŸºæœ¬ä¸€è‡´ï¼Œä½ å¯ä»¥å‚è€ƒ[ç®€å•æŠ˜çº¿å›¾]å’Œ[ç®€å•æ•£ç‚¹å›¾]æ¥å¤ä¹ ä¸€ä¸‹è¿™éƒ¨åˆ†çš„å†…å®¹ã€‚ä¸‹é¢æˆ‘ä»¬ç»˜åˆ¶ä¸€ä¸ªä¸‰ç»´ä¸­çš„ä¸‰è§’èºæ—‹ï¼Œåœ¨çº¿çš„é™„è¿‘åœ¨ç»˜åˆ¶ä¸€äº›éšæœºçš„ç‚¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‰ç»´èºæ—‹çº¿çš„æ•°æ®</span></span><br><span class="line">zline = np.linspace(<span class="number">0</span>, <span class="number">15</span>, <span class="number">1000</span>)</span><br><span class="line">xline = np.sin(zline)</span><br><span class="line">yline = np.cos(zline)</span><br><span class="line">ax.plot3D(xline, yline, zline, <span class="string">'gray'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‰ç»´æ•£ç‚¹çš„æ•°æ®</span></span><br><span class="line">zdata = <span class="number">15</span> * np.random.random(<span class="number">100</span>)</span><br><span class="line">xdata = np.sin(zdata) + <span class="number">0.1</span> * np.random.randn(<span class="number">100</span>)</span><br><span class="line">ydata = np.cos(zdata) + <span class="number">0.1</span> * np.random.randn(<span class="number">100</span>)</span><br><span class="line">ax.scatter3D(xdata, ydata, zdata, c=zdata, cmap=<span class="string">'Greens'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224555.png" alt=""></p><p>æ³¨æ„é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾ä¸­çš„æ•£ç‚¹ä¼šæœ‰é€æ˜åº¦çš„åŒºåˆ«ï¼Œç”¨äºä½“ç°åœ¨å›¾ä¸­æ•£ç‚¹çš„æ·±åº¦ã€‚è™½ç„¶ä¸‰ç»´æ•ˆæœåœ¨é™æ€å›¾åƒä¸­éš¾ä»¥æ˜¾ç¤ºï¼Œä½ å¯ä»¥ä½¿ç”¨äº¤äº’å¼çš„è§†å›¾æ¥è·å¾—æ›´ä½³çš„ä¸‰ç»´ç›´è§‚æ•ˆæœã€‚</p><h2 id="ä¸‰ç»´è½®å»“å›¾"><a href="#ä¸‰ç»´è½®å»“å›¾" class="headerlink" title="ä¸‰ç»´è½®å»“å›¾"></a><strong>ä¸‰ç»´è½®å»“å›¾</strong></h2><p>ç±»ä¼¼äºæˆ‘ä»¬åœ¨[å¯†åº¦å’Œè½®å»“å›¾]ä¸­ä»‹ç»çš„å†…å®¹ï¼Œmplot3dä¹ŸåŒ…å«ç€èƒ½å¤Ÿåˆ›å»ºä¸‰ç»´æµ®é›•å›¾åƒçš„å·¥å…·ã€‚å°±åƒäºŒç»´çš„ax.contourå›¾è¡¨ï¼Œax.contour3Dè¦æ±‚è¾“å…¥æ•°æ®çš„æ ¼å¼æ˜¯äºŒç»´æ™®é€šç½‘æ ¼ä¸Šè®¡ç®—å¾—åˆ°çš„ Z è½´çš„æ•°æ®å€¼ã€‚ä¸‹é¢æˆ‘ä»¬å±•ç¤ºä¸€ä¸ªä¸‰ç»´çš„æ­£å¼¦å‡½æ•°è½®å»“å›¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> np.sin(np.sqrt(x ** <span class="number">2</span> + y ** <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-6</span>, <span class="number">6</span>, <span class="number">30</span>)</span><br><span class="line">y = np.linspace(<span class="number">-6</span>, <span class="number">6</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line">Z = f(X, Y)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line">ax.contour3D(X, Y, Z, <span class="number">50</span>, cmap=<span class="string">'binary'</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">'x'</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">'y'</span>)</span><br><span class="line">ax.set_zlabel(<span class="string">'z'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224600.png" alt=""></p><p>æœ‰æ—¶å€™é»˜è®¤çš„è§†è§’è§’åº¦ä¸æ˜¯æœ€ç†æƒ³çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨view_initå‡½æ•°æ¥è®¾ç½®æ°´å¹³è§’å’Œæ–¹ä½è§’ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ 60Â° çš„æ°´å¹³è§’ï¼ˆå³ä»¥ 60Â° ä¿¯è§† x-y å¹³é¢ï¼‰å’Œ 35Â° çš„æ–¹ä½è§’ï¼ˆå³å°† z è½´é€†æ—¶é’ˆæ—‹è½¬ 35Â°ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax.view_init(<span class="number">60</span>, <span class="number">35</span>)</span><br><span class="line">fig</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224603.png" alt=""></p><p>åŒæ ·ï¼Œæ³¨æ„åˆ°å½“ä½¿ç”¨ Matplotlib äº¤äº’å¼å±•ç¤ºæ—¶ï¼Œè¿™æ ·çš„æ—‹è½¬å¯ä»¥é€šè¿‡é¼ æ ‡ç‚¹å‡»å’Œæ‹–æ‹½æ¥å®ç°ã€‚</p><h2 id="æ¡†çº¿å›¾å’Œè¡¨é¢å›¾"><a href="#æ¡†çº¿å›¾å’Œè¡¨é¢å›¾" class="headerlink" title="æ¡†çº¿å›¾å’Œè¡¨é¢å›¾"></a><strong>æ¡†çº¿å›¾å’Œè¡¨é¢å›¾</strong></h2><p>ä½¿ç”¨ç½‘æ ¼æ•°æ®ç”Ÿæˆçš„ä¸‰ç»´å›¾è¡¨è¿˜æœ‰æ¡†çº¿å›¾å’Œè¡¨é¢å›¾ã€‚è¿™ä¸¤ç§å›¾è¡¨å°†ç½‘æ ¼æ•°æ®æŠ•å°„åˆ°ç‰¹å®šçš„ä¸‰ç»´è¡¨é¢ï¼Œèƒ½å¤Ÿä½¿å¾—ç»“æœå›¾åƒéå¸¸ç›´è§‚å’Œå…·æœ‰è¯´æœåŠ›ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ¡†çº¿å›¾çš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line">ax.plot_wireframe(X, Y, Z, color=<span class="string">'black'</span>)</span><br><span class="line">ax.set_title(<span class="string">'wireframe'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224606.png" alt=""></p><p>è¡¨é¢å›¾ç±»ä¼¼æ¡†çº¿å›¾ï¼ŒåŒºåˆ«åœ¨äºæ¯ä¸ªæ¡†çº¿æ„æˆçš„å¤šè¾¹å½¢éƒ½ä½¿ç”¨é¢œè‰²è¿›è¡Œäº†å¡«å……ã€‚æ·»åŠ è‰²å›¾ç”¨äºå¡«å……å¤šè¾¹å½¢èƒ½å¤Ÿè®©å›¾å½¢è¡¨é¢å±•ç¤ºå‡ºæ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line">ax.plot_surface(X, Y, Z, rstride=<span class="number">1</span>, cstride=<span class="number">1</span>,</span><br><span class="line">                cmap=<span class="string">'viridis'</span>, edgecolor=<span class="string">'none'</span>)</span><br><span class="line">ax.set_title(<span class="string">'surface'</span>);</span><br></pre></td></tr></table></figure><p>æ³¨æ„è™½<img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224611.png" alt="">ç„¶æ¯ä¸ªé¢œè‰²å¡«å……çš„è¡¨é¢éƒ½æ˜¯äºŒç»´çš„ï¼Œä½†æ˜¯è¡¨é¢çš„è¾¹ç¼˜ä¸éœ€è¦æ˜¯ç›´çº¿æ„æˆçš„ã€‚ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨surface3Dç»˜åˆ¶äº†ä¸€ä¸ªéƒ¨åˆ†æåæ ‡ç½‘æ ¼ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬åˆ‡å…¥åˆ°å‡½æ•°å†…éƒ¨è§‚å¯Ÿæ•ˆæœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">r = np.linspace(<span class="number">0</span>, <span class="number">6</span>, <span class="number">20</span>)</span><br><span class="line">theta = np.linspace(<span class="number">-0.9</span> * np.pi, <span class="number">0.8</span> * np.pi, <span class="number">40</span>)</span><br><span class="line">r, theta = np.meshgrid(r, theta)</span><br><span class="line"></span><br><span class="line">X = r * np.sin(theta)</span><br><span class="line">Y = r * np.cos(theta)</span><br><span class="line">Z = f(X, Y)</span><br><span class="line"></span><br><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line">ax.plot_surface(X, Y, Z, rstride=<span class="number">1</span>, cstride=<span class="number">1</span>,</span><br><span class="line">                cmap=<span class="string">'viridis'</span>, edgecolor=<span class="string">'none'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224615.png" alt=""></p><h2 id="è¡¨é¢ä¸‰è§’å‰–åˆ†"><a href="#è¡¨é¢ä¸‰è§’å‰–åˆ†" class="headerlink" title="è¡¨é¢ä¸‰è§’å‰–åˆ†"></a><strong>è¡¨é¢ä¸‰è§’å‰–åˆ†</strong></h2><p>åœ¨ä¸€äº›åº”ç”¨åœºåˆä¸­ï¼Œä¸Šé¢çš„è¿™ç§å‡åŒ€ç½‘æ ¼ç»˜åˆ¶çš„å›¾è¡¨æ–¹å¼å¤ªè¿‡äºå±€é™å’Œä¸æ–¹ä¾¿ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä¸‰è§’å‰–åˆ†çš„å›¾è¡¨å¯ä»¥æ´¾ä¸Šç”¨åœºã€‚å¦‚æœæˆ‘ä»¬å¹¶ä¸æ˜¯ä½¿ç”¨ç¬›å¡å°”åæ ‡ç³»æˆ–æåæ ‡ç³»çš„ç½‘æ ¼æ¥ç»˜åˆ¶ä¸‰ç»´å›¾è¡¨ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ç»„éšæœºçš„ç‚¹æ¥ç»˜åˆ¶ä¸‰ç»´å›¾è¡¨å‘¢ï¼Ÿ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">theta = <span class="number">2</span> * np.pi * np.random.random(<span class="number">1000</span>)</span><br><span class="line">r = <span class="number">6</span> * np.random.random(<span class="number">1000</span>)</span><br><span class="line">x = np.ravel(r * np.sin(theta))</span><br><span class="line">y = np.ravel(r * np.cos(theta))</span><br><span class="line">z = f(x, y)</span><br></pre></td></tr></table></figure><p>æœ‰äº†ä¸Šé¢çš„æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥ç»˜åˆ¶ä¸€å¼ æ•£ç‚¹å›¾è¡¨ç°å‡ºæ ·æœ¬æ‰€åœ¨è¡¨é¢çš„æƒ…å†µï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line">ax.scatter(x, y, z, c=z, cmap=<span class="string">'viridis'</span>, linewidth=<span class="number">0.5</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224628.png" alt=""></p><p>ä¸Šå›¾å¹¶æœªå½¢è±¡çš„è¡¨ç¤ºå‡ºè¡¨é¢æƒ…å†µã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ax.plot_trisurfå‡½æ•°ï¼Œå®ƒèƒ½é¦–å…ˆæ ¹æ®æˆ‘ä»¬çš„æ•°æ®è¾“å…¥æ‰¾åˆ°å„ç‚¹å†…åœ¨çš„ä¸‰è§’å‡½æ•°å½¢å¼ï¼Œç„¶åç»˜åˆ¶è¡¨é¢ï¼ˆæ³¨æ„çš„æ˜¯è¿™é‡Œçš„ xï¼Œyï¼Œz æ˜¯ä¸€ç»´çš„æ•°ç»„ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line">ax.plot_trisurf(x, y, z,</span><br><span class="line">                cmap=<span class="string">'viridis'</span>, edgecolor=<span class="string">'none'</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224632.png" alt=""></p><p>ä¸Šå›¾çš„ç»“æœå¾ˆæ˜¾ç„¶æ²¡æœ‰ä½¿ç”¨ç½‘æ ¼ç»˜åˆ¶è¡¨é¢å›¾é‚£ä¹ˆæ¸…æ™°ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬å¹¶ä¸æ˜¯ä½¿ç”¨å‡½æ•°æ„å»ºæ•°æ®æ ·æœ¬ï¼ˆæ•°æ®æ ·æœ¬é€šå¸¸æ¥è‡ªçœŸå®ä¸–ç•Œçš„é‡‡æ ·ï¼‰çš„æƒ…å†µä¸‹ï¼Œè¿™èƒ½æä¾›å¾ˆå¤§çš„å¸®åŠ©ã€‚ä¾‹å¦‚æˆ‘ä»¬ä¸‹é¢ä¼šçœ‹åˆ°ï¼Œèƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•ç»˜åˆ¶ä¸€æ¡ä¸‰ç»´çš„è«æ¯”ä¹Œæ–¯ç¯ã€‚</p><h3 id="ä¾‹å­ï¼šç»˜åˆ¶è«æ¯”ä¹Œæ–¯ç¯"><a href="#ä¾‹å­ï¼šç»˜åˆ¶è«æ¯”ä¹Œæ–¯ç¯" class="headerlink" title="ä¾‹å­ï¼šç»˜åˆ¶è«æ¯”ä¹Œæ–¯ç¯"></a><strong>ä¾‹å­ï¼šç»˜åˆ¶è«æ¯”ä¹Œæ–¯ç¯</strong></h3><p>è«æ¯”ä¹Œæ–¯ç¯æ˜¯ä½¿ç”¨ä¸€æ¡çº¸æ¡ï¼Œä¸€ç«¯ç¿»æŠ˜åä¸å¦ä¸€ç«¯ç²˜èµ·æ¥å½¢æˆçš„ç¯å½¢ã€‚åœ¨æ‹“æ‰‘å­¦ä¸­è¿™æ˜¯éå¸¸æœ‰è¶£çš„ä¸€ä¸ªå½¢çŠ¶ï¼Œå› ä¸ºå®ƒåªæœ‰ä¸€ä¸ªé¢ã€‚æˆ‘ä»¬ä¸‹é¢ä½¿ç”¨ Matplotlib çš„ä¸‰ç»´å·¥å…·ç»˜åˆ¶è«æ¯”ä¹Œæ–¯ç¯ã€‚åˆ›å»ºè«æ¯”ä¹Œæ–¯ç¯çš„å…³é”®åœ¨äºèƒ½å‚æ•°åŒ–å®ƒï¼šè«æ¯”ä¹Œæ–¯ç¯æ˜¯ä¸€ä¸ªäºŒç»´çš„ç¯çŠ¶ç»“æ„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªç‰¹å®šçš„ç»´åº¦ã€‚ä¸€ä¸ªæˆ‘ä»¬ç§°ä¸º ï¼Œå–å€¼èŒƒå›´æ˜¯  è¡¨ç¤ºæ•´ä¸ªç¯çŠ¶ï¼Œè¿˜æœ‰ä¸€ä¸ªç§°ä¸º ï¼Œå–å€¼èŒƒå›´æ˜¯  è¡¨ç¤ºçº¸å¸¦çš„å®½åº¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">theta = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, <span class="number">30</span>)</span><br><span class="line">w = np.linspace(<span class="number">-0.25</span>, <span class="number">0.25</span>, <span class="number">8</span>)</span><br><span class="line">w, theta = np.meshgrid(w, theta)</span><br></pre></td></tr></table></figure><p>æœ‰äº†è¿™ä¸¤ä¸ªå‚æ•°ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šè«æ¯”ä¹Œæ–¯ç¯ä¸Š<em>(x, y, z)</em>åæ ‡çš„ä½ç½®ã€‚</p><p>ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°åœ¨è«æ¯”ä¹Œæ–¯ç¯ä¸Šæœ‰ä¸¤ä¸ªè‡ªè½¬å‘ç”Ÿï¼šä¸€ä¸ªæ˜¯çº¸å¸¦ç»•ç¯å½¢ä¸­å¤®ä½ç½®çš„æ—‹è½¬ï¼ˆæˆ‘ä»¬ç§°ä¸º ï¼‰ï¼Œå¦ä¸€ä¸ªçº¸å¸¦ç»•ç€ä¸­é—´è½´çº¿çš„æ—‹è½¬ï¼ˆæˆ‘ä»¬ç§°ä¸º ï¼‰ã€‚çº¸å¸¦ä¸­å¤®ä½ç½®æ—‹è½¬ä¸€æ•´åœˆ  æ—¶ï¼Œçº¸å¸¦ç»•ä¸­é—´è½´çº¿æ—‹è½¬åˆšå¥½åŠåœˆ ï¼Œæˆ‘ä»¬å°†æ•´ä¸ªæ—‹è½¬å‡åŒ€åˆ†å¸ƒåœ¨çº¸å¸¦ä¸Šæ—¶ï¼Œå°±ä¼šæœ‰ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phi = <span class="number">0.5</span> * theta</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†æ‰€æœ‰éœ€è¦è·å¾—ä¸‰ç»´åæ ‡å€¼çš„å‚æ•°äº†ã€‚æˆ‘ä»¬å®šä¹‰  ä¸ºæ¯ä¸ªåæ ‡ç‚¹è·ç¦»ç¯å½¢ä¸­é—´çš„ä½ç½®ï¼Œä½¿ç”¨å®ƒæ¥è®¡ç®—æœ€ç»ˆ  ä¸‰ç»´åæ ‡ç³»çš„åæ ‡å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ræ˜¯åæ ‡ç‚¹è·ç¦»ç¯å½¢ä¸­å¿ƒçš„è·ç¦»å€¼</span></span><br><span class="line">r = <span class="number">1</span> + w * np.cos(phi)</span><br><span class="line"><span class="comment"># åˆ©ç”¨ç®€å•çš„ä¸‰è§’å‡½æ•°çŸ¥è¯†ç®—å¾—xï¼Œyï¼Œzåæ ‡å€¼</span></span><br><span class="line">x = np.ravel(r * np.cos(theta))</span><br><span class="line">y = np.ravel(r * np.sin(theta))</span><br><span class="line">z = np.ravel(w * np.sin(phi))</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œä¸ºäº†ç»˜åˆ¶å¯¹è±¡ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯ä¸‰è§’å‰–åˆ†æ˜¯æ­£ç¡®çš„ã€‚å®ç°è¿™ä¸ªæœ€å¥½çš„æ–¹æ³•æ˜¯åœ¨åº•å±‚çš„å‚æ•°ä¸Šé¢å®ç°ä¸‰è§’å‰–åˆ†ï¼Œæœ€åè®© Matplotlib å°†è¿™ä¸ªä¸‰è§’å‰–åˆ†æŠ•å°„åˆ°ä¸‰ç»´ç©ºé—´ä¸­å½¢æˆè«æ¯”ä¹Œæ–¯ç¯ã€‚ä¸‹é¢çš„ä»£ç æœ€ç»ˆç»˜åˆ¶å›¾å½¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨åº•å±‚å‚æ•°çš„åŸºç¡€ä¸Šè¿›è¡Œä¸‰è§’å‰–åˆ†</span></span><br><span class="line"><span class="keyword">from</span> matplotlib.tri <span class="keyword">import</span> Triangulation</span><br><span class="line">tri = Triangulation(np.ravel(w), np.ravel(theta))</span><br><span class="line"></span><br><span class="line">ax = plt.axes(projection=<span class="string">'3d'</span>)</span><br><span class="line">ax.plot_trisurf(x, y, z, triangles=tri.triangles,</span><br><span class="line">                cmap=<span class="string">'viridis'</span>, linewidths=<span class="number">0.2</span>);</span><br><span class="line"></span><br><span class="line">ax.set_xlim(<span class="number">-1</span>, <span class="number">1</span>); ax.set_ylim(<span class="number">-1</span>, <span class="number">1</span>); ax.set_zlim(<span class="number">-1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/å¾®ä¿¡å›¾ç‰‡_20201102224638.png" alt=""></p><p>ç»“åˆè¿™äº›æŠ€å·§ï¼Œèƒ½å¤Ÿä¸ºä½ æä¾›åœ¨ Matplotlib åˆ›å»ºå’Œå±•ç°å¤§é‡ä¸‰ç»´å¯¹è±¡å’Œæ¨¡å¼çš„èƒ½åŠ›ã€‚</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a><strong>å‚è€ƒèµ„æ–™</strong></h3><p>[1]PythonDataScienceHandbook:<a href="https://github.com/jakevdp/PythonDataScienceHandbook/tree/master/notebooks" target="_blank" rel="noopener">https://github.com/jakevdp/PythonDataScienceHandbook/tree/master/notebooks</a></p><p>[2]Pythonsæ•°æ®ç§‘å­¦:<a href="https://github.com/wangyingsm/Python-Data-Science-Handbook/tree/master/notebooks" target="_blank" rel="noopener">https://github.com/wangyingsm/Python-Data-Science-Handbook/tree/master/notebooks</a></p><p>[3]é¢œè‰²ä»£ç :<a href="https://www.w3schools.com/colors/colors_names.asp" target="_blank" rel="noopener">https://www.w3schools.com/colors/colors_names.asp</a></p><p>[4]ç§’å·®è·:<a href="https://zh.wikipedia.org/wiki/%E7%A7%92%E5%B7%AE%E8%B7%9D" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/%E7%A7%92%E5%B7%AE%E8%B7%9D</a></p><p>[5]æœ‰è¶£è®¨è®º:<a href="http://Matplotlib.org/1.4.1/users/colormaps.html" target="_blank" rel="noopener">http://Matplotlib.org/1.4.1/users/colormaps.html</a></p><p>[6]æ ‡æ³¨ç¤º:<a href="http://matplotlib.org/examples/pylab_examples/annotation_demo2.html" target="_blank" rel="noopener">http://matplotlib.org/examples/pylab_examples/annotation_demo2.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Matplotlib </tag>
            
            <tag> æ•°æ®å¯è§†åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ ä¹‹ç¥ç»ç½‘ç»œå®ç°MNISTæ‰‹å†™å­—è¯†åˆ«</title>
      <link href="/2020/10/25/Neural-networks-realizes-MNIST-handwriting-recognition/"/>
      <url>/2020/10/25/Neural-networks-realizes-MNIST-handwriting-recognition/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="ä¸€ã€ç¥ç»ç½‘ç»œåŸç†"><a href="#ä¸€ã€ç¥ç»ç½‘ç»œåŸç†" class="headerlink" title="ä¸€ã€ç¥ç»ç½‘ç»œåŸç†"></a>ä¸€ã€ç¥ç»ç½‘ç»œåŸç†</h2><p>çº¿æ€§å›å½’ï¼ˆLinear Regressionï¼‰å’Œé€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰é€šå¸¸ç”¨æ¥å¤„ç†çº¿æ€§æ¨¡å‹ï¼Œå¦‚æœåˆ©ç”¨çº¿æ€§å›å½’æˆ–é€»è¾‘å›å½’å¯¹å¤šç‰¹å¾çš„éçº¿æ€§é—®é¢˜è¿›è¡Œåˆ†ç±»ï¼Œåˆ™æ¶‰åŠå¤ªå¤šç‰¹å¾ç»„åˆçš„è®¡ç®—ï¼Œå¾€å¾€å¯¼è‡´è®¡ç®—è´Ÿè·å¢å¤§ï¼Œå¹¶ä¸é€‚åˆè§£å†³è¿™ç±»é—®é¢˜ã€‚</p><p>å‡è®¾æˆ‘ä»¬éœ€è¦è®­ç»ƒä¸€ä¸ªæ¨¡å‹ç”¨æ¥åˆ¤æ–­ä¸€å¼ å›¾ç‰‡ä¸­æ˜¯å¦å‡ºç°æ±½è½¦ï¼Œå¯èƒ½æœ‰å¾ˆå¤šç”¨æ¥è®­ç»ƒæ¨¡å‹çš„æ•°æ®ï¼Œè¿™äº›å›¾ç‰‡æœ‰çš„åŒ…å«å°æ±½è½¦ï¼Œæœ‰çš„æ²¡æœ‰ï¼Œåˆ©ç”¨è¿™äº›å›¾ç‰‡çš„ä¸€ä¸ªä¸ªåƒç´ å€¼ä½œä¸ºç‰¹å¾ï¼Œè®­ç»ƒä¸€ä¸ªæ»¡è¶³è¿™æ ·åŠŸèƒ½çš„æ¨¡å‹ã€‚è®­ç»ƒè¿‡ç¨‹éœ€è¦å¤„ç†å¯èƒ½ç™¾ä¸‡çº§åˆ«ç”šè‡³æ›´å¤šçš„æ•°æ®ï¼Œå¯¹äºè¿™æ ·é—®é¢˜é€šå¸¸é‡‡ç”¨ç¥ç»ç½‘ç»œï¼ˆNeural Networksï¼‰è§£å†³ã€‚</p><a id="more"></a><h3 id="1-1-æ¨¡å‹"><a href="#1-1-æ¨¡å‹" class="headerlink" title="1.1 æ¨¡å‹"></a>1.1 æ¨¡å‹</h3><p><a href="https://imgchr.com/i/BQBHfO" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/10/27/BQBHfO.png" alt=""></a></p><p>è¿™ä¸ªä¸€ä¸ªç®€å•çš„3å±‚ç¥ç»ç½‘ç»œï¼Œç¬¬ä¸€å±‚ä¸ºè¾“å…¥å±‚ï¼ˆInput Layersï¼‰ï¼Œæœ€åä¸€å±‚ä¸ºè¾“å‡ºå±‚ï¼ˆOutput Layersï¼‰ï¼Œä¸­é—´å±‚ç§°ä¸ºéšè—å±‚ï¼ˆHidden Layersï¼‰</p><h3 id="1-2-å‰å‘ä¼ æ’­"><a href="#1-2-å‰å‘ä¼ æ’­" class="headerlink" title="1.2 å‰å‘ä¼ æ’­"></a>1.2 å‰å‘ä¼ æ’­</h3><h4 id="1-2-1-æ¿€æ´»å‡½æ•°"><a href="#1-2-1-æ¿€æ´»å‡½æ•°" class="headerlink" title="1.2.1 æ¿€æ´»å‡½æ•°"></a>1.2.1 æ¿€æ´»å‡½æ•°</h4><p>ï¼ˆ1ï¼‰Sigmoidå‡½æ•°</p><p>ä¸€ä¸ªå¸¸è§çš„æ¿€æ´»å‡½æ•°ï¼Œå…¶æ•°å­¦è¡¨è¾¾å¼ä¸º<a href="https://www.codecogs.com/eqnedit.php?latex=Sig(z)=\frac{1}{1&plus;e^{-z}}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?Sig(z)=\frac{1}{1&plus;e^{-z}}" title="Sig(z)=\frac{1}{1+e^{-z}}" /></a>ã€‚</p><p>Pythonå®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(<span class="number">1</span>+np.exp(-x))</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ReLUå‡½æ•°</p><p>è®¡ç®—é€Ÿåº¦æ›´å¿«ï¼Œæ˜¯ç›®å‰çš„ä¸»æµæ¿€æ´»å‡½æ•°ã€‚æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=ReLU(x)=\left\{\begin{matrix}&space;x&space;&&space;if&space;x>0\\&space;0&space;&&space;if&space;x\leq&space;0&space;\end{matrix}\right." target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?ReLU(x)=\left\{\begin{matrix}&space;x&space;&&space;if&space;x>0\\&space;0&space;&&space;if&space;x\leq&space;0&space;\end{matrix}\right." title="ReLU(x)=\left\{\begin{matrix} x & if x>0\\ 0 & if x\leq 0 \end{matrix}\right." /></a></p><p>Pythonå®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">relu</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> np.maximum(<span class="number">0</span>,x)</span><br></pre></td></tr></table></figure><h4 id="1-2-2-å‰å‘ä¼ æ’­è¿‡ç¨‹"><a href="#1-2-2-å‰å‘ä¼ æ’­è¿‡ç¨‹" class="headerlink" title="1.2.2 å‰å‘ä¼ æ’­è¿‡ç¨‹"></a>1.2.2 å‰å‘ä¼ æ’­è¿‡ç¨‹</h4><p>é™¤è¾“å…¥å±‚å¤–ï¼Œæ¯ä¸€å±‚ç¥ç»å…ƒéƒ½æœ‰å‰ä¸€å±‚çš„ç¥ç»å…ƒä½œä¸ºæœ¬å±‚ç¥ç»å…ƒçš„è¾“å…¥ï¼Œæœ¬å±‚ç¥ç»å…ƒçš„è¾“å‡ºåˆå¯ä»¥ä½œä¸ºä¸‹ä¸€å±‚ç¥ç»å…ƒçš„è¾“å…¥ï¼Œä¾æ¬¡å‘å‰ä¼ æ’­æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªè¾“å‡ºå€¼ï¼Œè¿™ä¸ªç”±è¾“å…¥å€¼ç»è¾“å…¥å±‚ç»è¿‡ä¸€ç³»åˆ—å¤„ç†æœ€ç»ˆåˆ°è¾¾è¾“å‡ºå±‚å¾—åˆ°è¾“å‡ºå€¼çš„è¿‡ç¨‹ç§°ä¸ºå‰å‘ä¼ æ’­ã€‚</p><p><a href="https://imgchr.com/i/B0npqA" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/11/01/B0npqA.md.png" alt=""></a></p><p>å…¶ä¸­x1, x2, x3æ˜¯è¾“å…¥å•å…ƒï¼Œå³åŸå§‹çš„è¾“å…¥æ•°æ®ï¼Œa1, a2, a3æ˜¯ä¸­é—´å•å…ƒï¼Œè´Ÿè´£å°†è¾“å…¥çš„æ•°æ®å¤„ç†ç„¶åä¼ é€’åˆ°ä¸‹ä¸€å±‚ï¼Œæœ€åæ˜¯è¾“å‡ºå•å…ƒï¼Œè´Ÿè´£è®¡ç®—<a href="https://www.codecogs.com/eqnedit.php?latex=h_{\Theta&space;}(x)" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?h_{\Theta&space;}(x)" title="h_{\Theta }(x)" /></a>ã€‚è®¡ç®—çš„è¿‡ç¨‹ä¸­ä¸ºæ¯ä¸€å±‚éƒ½æ·»åŠ äº†ä¸€ä¸ªåç½®ï¼ˆbias unitï¼‰ã€‚</p><p>ä¸Šå›¾ä¸­<a href="https://www.codecogs.com/eqnedit.php?latex=\Theta&space;_{1}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?\Theta&space;_{1}" title="\Theta _{1}" /></a>ï¼Œ<a href="https://www.codecogs.com/eqnedit.php?latex=\Theta&space;_{2}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?\Theta&space;_{2}" title="\Theta _{2}" /></a>åˆ†åˆ«ä»£è¡¨è¾“å…¥å±‚åˆ°éšè—å±‚çš„æƒé‡å’Œéšè—å±‚åˆ°è¾“å‡ºå±‚çš„æƒé‡ï¼Œå¯¹äºä¸Šå›¾çš„ç½‘ç»œæ¨¡å‹æ¿€æ´»å•å…ƒå’Œè¾“å‡ºåˆ†åˆ«è¡¨è¾¾ä¸ºï¼š</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=a_{1}^{(2)}=g(\Theta&space;_{10}^{(1)}x_{0}&plus;\Theta&space;_{11}^{(1)}x_{1}&plus;\Theta&space;_{12}^{(1)}x_{2}&plus;\Theta&space;_{13}^{(1)}x_{3})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?a_{1}^{(2)}=g(\Theta&space;_{10}^{(1)}x_{0}&plus;\Theta&space;_{11}^{(1)}x_{1}&plus;\Theta&space;_{12}^{(1)}x_{2}&plus;\Theta&space;_{13}^{(1)}x_{3})" title="a_{1}^{(2)}=g(\Theta _{10}^{(1)}x_{0}+\Theta _{11}^{(1)}x_{1}+\Theta _{12}^{(1)}x_{2}+\Theta _{13}^{(1)}x_{3})" /></a></p><p><a href="https://www.codecogs.com/eqnedit.php?latex=a_{2}^{(2)}=g(\Theta&space;_{20}^{(1)}x_{0}&plus;\Theta&space;_{21}^{(1)}x_{1}&plus;\Theta&space;_{22}^{(1)}x_{2}&plus;\Theta&space;_{23}^{(1)}x_{3})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?a_{2}^{(2)}=g(\Theta&space;_{20}^{(1)}x_{0}&plus;\Theta&space;_{21}^{(1)}x_{1}&plus;\Theta&space;_{22}^{(1)}x_{2}&plus;\Theta&space;_{23}^{(1)}x_{3})" title="a_{2}^{(2)}=g(\Theta _{20}^{(1)}x_{0}+\Theta _{21}^{(1)}x_{1}+\Theta _{22}^{(1)}x_{2}+\Theta _{23}^{(1)}x_{3})" /></a></p><p><a href="https://www.codecogs.com/eqnedit.php?latex=a_{3}^{(2)}=g(\Theta&space;_{30}^{(1)}x_{0}&plus;\Theta&space;_{31}^{(1)}x_{1}&plus;\Theta&space;_{32}^{(1)}x_{2}&plus;\Theta&space;_{33}^{(1)}x_{3})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?a_{3}^{(2)}=g(\Theta&space;_{30}^{(1)}x_{0}&plus;\Theta&space;_{31}^{(1)}x_{1}&plus;\Theta&space;_{32}^{(1)}x_{2}&plus;\Theta&space;_{33}^{(1)}x_{3})" title="a_{3}^{(2)}=g(\Theta _{30}^{(1)}x_{0}+\Theta _{31}^{(1)}x_{1}+\Theta _{32}^{(1)}x_{2}+\Theta _{33}^{(1)}x_{3})" /></a></p><p><a href="https://www.codecogs.com/eqnedit.php?latex=h_{\Theta&space;}(x)=g(\Theta&space;_{10}^{(2)}a_{0}^{(2)}&plus;\Theta&space;_{11}^{(2)}a_{1}^{(2)}&plus;\Theta&space;_{12}^{(2)}a_{2}^{(2)}&plus;\Theta&space;_{13}^{(2)}a_{3}^{(2)})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?h_{\Theta&space;}(x)=g(\Theta&space;_{10}^{(2)}a_{0}^{(2)}&plus;\Theta&space;_{11}^{(2)}a_{1}^{(2)}&plus;\Theta&space;_{12}^{(2)}a_{2}^{(2)}&plus;\Theta&space;_{13}^{(2)}a_{3}^{(2)})" title="h_{\Theta }(x)=g(\Theta _{10}^{(2)}a_{0}^{(2)}+\Theta _{11}^{(2)}a_{1}^{(2)}+\Theta _{12}^{(2)}a_{2}^{(2)}+\Theta _{13}^{(2)}a_{3}^{(2)})" /></a></p><p>å¦‚æ­¤ï¼Œä»å·¦åˆ°å³çš„ç®—æ³•ç§°ä¸ºå‰å‘ä¼ æ’­ç®—æ³•ï¼Œå®é™…åº”ç”¨ä¸­ä¸ºäº†è®¡ç®—æ–¹ä¾¿é€šå¸¸æ˜¯ä»¥çŸ©é˜µæ–¹å¼è®¡ç®—çš„ã€‚</p><p>Pythonå®ç°ç¤ºä¾‹ï¼ˆç¤ºä¾‹ä¸èƒ½ç›´æ¥è¿è¡Œï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self,X)</span>:</span></span><br><span class="line">    <span class="comment"># å‰å‘ä¼ æ’­ç®—æ³•forward_propagationï¼Œå®ç°é¢„æµ‹</span></span><br><span class="line">    self.a1 = X.T</span><br><span class="line">    self.z2 = np.dot(self.W1,self.a1)+self.b1</span><br><span class="line">    self.a2 = relu(self.z2)</span><br><span class="line">    self.z3 = np.dot(self.W2,self.a2)+self.b2</span><br><span class="line">    self.a3 = relu(self.z3)</span><br><span class="line">    out = self.a3</span><br><span class="line">    p = np.argmax(out, axis=<span class="number">0</span>)  <span class="comment"># è¾“å‡ºå±‚çš„æœ€å¤§ç´¢å¼•ä¸‹æ ‡å³ä¸ºæ ‡ç­¾å€¼ï¼Œæ ‡ç­¾å€¼0-9</span></span><br><span class="line">    <span class="keyword">return</span> p</span><br></pre></td></tr></table></figure><h3 id="1-3-ä»£ä»·å‡½æ•°"><a href="#1-3-ä»£ä»·å‡½æ•°" class="headerlink" title="1.3 ä»£ä»·å‡½æ•°"></a>1.3 ä»£ä»·å‡½æ•°</h3><p><a href="https://imgchr.com/i/B0M4F1" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/11/01/B0M4F1.md.png" alt=""></a></p><p>é€šè¿‡ä»£ä»·å‡½æ•°è§‚å¯Ÿé¢„æµ‹çš„ç»“æœä¸çœŸå®æƒ…å†µçš„è¯¯å·®æœ‰å¤šå¤§ã€‚</p><h3 id="1-4-åå‘ä¼ æ’­ç®—æ³•"><a href="#1-4-åå‘ä¼ æ’­ç®—æ³•" class="headerlink" title="1.4 åå‘ä¼ æ’­ç®—æ³•"></a>1.4 åå‘ä¼ æ’­ç®—æ³•</h3><p>ä¸€èˆ¬çš„è®­ç»ƒç®—æ³•å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p><p>ï¼ˆ1ï¼‰æ±‚è§£ä»£ä»·å‡½æ•°å…³äºæƒå€¼ï¼ˆå‚æ•°ï¼‰çš„å¯¼æ•°ã€‚ï¼ˆBPï¼‰</p><p>ï¼ˆ2ï¼‰ç”¨å¾—åˆ°çš„å¯¼æ•°è¿›ä¸€æ­¥è®¡ç®—æƒå€¼çš„è°ƒæ•´é‡ã€‚ï¼ˆæ¢¯åº¦ä¸‹é™ç­‰ä¼˜åŒ–ç®—æ³•ï¼‰</p><p>åå‘ä¼ æ’­ï¼ˆBPï¼‰ç®—æ³•ä¸»è¦åº”ç”¨ç¬¬ä¸€é˜¶æ®µ,éå¸¸é«˜æ•ˆçš„è®¡ç®—è¿™äº›å¯¼æ•°ã€‚</p><h4 id="1-4-1-æ¨å¯¼è¿‡ç¨‹"><a href="#1-4-1-æ¨å¯¼è¿‡ç¨‹" class="headerlink" title="1.4.1 æ¨å¯¼è¿‡ç¨‹"></a>1.4.1 æ¨å¯¼è¿‡ç¨‹</h4><p>å‡è®¾æœ‰ä¸€ä¸ªå››å±‚çš„ç¥ç»ç½‘ç»œï¼Œå…¶ç›¸å…³å‚æ•°ä¸ºï¼š Sl=4, L=4ï¼ˆå…¶ä¸­Lè¡¨ç¤ºç½‘ç»œå±‚æ•°ï¼ŒSlè¡¨ç¤ºlå±‚æœ‰å¤šå°‘ä¸ªç¥ç»å…ƒï¼‰ï¼Œç”¨<a href="https://www.codecogs.com/eqnedit.php?latex=\sigma" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?\sigma" title="\sigma" /></a>è¡¨ç¤ºè¯¯å·®ï¼Œç»“åˆå‰é¢ä»‹ç»çš„å‰å‘ä¼ æ’­è¿‡ç¨‹ï¼Œåˆ™ï¼š</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=\sigma&space;^{(4)}=a^{(4)}-y" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?\sigma&space;^{(4)}=a^{(4)}-y" title="\sigma ^{(4)}=a^{(4)}-y" /></a></p><p>å‰ä¸€å±‚è¯¯å·®ä¸ºï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=\sigma&space;^{(3)}=(\Theta&space;^{(3)})^{T}\sigma&space;^{(4)}*g^{'}(z^{(2)})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?\sigma&space;^{(3)}=(\Theta&space;^{(3)})^{T}\sigma&space;^{(4)}*g^{'}(z^{(2)})" title="\sigma ^{(3)}=(\Theta ^{(3)})^{T}\sigma ^{(4)}*g^{'}(z^{(3)})" /></a></p><p>å…¶ä¸­<a href="https://www.codecogs.com/eqnedit.php?latex=g^{'}(z^{(2)})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?g^{'}(z^{(2)})" title="g^{'}(z^{(2)})" /></a>æ˜¯Sigå‡½æ•°çš„å¯¼æ•°ã€‚</p><p>æ¥ç€ç¬¬äºŒå±‚çš„è¯¯å·®ä¸ºï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=\sigma&space;^{(2)}=(\Theta&space;^{(2)})^{T}\sigma&space;^{(3)}*g^{'}(z^{(2)})" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?\sigma&space;^{(2)}=(\Theta&space;^{(2)})^{T}\sigma&space;^{(3)}*g^{'}(z^{(2)})" title="\sigma ^{(2)}=(\Theta ^{(2)})^{T}\sigma ^{(3)}*g^{'}(z^{(2)})" /></a></p><p>ç¬¬ä¸€å±‚æ˜¯è¾“å…¥å˜é‡ï¼Œä¸å­˜åœ¨è¯¯å·®ï¼Œæ­¤æ—¶ä¸è€ƒè™‘æ­£åˆ™é¡¹ï¼Œåˆ™æœ‰ï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=\frac{\partial&space;}{\partial&space;\Theta&space;_{ij}^{(l)}}J(\Theta&space;)=a_{ij}^{(l)}\sigma&space;_{i}^{l&plus;1}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?\frac{\partial&space;}{\partial&space;\Theta&space;_{ij}^{(l)}}J(\Theta&space;)=a_{ij}^{(l)}\sigma&space;_{i}^{l&plus;1}" title="\frac{\partial }{\partial \Theta _{ij}^{(l)}}J(\Theta )=a_{ij}^{(l)}\sigma _{i}^{l+1}" /></a></p><p>è¦æ±‚çš„å¯¼æ•° = æƒå€¼è¾“å‡ºç«¯å•å…ƒçš„è¯¯å·®é¡¹ * æƒå€¼è¾“å…¥ç«¯å•å…ƒçš„æ¿€æ´»å€¼ã€‚</p><p>Pythonå®ç°ç¤ºä¾‹ï¼ˆç¤ºä¾‹ä¸èƒ½ç›´æ¥è¿è¡Œï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åå‘ä¼ æ’­ï¼š</span></span><br><span class="line"><span class="comment">#1ã€mè¡¨ç¤ºæ ·æœ¬ä¸ªæ•°</span></span><br><span class="line"><span class="comment">#2ã€æ¢¯åº¦ä¸‹é™ï¼Œæ›´æ–°Wå’Œb</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backward</span><span class="params">(self, dAL)</span>:</span></span><br><span class="line">    m=<span class="number">60000</span></span><br><span class="line">    dZ3=np.multiply(dAL,relu_derivative(self.z3))</span><br><span class="line">    dW2=np.dot(dZ3, self.a2.T)/m</span><br><span class="line">    db2=np.mean(dZ3,axis=<span class="number">1</span>)</span><br><span class="line">    dAL_1 = np.dot(self.W2.T, dZ3)</span><br><span class="line">    dZ2 = np.multiply(dAL_1, relu_derivative(self.z2))</span><br><span class="line">    dW1 = np.dot(dZ2, self.a1.T) / m</span><br><span class="line">    db1 = np.mean(dZ2, axis=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># æ›´æ–°æƒå€¼</span></span><br><span class="line">    self.W2-=self.lr*dW2</span><br><span class="line">    self.b2-=self.lr*db2</span><br><span class="line">    self.W1 -= self.lr * dW1</span><br><span class="line">    self.b1 -= self.lr * db1</span><br></pre></td></tr></table></figure><h2 id="äºŒã€æ•°æ®é›†è§£æ"><a href="#äºŒã€æ•°æ®é›†è§£æ" class="headerlink" title="äºŒã€æ•°æ®é›†è§£æ"></a>äºŒã€æ•°æ®é›†è§£æ</h2><p>æ•°æ®é›†æ¥æºï¼š<a href="http://yann.lecun.com/exdb/mnistï¼Œé€‰ç”¨MNISTæ‰‹å†™å­—æ•°æ®é›†è®­ç»ƒç¥ç»ç½‘ç»œï¼Œæ•°æ®é›†ä½¿ç”¨Pythonæ¨¡å—Structè§£æäºŒè¿›åˆ¶æ–‡ä»¶ã€‚æ‰‹å†™å­—ç‰¹å¾ä¸º28*28=784ä¸ªåƒç´ ç‚¹ï¼Œè¾“å‡ºä¸ºæ‰‹å†™å­—å€¼ã€‚è§£æè¿‡ç¨‹ä¸åšè¯¦ç»†ä»‹ç»ï¼Œå…¶æ•°æ®è§£æçš„ä¸€ç§Pythonå®ç°ä¸ºï¼š" target="_blank" rel="noopener">http://yann.lecun.com/exdb/mnistï¼Œé€‰ç”¨MNISTæ‰‹å†™å­—æ•°æ®é›†è®­ç»ƒç¥ç»ç½‘ç»œï¼Œæ•°æ®é›†ä½¿ç”¨Pythonæ¨¡å—Structè§£æäºŒè¿›åˆ¶æ–‡ä»¶ã€‚æ‰‹å†™å­—ç‰¹å¾ä¸º28*28=784ä¸ªåƒç´ ç‚¹ï¼Œè¾“å‡ºä¸ºæ‰‹å†™å­—å€¼ã€‚è§£æè¿‡ç¨‹ä¸åšè¯¦ç»†ä»‹ç»ï¼Œå…¶æ•°æ®è§£æçš„ä¸€ç§Pythonå®ç°ä¸ºï¼š</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"></span><br><span class="line">file1=<span class="string">"./MNIST_data/train-images.idx3-ubyte"</span></span><br><span class="line">file2=<span class="string">"./MNIST_data/train-labels.idx1-ubyte"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_images_ana</span><span class="params">(filepath)</span>:</span></span><br><span class="line">    <span class="string">"""è§£æå›¾ç‰‡æ•°æ®é›† .idx3-ubyteæ ¼å¼"""</span></span><br><span class="line">    <span class="comment"># ä»¥äºŒè¿›åˆ¶æ–¹å¼è¯»å–æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> open(filepath,<span class="string">'rb'</span>) <span class="keyword">as</span> fbj:</span><br><span class="line">        bin_data=fbj.read()</span><br><span class="line">    offset=<span class="number">0</span></span><br><span class="line">    magic_num,image_num,rows_num,column_num=struct.unpack_from(<span class="string">'&gt;iiii'</span>,bin_data,offset)</span><br><span class="line">    offset+=struct.calcsize(<span class="string">'&gt;iiii'</span>)</span><br><span class="line">    imgsize=image_num*rows_num*column_num</span><br><span class="line">    fmt_image=<span class="string">'&gt;'</span>+str(imgsize)+<span class="string">'B'</span>      <span class="comment"># è®­ç»ƒé›†æ•°æ®æœ‰60000*28*28</span></span><br><span class="line">    images=struct.unpack_from(fmt_image,bin_data,offset)</span><br><span class="line">    img=np.reshape(images,(image_num,rows_num*column_num))     <span class="comment"># æ„é€ ä¸€ä¸ª60000*784çš„çŸ©é˜µ</span></span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_labels_ana</span><span class="params">(filepath)</span>:</span></span><br><span class="line">    <span class="string">"""è§£æç‰¹å¾æ•°æ®é›† .idx1-ubyteæ ¼å¼"""</span></span><br><span class="line">    <span class="comment"># ä»¥äºŒè¿›åˆ¶æ ¼å¼å¤„ç†æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> open(filepath,<span class="string">'rb'</span>) <span class="keyword">as</span> fbj:</span><br><span class="line">        bin_data=fbj.read()</span><br><span class="line">    offset=<span class="number">0</span></span><br><span class="line">    magic_num,items_num=struct.unpack_from(<span class="string">'&gt;ii'</span>,bin_data,offset)</span><br><span class="line">    offset+=struct.calcsize(<span class="string">'&gt;ii'</span>)</span><br><span class="line">    fmt_label=<span class="string">'&gt;'</span>+str(items_num)+<span class="string">'B'</span></span><br><span class="line">    labels=struct.unpack_from(fmt_label,bin_data,offset)</span><br><span class="line">    label=np.reshape(labels,[items_num])</span><br><span class="line">    <span class="keyword">return</span> label</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    imgs=train_images_ana(file1)</span><br><span class="line">    print(np.shape(imgs[<span class="number">1</span>]))</span><br><span class="line">    labels = train_labels_ana(file2)</span><br><span class="line">    print(labels)</span><br><span class="line">    print(np.shape(labels[<span class="number">1</span>]))</span><br><span class="line">    <span class="comment"># æŸ¥çœ‹å‰10ä¸ªæ‰‹å†™å­—ç°åº¦å›¾</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        img=np.reshape(imgs[i],[<span class="number">28</span>,<span class="number">28</span>])</span><br><span class="line">        plt.imshow(img,cmap=<span class="string">'gray'</span>)</span><br><span class="line">        print(labels[i])</span><br><span class="line">        plt.show()</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ç¥ç»ç½‘ç»œæ­å»º"><a href="#ä¸‰ã€ç¥ç»ç½‘ç»œæ­å»º" class="headerlink" title="ä¸‰ã€ç¥ç»ç½‘ç»œæ­å»º"></a>ä¸‰ã€ç¥ç»ç½‘ç»œæ­å»º</h2><p>æ­å»ºä¸€ä¸ªä¸‰å±‚ç¥ç»ç½‘ç»œï¼Œè¾“å…¥å±‚ã€éšè—å±‚ã€è¾“å‡ºå±‚èŠ‚ç‚¹åˆ†åˆ«ä¸ºï¼š784ï¼Œ100ï¼Œ10ã€‚</p><h2 id="å››ã€é™„å½•"><a href="#å››ã€é™„å½•" class="headerlink" title="å››ã€é™„å½•"></a>å››ã€é™„å½•</h2><p>network.pyæ–‡ä»¶ï¼Œæ„å»ºç¥ç»ç½‘ç»œç±»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> activation_func <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> loss <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Network</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,inputnodes,hidnodes,outputnodes,learning_rate)</span>:</span></span><br><span class="line">        self.innodes = inputnodes</span><br><span class="line">        self.hidnodes = hidnodes</span><br><span class="line">        self.outnodes = outputnodes</span><br><span class="line">        self.lr = learning_rate</span><br><span class="line">        <span class="comment">#å„å±‚æƒé‡ åç½®</span></span><br><span class="line">        self.W1 = np.random.randn(self.hidnodes, self.innodes) * <span class="number">0.01</span></span><br><span class="line">        self.W2 = np.random.randn(self.outnodes, self.hidnodes) * <span class="number">0.01</span></span><br><span class="line">        self.b1 = np.random.randn(self.hidnodes, <span class="number">1</span>) * <span class="number">0.01</span></span><br><span class="line">        self.b2 = np.random.randn(self.outnodes, <span class="number">1</span>) * <span class="number">0.01</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self,X)</span>:</span></span><br><span class="line">        <span class="comment"># å‰å‘ä¼ æ’­ç®—æ³•forward_propagationï¼Œå®ç°é¢„æµ‹</span></span><br><span class="line">        self.a1 = X.T</span><br><span class="line">        self.z2 = np.dot(self.W1,self.a1)+self.b1</span><br><span class="line">        self.a2 = relu(self.z2)</span><br><span class="line">        self.z3 = np.dot(self.W2,self.a2)+self.b2</span><br><span class="line">        self.a3 = relu(self.z3)</span><br><span class="line">        out = self.a3</span><br><span class="line">        p = np.argmax(out, axis=<span class="number">0</span>)  <span class="comment"># è¾“å‡ºå±‚çš„æœ€å¤§ç´¢å¼•ä¸‹æ ‡å³ä¸ºæ ‡ç­¾å€¼ï¼Œæ ‡ç­¾å€¼0-9</span></span><br><span class="line">        <span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line">    <span class="comment">#åå‘ä¼ æ’­ï¼š</span></span><br><span class="line">    <span class="comment">#1ã€mè¡¨ç¤ºæ ·æœ¬ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">#2ã€æ¢¯åº¦ä¸‹é™ï¼Œæ›´æ–°Wå’Œb</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">backward</span><span class="params">(self, dAL)</span>:</span></span><br><span class="line">        m=<span class="number">60000</span></span><br><span class="line">        dZ3=np.multiply(dAL,relu_derivative(self.z3))</span><br><span class="line">        dW2=np.dot(dZ3, self.a2.T)/m</span><br><span class="line">        db2=np.mean(dZ3,axis=<span class="number">1</span>)</span><br><span class="line">        dAL_1 = np.dot(self.W2.T, dZ3)</span><br><span class="line">        dZ2 = np.multiply(dAL_1, relu_derivative(self.z2))</span><br><span class="line">        dW1 = np.dot(dZ2, self.a1.T) / m</span><br><span class="line">        db1 = np.mean(dZ2, axis=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># æ¢¯åº¦ä¸‹é™</span></span><br><span class="line">        self.W2-=self.lr*dW2</span><br><span class="line">        self.b2-=self.lr*db2</span><br><span class="line">        self.W1 -= self.lr * dW1</span><br><span class="line">        self.b1 -= self.lr * db1</span><br></pre></td></tr></table></figure><p>loss.pyæ–‡ä»¶ï¼ŒæŸå¤±å‡½æ•°è®¡ç®—ä»£ä»·ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#äº¤å‰ç†µæŸå¤±å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cross_entropy</span><span class="params">(y, y_predict)</span>:</span></span><br><span class="line">    y_predict = np.clip(y_predict,<span class="number">1e-10</span>,<span class="number">1</span><span class="number">-1e-10</span>) <span class="comment">#é˜²æ­¢0*log(0)å‡ºç°ã€‚å¯¼è‡´è®¡ç®—ç»“æœå˜ä¸ºNaN</span></span><br><span class="line">    <span class="keyword">return</span> -(y * np.log(y_predict) + (<span class="number">1</span> - y) * np.log(<span class="number">1</span> - y_predict))</span><br><span class="line"></span><br><span class="line"><span class="comment">#äº¤å‰ç†µæŸå¤±å‡½æ•°çš„å¯¼å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cross_entropy_der</span><span class="params">(y,y_predict)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> -y/y_predict+(<span class="number">1</span>-y)/(<span class="number">1</span>-y_predict)</span><br></pre></td></tr></table></figure><p>activation.pyæ–‡ä»¶ï¼Œæ¿€æ´»å‡½æ•°åŠå…¶å¯¼æ•°å®ç°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    æ¿€æ´»å‡½æ•°</span></span><br><span class="line"><span class="string">    é€‰æ‹©éçº¿æ€§çš„æ¿€æ´»å‡½æ•°å¤„ç†éçº¿æ€§å‡è®¾</span></span><br><span class="line"><span class="string">    å¸¸ç”¨æ¿€æ´»å‡½æ•°reluã€sigmoid</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(<span class="number">1</span>+np.exp(-x))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">relu</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> np.maximum(<span class="number">0</span>,x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sig_derivative</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="comment">#sigå‡½æ•°æ±‚å¯¼</span></span><br><span class="line">    fx=sigmoid(x)</span><br><span class="line">    <span class="keyword">return</span> fx*(<span class="number">1</span>-fx)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">relu_derivative</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (x&gt;=<span class="number">0</span>).astype(np.float64)</span><br></pre></td></tr></table></figure><p>load_data.pyæ–‡ä»¶ï¼ŒåŠ è½½æ•°æ®é›†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"></span><br><span class="line">file1=<span class="string">"./MNIST_data/train-images.idx3-ubyte"</span></span><br><span class="line">file2=<span class="string">"./MNIST_data/train-labels.idx1-ubyte"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_images_ana</span><span class="params">(filepath)</span>:</span></span><br><span class="line">    <span class="string">"""è§£æå›¾ç‰‡æ•°æ®é›† .idx3-ubyteæ ¼å¼"""</span></span><br><span class="line">    <span class="comment"># ä»¥äºŒè¿›åˆ¶æ–¹å¼è¯»å–æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> open(filepath,<span class="string">'rb'</span>) <span class="keyword">as</span> fbj:</span><br><span class="line">        bin_data=fbj.read()</span><br><span class="line"></span><br><span class="line">    offset=<span class="number">0</span></span><br><span class="line">    magic_num,image_num,rows_num,column_num=struct.unpack_from(<span class="string">'&gt;iiii'</span>,bin_data,offset)</span><br><span class="line">    offset+=struct.calcsize(<span class="string">'&gt;iiii'</span>)</span><br><span class="line">    imgsize=image_num*rows_num*column_num</span><br><span class="line">    fmt_image=<span class="string">'&gt;'</span>+str(imgsize)+<span class="string">'B'</span>      <span class="comment"># è®­ç»ƒé›†æ•°æ®æœ‰60000*28*28</span></span><br><span class="line">    images=struct.unpack_from(fmt_image,bin_data,offset)</span><br><span class="line">    img=np.reshape(images,(image_num,rows_num*column_num))     <span class="comment"># æ„é€ ä¸€ä¸ª60000*784çš„çŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(magic_num,image_num,rows_num,column_num)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_labels_ana</span><span class="params">(filepath)</span>:</span></span><br><span class="line">    <span class="string">"""è§£æç‰¹å¾æ•°æ®é›† .idx1-ubyteæ ¼å¼"""</span></span><br><span class="line">    <span class="comment"># ä»¥äºŒè¿›åˆ¶æ ¼å¼å¤„ç†æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> open(filepath,<span class="string">'rb'</span>) <span class="keyword">as</span> fbj:</span><br><span class="line">        bin_data=fbj.read()</span><br><span class="line"></span><br><span class="line">    offset=<span class="number">0</span></span><br><span class="line">    magic_num,items_num=struct.unpack_from(<span class="string">'&gt;ii'</span>,bin_data,offset)</span><br><span class="line">    offset+=struct.calcsize(<span class="string">'&gt;ii'</span>)</span><br><span class="line">    fmt_label=<span class="string">'&gt;'</span>+str(items_num)+<span class="string">'B'</span></span><br><span class="line">    labels=struct.unpack_from(fmt_label,bin_data,offset)</span><br><span class="line">    label=np.reshape(labels,[items_num])</span><br><span class="line">    <span class="keyword">return</span> label</span><br></pre></td></tr></table></figure><p>train.pyæ–‡ä»¶ï¼Œè®­ç»ƒæ¨¡å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> network <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> load_data <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">input_nodes = <span class="number">784</span></span><br><span class="line">hidden_nodes = <span class="number">100</span></span><br><span class="line">output_nodes = <span class="number">10</span></span><br><span class="line">learning_rate = <span class="number">0.1</span></span><br><span class="line">n = Network(input_nodes, hidden_nodes, output_nodes, learning_rate)</span><br><span class="line"></span><br><span class="line">X=train_images_ana(file1)</span><br><span class="line">Y=train_labels_ana(file2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®­ç»ƒç¥ç»ç½‘ç»œ</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    cnt = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">60000</span>):</span><br><span class="line">        Y_predict = n.predict(np.mat(X[i]))</span><br><span class="line">        <span class="keyword">if</span> (Y[i]==Y_predict):</span><br><span class="line">            cnt+=<span class="number">1</span></span><br><span class="line">        dA = cross_entropy_der(np.mat(Y[i]),Y_predict)</span><br><span class="line">        n.backward(dA)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'epoch %d:accurac=%f'</span>%(epoch,cnt/<span class="number">60000</span>))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Machine-Learning </tag>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
            <tag> ç¥ç»ç½‘ç»œ </tag>
            
            <tag> MNIST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MNISTæ‰‹å†™å­—ç¬¦é›†çš„æ•°æ®è§£æ</title>
      <link href="/2020/10/18/Data-analysis-of-MNIST-handwritten-character-set/"/>
      <url>/2020/10/18/Data-analysis-of-MNIST-handwritten-character-set/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1.å‰è¨€"></a>1.å‰è¨€</h3><p>æœ€è¿‘åœ¨åšMNISTæ‰‹å†™å­—è¯†åˆ«ï¼Œå®˜æ–¹MNISTæ•°æ®é›†ä¸º .idx3-ubyte æ ¼å¼ï¼Œç¨‹åºæ— æ³•ç›´æ¥è¯»å–ï¼Œæ¶‰åŠMNISTæ•°æ®é›†çš„è§£æã€‚</p><p>MNISTæ•°æ®é›†ï¼š<a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">http://yann.lecun.com/exdb/mnist/</a></p><a id="more"></a><h3 id="2-æ•°æ®é›†è¯´æ˜"><a href="#2-æ•°æ®é›†è¯´æ˜" class="headerlink" title="2.æ•°æ®é›†è¯´æ˜"></a>2.æ•°æ®é›†è¯´æ˜</h3><p>å®˜ç½‘æ•°æ®é›†è¯´æ˜ï¼š</p><blockquote><p>train-images-idx3-ubyte.gz:  training set images (9912422 bytes)<br>train-labels-idx1-ubyte.gz:  training set labels (28881 bytes)<br>t10k-images-idx3-ubyte.gz:   test set images (1648877 bytes)<br>t10k-labels-idx1-ubyte.gz:   test set labels (4542 bytes)</p></blockquote><p>ä¸€ä¸ªå››ä¸ªæ–‡ä»¶ï¼Œè®­ç»ƒå›¾ç‰‡é›†ã€è®­ç»ƒç‰¹å¾é›†ã€æµ‹è¯•å›¾ç‰‡é›†ã€æµ‹è¯•ç‰¹å¾é›†ã€‚</p><p>å®˜ç½‘å¯¹å›¾ç‰‡é›†å’Œç‰¹å¾é›†çš„è¯´æ˜å¦‚ä¸‹ï¼š</p><p><strong>TRAINING SET LABEL FILE (train-labels-idx1-ubyte):</strong></p><div class="table-container"><table><thead><tr><th>[offset]</th><th>[type]</th><th style="text-align:left">[value]</th><th>[description]</th></tr></thead><tbody><tr><td>0000</td><td>32 bit integer</td><td style="text-align:left">0x00000801(2049)</td><td>magic number (MSB first)</td></tr><tr><td>0004</td><td>32 bit integer</td><td style="text-align:left">60000</td><td>number of items</td></tr><tr><td>0008</td><td>unsigned byte</td><td style="text-align:left">??</td><td>label</td></tr><tr><td>0009</td><td>unsigned byte</td><td style="text-align:left">??</td><td>label</td></tr><tr><td>â€¦â€¦</td><td></td><td style="text-align:left"></td></tr></tbody></table></div><p>The labels values are 0 to 9.</p><p><strong>TRAINING SET IMAGE FILE (train-images-idx3-ubyte):</strong></p><div class="table-container"><table><thead><tr><th>[offset]</th><th>[type]</th><th>[value]</th><th>[description]</th></tr></thead><tbody><tr><td>0000</td><td>32 bit integer</td><td>0x00000803(2051)</td><td>magic number</td></tr><tr><td>0004</td><td>32 bit integer</td><td>60000</td><td>number of images</td></tr><tr><td>0008</td><td>32 bit integer</td><td>28</td><td>number of rows</td></tr><tr><td>0012</td><td>32 bit integer</td><td>28</td><td>number of columns</td></tr><tr><td>0016</td><td>unsigned byte</td><td>??</td><td>pixel</td></tr><tr><td>0017</td><td>unsigned byte</td><td>??</td><td>pixel</td></tr><tr><td>â€¦â€¦</td><td></td><td></td></tr></tbody></table></div><p>Pixels are organized row-wise. Pixel values are 0 to 255. 0 means background (white), 255 means foreground (black).</p><h3 id="3-äºŒè¿›åˆ¶æ–‡ä»¶è§£æ"><a href="#3-äºŒè¿›åˆ¶æ–‡ä»¶è§£æ" class="headerlink" title="3.äºŒè¿›åˆ¶æ–‡ä»¶è§£æ"></a>3.äºŒè¿›åˆ¶æ–‡ä»¶è§£æ</h3><p>Pythonä¸­è§£æäºŒè¿›åˆ¶æ–‡ä»¶éœ€è¦ç”¨åˆ°Structæ¨¡å—ï¼ŒStructçš„åŸºæœ¬å‡½æ•°è¯´æ˜å‚è€ƒï¼š<a href="https://wnxy.xyz/2020/10/17/Daily-usage-of-Struct-module-in-Python/">https://wnxy.xyz/2020/10/17/Daily-usage-of-Struct-module-in-Python/</a></p><p>ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"></span><br><span class="line">file1=<span class="string">"./MNIST_data/train-images.idx3-ubyte"</span></span><br><span class="line">file2=<span class="string">"./MNIST_data/train-labels.idx1-ubyte"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_images_ana</span><span class="params">(filepath)</span>:</span></span><br><span class="line">    <span class="string">"""è§£æå›¾ç‰‡æ•°æ®é›† .idx3-ubyteæ ¼å¼"""</span></span><br><span class="line">    <span class="comment"># ä»¥äºŒè¿›åˆ¶æ–¹å¼è¯»å–æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> open(filepath,<span class="string">'rb'</span>) <span class="keyword">as</span> fbj:</span><br><span class="line">        bin_data=fbj.read()</span><br><span class="line">    offset=<span class="number">0</span></span><br><span class="line">    magic_num,image_num,rows_num,column_num=struct.unpack_from(<span class="string">'&gt;iiii'</span>,bin_data,offset)</span><br><span class="line">    offset+=struct.calcsize(<span class="string">'&gt;iiii'</span>)</span><br><span class="line">    imgsize=image_num*rows_num*column_num</span><br><span class="line">    fmt_image=<span class="string">'&gt;'</span>+str(imgsize)+<span class="string">'B'</span>      <span class="comment"># è®­ç»ƒé›†æ•°æ®æœ‰60000*28*28</span></span><br><span class="line">    images=struct.unpack_from(fmt_image,bin_data,offset)</span><br><span class="line">    img=np.reshape(images,(image_num,rows_num*column_num))     <span class="comment"># æ„é€ ä¸€ä¸ª60000*784çš„çŸ©é˜µ</span></span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_labels_ana</span><span class="params">(filepath)</span>:</span></span><br><span class="line">    <span class="string">"""è§£æç‰¹å¾æ•°æ®é›† .idx1-ubyteæ ¼å¼"""</span></span><br><span class="line">    <span class="comment"># ä»¥äºŒè¿›åˆ¶æ ¼å¼å¤„ç†æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> open(filepath,<span class="string">'rb'</span>) <span class="keyword">as</span> fbj:</span><br><span class="line">        bin_data=fbj.read()</span><br><span class="line">    offset=<span class="number">0</span></span><br><span class="line">    magic_num,items_num=struct.unpack_from(<span class="string">'&gt;ii'</span>,bin_data,offset)</span><br><span class="line">    offset+=struct.calcsize(<span class="string">'&gt;ii'</span>)</span><br><span class="line">    fmt_label=<span class="string">'&gt;'</span>+str(items_num)+<span class="string">'B'</span></span><br><span class="line">    labels=struct.unpack_from(fmt_label,bin_data,offset)</span><br><span class="line">    label=np.reshape(labels,[items_num])</span><br><span class="line">    <span class="keyword">return</span> label</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    imgs=train_images_ana(file1)</span><br><span class="line">    <span class="comment"># æŸ¥çœ‹å‰10ä¸ªæ‰‹å†™å­—ç°åº¦å›¾</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        img=np.reshape(imgs[i],[<span class="number">28</span>,<span class="number">28</span>])</span><br><span class="line">        plt.imshow(img,cmap=<span class="string">'gray'</span>)</span><br><span class="line">        plt.show()</span><br><span class="line">    labels=train_labels_ana(file2)</span><br><span class="line">    <span class="comment">#print(labels)</span></span><br></pre></td></tr></table></figure><p>ç›¸å…³æ–‡ç« ï¼š</p><ul><li><a href="https://wnxy.xyz/2020/10/17/Daily-usage-of-Struct-module-in-Python/">Pythonä¸­Structæ¨¡å—çš„æ—¥å¸¸ç”¨æ³•</a></li></ul><p>å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a href="https://blog.csdn.net/qq_32166627/article/details/62218072" target="_blank" rel="noopener">mnistæ•°æ®é›†è§£æ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Machine-Learning </tag>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
            <tag> æ•°æ®è§£æ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä¸­Structæ¨¡å—çš„æ—¥å¸¸ç”¨æ³•</title>
      <link href="/2020/10/17/Daily-usage-of-Struct-module-in-Python/"/>
      <url>/2020/10/17/Daily-usage-of-Struct-module-in-Python/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>æœ€è¿‘åœ¨è®­ç»ƒmnistå­—ç¬¦é›†æ—¶ç”¨åˆ°äºŒè¿›åˆ¶æ•°æ®çš„å¤„ç†ï¼Œé¢å‘Googleç¼–ç¨‹åç¨ç¨ææ‡‚äº†ä¸€ç‚¹ï¼Œæ•…åšä¸€ç‚¹ç¬”è®°ï¼Œä»¥ä½œå¤‡å¿˜ã€‚</strong></p><p>Python ä¸­ç”¨æ¥å¤„ç†äºŒè¿›åˆ¶æ•°æ®æ—¶é‡‡ç”¨ Struct æ¨¡å—ã€‚</p><p>Structæ¨¡å—ä¸­æœ€å¸¸ç”¨çš„å‡½æ•°ä¸º:</p><a id="more"></a><ul><li>pack()</li><li>unpack()</li><li>pack_into()</li><li>unpack_from()</li><li>calcsize()</li></ul><p>pack(fmt, v1, v2, â€¦)  ï¼š æŒ‰ç…§ç»™å®šçš„æ ¼å¼ fmtï¼ˆformatï¼‰ï¼ŒæŠŠæ•°æ®å°è£…æˆå­—ç¬¦ä¸²ã€‚</p><p>unpack(fmt, string) ï¼š æŒ‰ç…§ç»™å®šçš„æ ¼å¼(fmt)è§£æå­—èŠ‚æµ stringï¼Œè§£æç»“æœä¸ºå…ƒç»„ã€‚</p><p>struct.pack_into(fmt, buffer, offset, v1, v2, â€¦) ï¼š æŠŠvaluesï¼š<em>v1, v2, â€¦</em>æ‰“åŒ…æŒ‰æ ¼å¼<em>fmt</em>è½¬æ¢åå†™å…¥æŒ‡å®šçš„å†…å­˜ <em>buffer</em> ä¸­ï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®š<em>buffer</em>ä¸­çš„<em>offset</em>å³åç§»é‡ï¼Œä»å“ªé‡Œå¼€å§‹å†™ã€‚</p><p>struct.unpack_from(fmt, buffer, offset=0) ï¼š ä»å†…å­˜ä¸­çš„æŒ‡å®š <em>buffer</em> åŒºè¯»å–å‡ºæ¥ï¼Œç„¶åæŒ‰ç…§ <em>fmt</em> æ ¼å¼è§£æã€‚å¯ä»¥æŒ‡å®š<em>offset</em>ï¼Œä» <em>buffer</em> çš„å“ªä¸ªä½ç½®å¼€å§‹è¯»å–ã€‚</p><p>calcsize(fmt) ï¼š è®¡ç®—ç»™å®šçš„æ ¼å¼(fmt)å ç”¨å¤šå°‘å­—èŠ‚çš„å†…å­˜ ã€‚</p><p>Structä¸­æ”¯æŒçš„æ ¼å¼å¦‚ä¸‹è¡¨ï¼š</p><div class="table-container"><table><thead><tr><th>Format</th><th>C Type</th><th>Python</th><th>å­—èŠ‚æ•°</th></tr></thead><tbody><tr><td>x</td><td>pad byte</td><td>no value</td><td>1</td></tr><tr><td>c</td><td>char</td><td>string of length 1</td><td>1</td></tr><tr><td>b</td><td>signed char</td><td>integer</td><td>1</td></tr><tr><td>B</td><td>unsigned char</td><td>integer</td><td>1</td></tr><tr><td>?</td><td>_Bool</td><td>bool</td><td>1</td></tr><tr><td>h</td><td>short</td><td>integer</td><td>4</td></tr><tr><td>H</td><td>unsigned short</td><td>integer</td><td>4</td></tr><tr><td>i</td><td>int</td><td>integer</td><td>4</td></tr><tr><td>I</td><td>unsigned int</td><td>integer of long</td><td>4</td></tr><tr><td>l</td><td>long</td><td>integer</td><td>4</td></tr><tr><td>L</td><td>unsigned long</td><td>long</td><td>4</td></tr><tr><td>q</td><td>long long</td><td>long</td><td>8</td></tr><tr><td>Q</td><td>unsigned long long</td><td>long</td><td>8</td></tr><tr><td>f</td><td>float</td><td>float</td><td>4</td></tr><tr><td>d</td><td>double</td><td>float</td><td>8</td></tr><tr><td>s</td><td>char[]</td><td>string</td><td>1</td></tr><tr><td>p</td><td>char[]</td><td>string</td><td>1</td></tr><tr><td>P</td><td>void *</td><td>long</td></tr></tbody></table></div><p><strong>qå’ŒQåªåœ¨æœºå™¨æ”¯æŒ64ä½æ“ä½œæ—¶æœ‰æ„æ€</strong></p><p><strong>æ¯ä¸ªæ ¼å¼å‰å¯ä»¥æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºä¸ªæ•°</strong></p><p><strong>sæ ¼å¼è¡¨ç¤ºä¸€ä¸ªé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œ4sè¡¨ç¤ºé•¿åº¦ä¸º4çš„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯pè¡¨ç¤ºçš„æ˜¯pascalå­—ç¬¦ä¸²</strong></p><p><strong>Pç”¨æ¥è½¬æ¢ä¸€ä¸ªæŒ‡é’ˆï¼Œå…¶é•¿åº¦å’Œæœºå™¨å­—é•¿ç›¸å…³</strong></p><p><strong>æœ€åä¸€ä¸ªå¯ä»¥ç”¨æ¥è¡¨ç¤ºæŒ‡é’ˆç±»å‹çš„ï¼Œå 4ä¸ªå­—èŠ‚</strong></p><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.cnblogs.com/gala/archive/2011/09/22/2184801.html" target="_blank" rel="noopener">https://www.cnblogs.com/gala/archive/2011/09/22/2184801.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Structæ¨¡å— </tag>
            
            <tag> äºŒè¿›åˆ¶å¤„ç† </tag>
            
            <tag> Binary </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ â€”â€”é€»è¾‘å›å½’ç®—æ³•ï¼ˆLogistic Regressionï¼‰æ€æƒ³åŠç®—æ³•å®ç°</title>
      <link href="/2020/10/11/Machine-learning-logistic-regression-algorithm/"/>
      <url>/2020/10/11/Machine-learning-logistic-regression-algorithm/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="1-åˆ†ç±»åŸç†"><a href="#1-åˆ†ç±»åŸç†" class="headerlink" title="1.åˆ†ç±»åŸç†"></a>1.åˆ†ç±»åŸç†</h1><h2 id="1-1-é€»è¾‘å›å½’"><a href="#1-1-é€»è¾‘å›å½’" class="headerlink" title="1.1 é€»è¾‘å›å½’"></a>1.1 é€»è¾‘å›å½’</h2><p>é€»è¾‘å›å½’ç®—æ³•æ˜¯ä¸€ä¸ªåˆ†ç±»ç®—æ³•ï¼Œå…¶æ€§è´¨æ˜¯å®ƒçš„è¾“å‡ºå€¼æ°¸è¿œåœ¨0åˆ°1ä¹‹é—´ï¼Œæ˜¯ç›®å‰æœ€æµè¡Œã€æœ€å¹¿æ³›ä½¿ç”¨çš„ä¸€ç›´å­¦ä¹ ç®—æ³•ã€‚</p><h2 id="1-2-Sigmoidå‡½æ•°"><a href="#1-2-Sigmoidå‡½æ•°" class="headerlink" title="1.2 Sigmoidå‡½æ•°"></a>1.2 Sigmoidå‡½æ•°</h2><p>æ ¹æ®çº¿æ€§å›å½’æ¨¡å‹æˆ‘ä»¬åªèƒ½é¢„æµ‹è¿ç»­çš„å€¼ï¼Œç„¶è€Œå¯¹äºåˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è¾“å‡º0æˆ–1ï¼Œæ­¤æ—¶å¼•å…¥é€»è¾‘å›å½’æ¨¡å‹ï¼Œæ¨¡å‹æ ¸å¿ƒä¸ºSigmoidå‡½æ•°ï¼Œå…¬å¼ä¸ºï¼š$g(z)=\frac{1}{1+e^{-z}}$</p><p>å…¶ä¸­ï¼š$z=-\Theta^{T} X$</p><a id="more"></a><p>è¯¥å‡½æ•°å›¾åƒä¸ºï¼š</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/sigmoid.png" alt=""></p><p>$h_{\Theta}(x)$çš„ä½œç”¨æ˜¯å¯¹äºç»™å®šçš„è¾“å…¥å˜é‡ï¼Œæ ¹æ®é€‰æ‹©çš„å‚æ•°è®¡ç®—å‡ºè¾“å‡ºå˜é‡=1çš„å¯èƒ½æ€§ã€‚</p><h2 id="1-3-ä»£ä»·å‡½æ•°"><a href="#1-3-ä»£ä»·å‡½æ•°" class="headerlink" title="1.3 ä»£ä»·å‡½æ•°"></a>1.3 ä»£ä»·å‡½æ•°</h2><p>åœ¨é€»è¾‘å›å½’ä¸­å¯ä»¥åˆ¤å®šå½“$h_{\Theta}(x)$å¤§äºç­‰äº0.5æ—¶ï¼Œé¢„æµ‹y=1ã€‚</p><p>å½“$h_{\Theta}(x)$å°äº0.5æ—¶ï¼Œé¢„æµ‹y=0ã€‚</p><p>é€»è¾‘å›å½’ä¸­ä½¿ç”¨æœ€å¤§ä¼¼ç„¶æ³•æ¥æ‹Ÿåˆå‚æ•°ï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=z=\Theta&space;_{0}&plus;\Theta&space;_{1}x_{1}&plus;\Theta&space;_{2}x_{2}&plus;...&plus;\Theta&space;_{n}x_{n}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?z=\Theta&space;_{0}&plus;\Theta&space;_{1}x_{1}&plus;\Theta&space;_{2}x_{2}&plus;...&plus;\Theta&space;_{n}x_{n}" title="z=\Theta _{0}+\Theta _{1}x_{1}+\Theta _{2}x_{2}+...+\Theta _{n}x_{n}" /></a></p><p>è®­ç»ƒæ ·æœ¬çš„ç‰¹å¾å‘é‡ä¸ºï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=x\epsilon&space;\begin{bmatrix}x_{0}&space;\\&space;x_{1}&space;\\&space;...&space;\\x_{n}&space;\end{bmatrix}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?x\epsilon&space;\begin{bmatrix}x_{0}&space;\\&space;x_{1}&space;\\&space;...&space;\\x_{n}&space;\end{bmatrix}" title="x\epsilon \begin{bmatrix}x_{0} \\ x_{1} \\ ... \\x_{n} \end{bmatrix}" /></a></p><p>å…¶ä¸­ï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=x_{0}=1,y\epsilon&space;\left&space;\{&space;0&space;,1\right&space;\}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?x_{0}=1,y\epsilon&space;\left&space;\{&space;0&space;,1\right&space;\}" title="x_{0}=1,y\epsilon \left \{ 0 ,1\right \}" /></a></p><p>æ„å»ºä»£ä»·å‡½æ•°ä¸ºï¼š<a href="https://www.codecogs.com/eqnedit.php?latex=J\left&space;(&space;\Theta&space;\right&space;)=-\frac{1}{m}\sum_{i=1}^{m}\left&space;[&space;y^{\left&space;(&space;i&space;\right&space;)}log\left&space;(&space;h_{\Theta&space;}\left&space;(&space;x^{\left&space;(&space;i&space;\right&space;)}&space;\right&space;)&space;\right&space;)&space;&plus;\left&space;(&space;1-y^{\left&space;(&space;i&space;\right&space;)}&space;\right&space;)log\left&space;(&space;1-h_{\Theta&space;}&space;\left&space;(&space;x^{\left&space;(&space;i&space;\right&space;)}&space;\right&space;)\right&space;)\right&space;]" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?J\left&space;(&space;\Theta&space;\right&space;)=-\frac{1}{m}\sum_{i=1}^{m}\left&space;[&space;y^{\left&space;(&space;i&space;\right&space;)}log\left&space;(&space;h_{\Theta&space;}\left&space;(&space;x^{\left&space;(&space;i&space;\right&space;)}&space;\right&space;)&space;\right&space;)&space;&plus;\left&space;(&space;1-y^{\left&space;(&space;i&space;\right&space;)}&space;\right&space;)log\left&space;(&space;1-h_{\Theta&space;}&space;\left&space;(&space;x^{\left&space;(&space;i&space;\right&space;)}&space;\right&space;)\right&space;)\right&space;]" title="J\left ( \Theta \right )=-\frac{1}{m}\sum_{i=1}^{m}\left [ y^{\left ( i \right )}log\left ( h_{\Theta }\left ( x^{\left ( i \right )} \right ) \right ) +\left ( 1-y^{\left ( i \right )} \right )log\left ( 1-h_{\Theta } \left ( x^{\left ( i \right )} \right )\right )\right ]" /></a></p><p>ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•æ±‚ä½¿å¾—ä»£ä»·å‡½æ•°æœ€å°çš„å‚æ•°ï¼š</p><p><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/10/12/0WELAx.png" alt=""></p><h1 id="2-ç®—æ³•å®ç°"><a href="#2-ç®—æ³•å®ç°" class="headerlink" title="2.ç®—æ³•å®ç°"></a>2.ç®—æ³•å®ç°</h1><h2 id="2-1-Sigmoidå‡½æ•°pythonå®ç°"><a href="#2-1-Sigmoidå‡½æ•°pythonå®ç°" class="headerlink" title="2.1 Sigmoidå‡½æ•°pythonå®ç°"></a>2.1 Sigmoidå‡½æ•°pythonå®ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰sigmoidå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(<span class="number">1</span>+np.exp(-z))</span><br></pre></td></tr></table></figure><h2 id="2-2-æ¢¯åº¦ä¸‹é™ç®—æ³•pythonå®ç°"><a href="#2-2-æ¢¯åº¦ä¸‹é™ç®—æ³•pythonå®ç°" class="headerlink" title="2.2 æ¢¯åº¦ä¸‹é™ç®—æ³•pythonå®ç°"></a>2.2 æ¢¯åº¦ä¸‹é™ç®—æ³•pythonå®ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradAscent</span><span class="params">(dataMatIn, classLabels)</span>:</span></span><br><span class="line">    dataMatrix = mat(dataMatIn)  <span class="comment"># è½¬æ¢ä¸ºçŸ©é˜µ</span></span><br><span class="line">    labelMat = mat(classLabels).transpose()  <span class="comment"># è½¬æ¢ä¸ºçŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">    m, n = shape(dataMatrix)</span><br><span class="line">    alpha = <span class="number">0.001</span>   <span class="comment"># å­¦ä¹ ç‡</span></span><br><span class="line">    maxCycles = <span class="number">505</span>   <span class="comment"># è¿­ä»£æ¬¡æ•°</span></span><br><span class="line">    weights = ones((n, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(maxCycles):  <span class="comment"># è¿­ä»£æ‹Ÿåˆå‚æ•°</span></span><br><span class="line">        h = sigmoid(dataMatrix * weights)  <span class="comment"># æ±‚h</span></span><br><span class="line">        error = (h - labelMat)    <span class="comment"># æ±‚è¯¯å·®é‡</span></span><br><span class="line">        weights=weights-alpha*dataMatrix.transpose()*error/len(dataMatrix)</span><br><span class="line">    <span class="keyword">return</span> weights</span><br></pre></td></tr></table></figure><h1 id="3-æ•°æ®é›†è¯´æ˜"><a href="#3-æ•°æ®é›†è¯´æ˜" class="headerlink" title="3.æ•°æ®é›†è¯´æ˜"></a>3.æ•°æ®é›†è¯´æ˜</h1><p>å‚è€ƒæ•°æ®é›†ç½‘å€: <a href="http://archive.ics.uci.edu/ml/" target="_blank" rel="noopener">http://archive.ics.uci.edu/ml/</a></p><p>æœ¬æ¬¡æœºå™¨å­¦ä¹ é€»è¾‘å›å½’ç®—æ³•å®ç°åˆ†ç±»ä½¿ç”¨çš„æ˜¯ç»å…¸æ•°æ®é›† Iris Dataï¼ˆé¸¢å°¾èŠ±æ•°æ®é›†ï¼‰ï¼Œæ•°æ®é›†åŒ…å«3ä¸ªç±»ï¼ˆIris Setosaã€Iris Versicolourã€Iris Virginicaï¼‰ï¼Œæ¯ä¸ªç±»æœ‰50ä¸ªå®ä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªç±»éƒ½æ¶‰åŠä¸€ç§é¸¢å°¾èŠ±å“ç§ã€‚é¢„æµ‹çš„å±æ€§ä¸ºé¸¢å°¾èŠ±æ¤ç‰©çš„ç±»åˆ«ã€‚</p><p>æ­¤æ¬¡ç®—æ³•å®ç°ä¸­åˆ æ‰äº†å…¶ä¸­ä¸€ä¸ªé¸¢å°¾èŠ±ç§ç±»ï¼Œç®—æ³•å¼•å…¥çš„æ•°æ®é›†åªåšé¸¢å°¾èŠ±ç§ç±»çš„äºŒåˆ†ç±»ï¼Œå¹¶ä¸”åˆ†åˆ«å°†é¸¢å°¾èŠ±ç§ç±»æ•°æ®é›†æŒ‰ 8ï¼š2 çš„æ¯”ä¾‹åˆ†ä¸ºè®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ã€‚</p><p>é¸¢å°¾èŠ±æ•°æ®é›†çš„å±æ€§ä¿¡æ¯ï¼š</p><ul><li>è¼ç‰‡é•¿åº¦ï¼ˆå˜ç±³ï¼‰</li><li>è¼ç‰‡å®½åº¦ï¼ˆå˜ç±³ï¼‰</li><li>èŠ±ç“£é•¿åº¦ï¼ˆå˜ç±³ï¼‰</li><li>èŠ±ç“£å®½åº¦ï¼ˆå˜ç±³ï¼‰</li></ul><p>é€»è¾‘å›å½’åˆ†ç±»ç®—æ³•çš„æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä½¿ç”¨é¸¢å°¾èŠ±çš„å…¨éƒ¨å››ä¸ªç‰¹å¾ï¼Œå°†é¸¢å°¾èŠ±æ ·æœ¬å¯è§†åŒ–åŠåˆ†ç±»å¯è§†åŒ–è¿‡ç¨‹é€‰å–äº†é¸¢å°¾èŠ±çš„å‰ä¸¤ä¸ªå±æ€§ï¼ˆè¼ç‰‡é•¿åº¦ã€è¼ç‰‡å®½åº¦ï¼‰ã€‚</p><h1 id="4-ç¨‹åºè¯´æ˜"><a href="#4-ç¨‹åºè¯´æ˜" class="headerlink" title="4.ç¨‹åºè¯´æ˜"></a>4.ç¨‹åºè¯´æ˜</h1><h2 id="4-1-è½½å…¥æ•°æ®é›†"><a href="#4-1-è½½å…¥æ•°æ®é›†" class="headerlink" title="4.1 è½½å…¥æ•°æ®é›†"></a>4.1 è½½å…¥æ•°æ®é›†</h2><p>å°†æºæ•°æ®é›†è½½å…¥ç®—æ³•ï¼Œå¹¶åˆå§‹å¤„ç†æ ·æœ¬ï¼Œå°†é¸¢å°¾èŠ±ç§ç±»åˆ†ä¸ºæ­£å‘ç±»å’Œè´Ÿå‘ç±»ã€‚å‡½æ•°è¿”å›é¸¢å°¾èŠ±çš„ç‰¹å¾å‘é‡å’Œå¯¹åº”çš„é¸¢å°¾èŠ±ç§ç±»å‘é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""è½½å…¥æ•°æ®é›†"""</span></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">path=<span class="string">"iris_train.data"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadDataSet</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""è¯»å–æ•°æ®"""</span></span><br><span class="line">    x_data=[]</span><br><span class="line">    y_data=[]</span><br><span class="line">    <span class="keyword">with</span> open(path) <span class="keyword">as</span> f_obj:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f_obj.readlines():</span><br><span class="line">            lineArr=line.strip().split(<span class="string">','</span>)</span><br><span class="line">            lineArr.insert(<span class="number">0</span>,<span class="number">1.0</span>)</span><br><span class="line">            <span class="keyword">if</span> (lineArr[<span class="number">-1</span>]==<span class="string">'Iris-setosa'</span>):</span><br><span class="line">                y_data.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">elif</span>(lineArr[<span class="number">-1</span>]==<span class="string">'Iris-versicolor'</span>):</span><br><span class="line">                y_data.append(<span class="number">1</span>)</span><br><span class="line">            x_data.append(list(map(float, lineArr[:<span class="number">-1</span>])))</span><br><span class="line">        <span class="keyword">return</span> x_data,y_data</span><br></pre></td></tr></table></figure><h2 id="4-2-åˆ†ç±»å¯è§†åŒ–"><a href="#4-2-åˆ†ç±»å¯è§†åŒ–" class="headerlink" title="4.2 åˆ†ç±»å¯è§†åŒ–"></a>4.2 åˆ†ç±»å¯è§†åŒ–</h2><h3 id="4-2-1-é¸¢å°¾èŠ±æ•°æ®é›†äºŒåˆ†ç±»"><a href="#4-2-1-é¸¢å°¾èŠ±æ•°æ®é›†äºŒåˆ†ç±»" class="headerlink" title="4.2.1 é¸¢å°¾èŠ±æ•°æ®é›†äºŒåˆ†ç±»"></a>4.2.1 é¸¢å°¾èŠ±æ•°æ®é›†äºŒåˆ†ç±»</h3><p>ä¸ºäº†ç›´è§‚ç†è§£åˆ†ç±»ç»“æœï¼Œä¾¿äºå¯è§†åŒ–ï¼Œåˆ©ç”¨matplotlibåº“çš„pyplotå‡½æ•°ï¼ŒæŒ‰ç…§é¸¢å°¾èŠ±æ•°æ®ç‰¹å¾ä¸­çš„è¼ç‰‡é•¿åº¦ã€è¼ç‰‡å®½åº¦å±æ€§ç»˜åˆ¶è®­ç»ƒæ•°æ®é›†çš„æ•£ç‚¹å›¾ï¼Œå¹¶ç»˜åˆ¶åˆ¤å®šè¾¹ç•Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plotBestFit</span><span class="params">(weights)</span>:</span></span><br><span class="line">    dataMat, labelMat = loadDataSet()</span><br><span class="line">    dataArr = array(dataMat)</span><br><span class="line">    n = shape(dataArr)[<span class="number">0</span>]</span><br><span class="line">    xcord1,xcord2 = [],[]</span><br><span class="line">    ycord1,ycord2 = [],[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">if</span> int(labelMat[i]) == <span class="number">1</span>:</span><br><span class="line">            xcord1.append(dataArr[i, <span class="number">1</span>])</span><br><span class="line">            ycord1.append(dataArr[i, <span class="number">2</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            xcord2.append(dataArr[i, <span class="number">1</span>])</span><br><span class="line">            ycord2.append(dataArr[i, <span class="number">2</span>])</span><br><span class="line">    fig = plt.figure()</span><br><span class="line">    ax = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">    ax.scatter(xcord1, ycord1, s=<span class="number">30</span>, c=<span class="string">'red'</span>, marker=<span class="string">'s'</span>)</span><br><span class="line">    ax.scatter(xcord2, ycord2, s=<span class="number">30</span>, c=<span class="string">'green'</span>)</span><br><span class="line">    x = arange(<span class="number">3.0</span>, <span class="number">8.0</span>, <span class="number">0.1</span>)</span><br><span class="line">    y = (-(float)(weights[<span class="number">0</span>][<span class="number">0</span>]) - (float)(weights[<span class="number">1</span>][<span class="number">0</span>]) * x) / (float)(weights[<span class="number">2</span>][<span class="number">0</span>])</span><br><span class="line">    ax.plot(x, y)</span><br><span class="line">    plt.title(<span class="string">'Iris data set classification'</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">    plt.xlabel(<span class="string">'Sepal length'</span>)</span><br><span class="line">    plt.ylabel(<span class="string">'Sepal width'</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><h3 id="4-2-åˆ†ç±»ç»“æœ"><a href="#4-2-åˆ†ç±»ç»“æœ" class="headerlink" title="4.2 åˆ†ç±»ç»“æœ"></a>4.2 åˆ†ç±»ç»“æœ</h3><p><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/10/12/0RzjyV.png" alt=""></p><h2 id="4-3-é¸¢å°¾èŠ±æµ‹è¯•é›†é¢„æµ‹"><a href="#4-3-é¸¢å°¾èŠ±æµ‹è¯•é›†é¢„æµ‹" class="headerlink" title="4.3 é¸¢å°¾èŠ±æµ‹è¯•é›†é¢„æµ‹"></a>4.3 é¸¢å°¾èŠ±æµ‹è¯•é›†é¢„æµ‹</h2><h3 id="4-3-1-é¢„æµ‹å‡½æ•°"><a href="#4-3-1-é¢„æµ‹å‡½æ•°" class="headerlink" title="4.3.1 é¢„æµ‹å‡½æ•°"></a>4.3.1 é¢„æµ‹å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predictClass</span><span class="params">()</span>:</span></span><br><span class="line">    x,y=[],[]</span><br><span class="line">    dataMat = loadDataSet()</span><br><span class="line">    print(len(mat(dataMat)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(mat(dataMat))):</span><br><span class="line">        <span class="comment"># æ¢¯åº¦ä¸‹é™ç®—æ³•æ‹Ÿåˆçš„æœ€ä¼˜å‚æ•°</span></span><br><span class="line">        weights= [<span class="number">0.75401377</span>,<span class="number">-0.2401068</span>,<span class="number">0.15175685</span>,<span class="number">0.64057407</span>,<span class="number">0.93906922</span>]</span><br><span class="line">        z=mat(weights[:<span class="number">-2</span>])*mat(dataMat[i][:<span class="number">-2</span>]).transpose()</span><br><span class="line">        x.append(z)</span><br><span class="line">        h=sigmoid(mat(weights[:<span class="number">-2</span>])*mat(dataMat[i][:<span class="number">-2</span>]).transpose())</span><br><span class="line">        y.append(h)</span><br><span class="line">    <span class="keyword">return</span> x,y</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scatterClass</span><span class="params">()</span>:</span></span><br><span class="line">    x,y=predictClass()</span><br><span class="line">    plt.scatter(x, y, c=<span class="string">'red'</span>,s=<span class="number">40</span>)</span><br><span class="line">    <span class="comment"># è®¾ç½®åæ ‡è½´çš„å–å€¼èŒƒå›´</span></span><br><span class="line">    plt.axis([<span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><h3 id="4-3-2-é¢„æµ‹ç»“æœ"><a href="#4-3-2-é¢„æµ‹ç»“æœ" class="headerlink" title="4.3.2 é¢„æµ‹ç»“æœ"></a>4.3.2 é¢„æµ‹ç»“æœ</h3><p>æµ‹è¯•å¯è§†åŒ–è¿‡ç¨‹åªé€‰å–äº†æ¢¯åº¦ä¸‹é™æ³•å¾—åˆ°çš„å‰ä¸‰ä¸ªæœ€ä¼˜æƒå€¼ï¼Œä»¥æ­¤è®¡ç®—é¢„æµ‹ç»“æœï¼ˆsigmoidå‡½æ•°å€¼ï¼‰ã€‚</p><p><a href="https://imgchr.com/i/0HUIr6" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/10/16/0HUIr6.png" alt=""></a></p><p>é¸¢å°¾èŠ±æµ‹è¯•æ•°æ®é›†ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">5.1,3.5,1.4,0.2,Iris-setosa</span><br><span class="line">4.9,3.0,1.4,0.2,Iris-setosa</span><br><span class="line">4.7,3.2,1.3,0.2,Iris-setosa</span><br><span class="line">4.6,3.1,1.5,0.2,Iris-setosa</span><br><span class="line">5.0,3.6,1.4,0.2,Iris-setosa</span><br><span class="line">5.4,3.9,1.7,0.4,Iris-setosa</span><br><span class="line">4.6,3.4,1.4,0.3,Iris-setosa</span><br><span class="line">5.0,3.4,1.5,0.2,Iris-setosa</span><br><span class="line">4.4,2.9,1.4,0.2,Iris-setosa</span><br><span class="line">4.9,3.1,1.5,0.1,Iris-setosa</span><br><span class="line">7.0,3.2,4.7,1.4,Iris-versicolor</span><br><span class="line">6.4,3.2,4.5,1.5,Iris-versicolor</span><br><span class="line">6.9,3.1,4.9,1.5,Iris-versicolor</span><br><span class="line">5.5,2.3,4.0,1.3,Iris-versicolor</span><br><span class="line">6.5,2.8,4.6,1.5,Iris-versicolor</span><br><span class="line">5.7,2.8,4.5,1.3,Iris-versicolor</span><br><span class="line">6.3,3.3,4.7,1.6,Iris-versicolor</span><br><span class="line">4.9,2.4,3.3,1.0,Iris-versicolor</span><br><span class="line">6.6,2.9,4.6,1.3,Iris-versicolor</span><br><span class="line">5.2,2.7,3.9,1.4,Iris-versicolor</span><br></pre></td></tr></table></figure><p>ç”±æ¨¡å‹æµ‹è¯•å›¾å¯çœ‹å‡ºæµ‹è¯•ç»“æœå¯è¾¨ã€‚</p><h1 id="5-é™„å½•"><a href="#5-é™„å½•" class="headerlink" title="5.é™„å½•"></a>5.é™„å½•</h1><p>load_data.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""è½½å…¥æ•°æ®é›†"""</span></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line">path=<span class="string">"iris_train.data"</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadDataSet</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""è¯»å–æ•°æ®"""</span></span><br><span class="line">    x_data=[]</span><br><span class="line">    y_data=[]</span><br><span class="line">    <span class="keyword">with</span> open(path) <span class="keyword">as</span> f_obj:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f_obj.readlines():</span><br><span class="line">            lineArr=line.strip().split(<span class="string">','</span>)</span><br><span class="line">            lineArr.insert(<span class="number">0</span>,<span class="number">1.0</span>)</span><br><span class="line">            <span class="keyword">if</span> (lineArr[<span class="number">-1</span>]==<span class="string">'Iris-setosa'</span>):</span><br><span class="line">                y_data.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">elif</span>(lineArr[<span class="number">-1</span>]==<span class="string">'Iris-versicolor'</span>):</span><br><span class="line">                y_data.append(<span class="number">1</span>)</span><br><span class="line">            x_data.append(list(map(float, lineArr[:<span class="number">-1</span>])))</span><br><span class="line">        <span class="keyword">return</span> x_data,y_data</span><br></pre></td></tr></table></figure><p>sigmoid.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#å®šä¹‰sigmoidå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(<span class="number">1</span>+np.exp(-z))</span><br></pre></td></tr></table></figure><p>gradascent.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sigmoid <span class="keyword">import</span> sigmoid</span><br><span class="line"><span class="keyword">from</span> load_data <span class="keyword">import</span> loadDataSet</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradAscent</span><span class="params">(dataMatIn, classLabels)</span>:</span></span><br><span class="line">    dataMatrix = mat(dataMatIn)  <span class="comment"># è½¬æ¢ä¸ºçŸ©é˜µ</span></span><br><span class="line">    labelMat = mat(classLabels).transpose()  <span class="comment"># è½¬æ¢ä¸ºçŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">    m, n = shape(dataMatrix)</span><br><span class="line">    alpha = <span class="number">0.001</span>   <span class="comment"># å­¦ä¹ ç‡</span></span><br><span class="line">    maxCycles = <span class="number">505</span>   <span class="comment"># è¿­ä»£æ¬¡æ•°</span></span><br><span class="line">    weights = ones((n, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(maxCycles):  <span class="comment"># è¿­ä»£æ‹Ÿåˆå‚æ•°</span></span><br><span class="line">        h = sigmoid(dataMatrix * weights)  <span class="comment"># æ±‚h</span></span><br><span class="line">        error = (h - labelMat)    <span class="comment"># æ±‚è¯¯å·®é‡</span></span><br><span class="line">        weights=weights-alpha*dataMatrix.transpose()*error/len(dataMatrix)</span><br><span class="line">    <span class="keyword">return</span> weights</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetResult</span><span class="params">()</span>:</span></span><br><span class="line">    dataMat, labelMat = loadDataSet()</span><br><span class="line">    weights = gradAscent(dataMat, labelMat)</span><br><span class="line">    print(weights)</span><br><span class="line">    plotBestFit(weights)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plotBestFit</span><span class="params">(weights)</span>:</span></span><br><span class="line">    dataMat, labelMat = loadDataSet()</span><br><span class="line">    dataArr = array(dataMat)</span><br><span class="line">    n = shape(dataArr)[<span class="number">0</span>]</span><br><span class="line">    xcord1,xcord2 = [],[]</span><br><span class="line">    ycord1,ycord2 = [],[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">if</span> int(labelMat[i]) == <span class="number">1</span>:</span><br><span class="line">            xcord1.append(dataArr[i, <span class="number">1</span>])</span><br><span class="line">            ycord1.append(dataArr[i, <span class="number">2</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            xcord2.append(dataArr[i, <span class="number">1</span>])</span><br><span class="line">            ycord2.append(dataArr[i, <span class="number">2</span>])</span><br><span class="line">    fig = plt.figure()</span><br><span class="line">    ax = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">    ax.scatter(xcord1, ycord1, s=<span class="number">30</span>, c=<span class="string">'red'</span>, marker=<span class="string">'s'</span>)</span><br><span class="line">    ax.scatter(xcord2, ycord2, s=<span class="number">30</span>, c=<span class="string">'green'</span>)</span><br><span class="line">    x = arange(<span class="number">3.0</span>, <span class="number">8.0</span>, <span class="number">0.1</span>)</span><br><span class="line">    y = (-(float)(weights[<span class="number">0</span>][<span class="number">0</span>]) - (float)(weights[<span class="number">1</span>][<span class="number">0</span>]) * x) / (float)(weights[<span class="number">2</span>][<span class="number">0</span>])</span><br><span class="line">    ax.plot(x, y)</span><br><span class="line">    plt.title(<span class="string">'Iris data set classification'</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">    plt.xlabel(<span class="string">'Sepal length'</span>)</span><br><span class="line">    plt.ylabel(<span class="string">'Sepal width'</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    GetResult()</span><br></pre></td></tr></table></figure><p>predice_classfication.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sigmoid <span class="keyword">import</span> sigmoid</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">path=<span class="string">"iris_test.data"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadDataSet</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""è¯»å–æ•°æ®"""</span></span><br><span class="line">    x_data=[]</span><br><span class="line">    <span class="keyword">with</span> open(path) <span class="keyword">as</span> f_obj:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f_obj.readlines():</span><br><span class="line">            lineArr=line.strip().split(<span class="string">','</span>)</span><br><span class="line">            lineArr.insert(<span class="number">0</span>,<span class="number">1.0</span>)</span><br><span class="line">            x_data.append(list(map(float, lineArr[:<span class="number">-1</span>])))</span><br><span class="line">        <span class="keyword">return</span> x_data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predictClass</span><span class="params">()</span>:</span></span><br><span class="line">    x,y=[],[]</span><br><span class="line">    dataMat = loadDataSet()</span><br><span class="line">    print(len(mat(dataMat)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(mat(dataMat))):</span><br><span class="line">        weights= [<span class="number">0.75401377</span>,<span class="number">-0.2401068</span>,<span class="number">0.15175685</span>,<span class="number">0.64057407</span>,<span class="number">0.93906922</span>]</span><br><span class="line">        print(<span class="string">'z'</span>,mat(weights[:<span class="number">-2</span>])*mat(dataMat[i][:<span class="number">-2</span>]).transpose())</span><br><span class="line">        z=mat(weights[:<span class="number">-2</span>])*mat(dataMat[i][:<span class="number">-2</span>]).transpose()</span><br><span class="line">        x.append(z)</span><br><span class="line">        h=sigmoid(mat(weights[:<span class="number">-2</span>])*mat(dataMat[i][:<span class="number">-2</span>]).transpose())</span><br><span class="line">        y.append(h)</span><br><span class="line">        print(<span class="string">'h'</span>,h)</span><br><span class="line">    <span class="keyword">return</span> x,y</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scatterClass</span><span class="params">()</span>:</span></span><br><span class="line">    x,y=predictClass()</span><br><span class="line">    plt.scatter(x, y, c=<span class="string">'red'</span>,s=<span class="number">40</span>)</span><br><span class="line">    <span class="comment"># è®¾ç½®åæ ‡è½´çš„å–å€¼èŒƒå›´</span></span><br><span class="line">    plt.axis([<span class="number">-0.75</span>, <span class="number">0.75</span>, <span class="number">0.2</span>, <span class="number">0.8</span>])</span><br><span class="line">    plt.title(<span class="string">'Iris data set prediction'</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">    plt.xlabel(<span class="string">'Z'</span>)</span><br><span class="line">    plt.ylabel(<span class="string">'Sigmoid'</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    predictClass()</span><br><span class="line">    scatterClass()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Machine-Learning </tag>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonæ•°æ®å¯è§†åŒ–â€”â€”å‡½æ•°å›¾åƒç»˜åˆ¶</title>
      <link href="/2020/10/09/Python-data-visualization/"/>
      <url>/2020/10/09/Python-data-visualization/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>åˆ©ç”¨pythonçš„matplotlibåº“è¿›è¡Œæ•°æ®å¯è§†åŒ–ï¼Œç»˜åˆ¶å®šä¹‰å‡½æ•°çš„å›¾åƒã€‚</p><p>ä»¥æœºå™¨å­¦ä¹ é€»è¾‘å›å½’çš„sigmoidå‡½æ•°ä¸ºä¾‹ï¼š</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=g\left&space;(&space;z&space;\right&space;)=\frac{1}{1&plus;e^{-z}}" target="_blank"><img src="/loading.gif" data-original="https://latex.codecogs.com/gif.latex?g\left&space;(&space;z&space;\right&space;)=\frac{1}{1&plus;e^{-z}}" title="g\left ( z \right )=\frac{1}{1+e^{-z}}" /></a></p><p>pythonä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰sigmoidå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(<span class="number">1</span>+np.exp(-z))</span><br></pre></td></tr></table></figure><a id="more"></a><p>å‡½æ•°å›¾åƒä¸ºï¼š</p><p><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/gh/wnxy/wnxy_pic@master/img/sigmoid.png" alt=""></p><p>ä»¥ä¸‹å¯¹python matplotlibåº“ç»˜åˆ¶å‡½æ•°å›¾åƒåšç®€å•æè¿°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰sigmoidå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(<span class="number">1</span>+np.exp(-z))</span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨-10åˆ°10ä¹‹é—´ç”Ÿæˆ1000ä¸ªxå€¼</span></span><br><span class="line">x=np.linspace(<span class="number">-10</span>,<span class="number">10</span>,<span class="number">1000</span>)</span><br><span class="line">y=sigmoid(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–å½“å‰çš„åæ ‡è½´, gca = get current axis</span></span><br><span class="line">ax=plt.gca()</span><br><span class="line"><span class="comment">#è®¾ç½®å³è¾¹æ¡†å’Œä¸Šè¾¹æ¡†</span></span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"><span class="comment">#è®¾ç½®xåæ ‡è½´ä¸ºä¸‹è¾¹æ¡†</span></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line"><span class="comment">#è®¾ç½®yåæ ‡è½´ä¸ºå·¦è¾¹æ¡†</span></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line"><span class="comment">#è®¾ç½®xè½´, yå‘¨åœ¨(0, 0)çš„ä½ç½®</span></span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Machine-Learning </tag>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
            <tag> Matplotlib </tag>
            
            <tag> å‡½æ•°å›¾åƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Melodyåšå®¢ä¸è’œå­ç»Ÿè®¡æ— æ³•æ˜¾ç¤ºé—®é¢˜è§£å†³</title>
      <link href="/2020/09/19/Hexo-melody-blog-beautification1/"/>
      <url>/2020/09/19/Hexo-melody-blog-beautification1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.jianshu.com/p/0befb34dce16" target="_blank" rel="noopener">https://www.jianshu.com/p/0befb34dce16</a></p><p>å­˜åœ¨é—®é¢˜ï¼šå·²å‘å¸ƒçš„hexo melodyä¸»é¢˜åšå®¢ä¸è’œå­ç»Ÿè®¡ä¸èƒ½æ˜¾ç¤º</p><p>è§£å†³ï¼šä¿®æ”¹\themes\melody\layout\includes\countè·¯å¾„ä¸‹busuanzi.pugæ–‡ä»¶</p><a id="more"></a><p>åŸæ–‡ä»¶ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">.busuanzi</span><br><span class="line">  script(async src&#x3D;&quot;&#x2F;&#x2F;busuanzi.ibruce.info&#x2F;busuanzi&#x2F;2.3&#x2F;busuanzi.pure.mini.js&quot;)</span><br><span class="line">  if(!is_post())</span><br><span class="line">    if(theme.busuanzi.site_uv)</span><br><span class="line">      span#busuanzi_container_site_uv!&#x3D; theme.busuanzi.site_uv_header         &lt;----æ”¹</span><br><span class="line">        span#busuanzi_value_site_uv</span><br><span class="line">        span!&#x3D;theme.busuanzi.site_uv_footer</span><br><span class="line">    if(theme.busuanzi.site_pv)</span><br><span class="line">      if(theme.busuanzi.site_pv)</span><br><span class="line">        span.footer-separator |</span><br><span class="line">      span#busuanzi_container_site_pv!&#x3D; theme.busuanzi.site_pv_header         &lt;----æ”¹</span><br><span class="line">        span#busuanzi_value_site_pv</span><br><span class="line">        span!&#x3D;theme.busuanzi.site_pv_footer</span><br><span class="line">  else</span><br><span class="line">    if(theme.busuanzi.page_pv)</span><br><span class="line">      span#busuanzi_container_page_pv!&#x3D; theme.busuanzi.page_pv_header         &lt;----æ”¹</span><br><span class="line">        span#busuanzi_value_page_pv</span><br><span class="line">        span!&#x3D;theme.busuanzi.page_pv_footer</span><br><span class="line">    else</span><br><span class="line">      if(theme.busuanzi.site_uv)</span><br><span class="line">        span#busuanzi_container_site_uv!&#x3D; theme.busuanzi.site_uv_header       &lt;----æ”¹</span><br><span class="line">          span#busuanzi_value_site_uv</span><br><span class="line">          span!&#x3D;theme.busuanzi.site_uv_footer</span><br><span class="line">      if(theme.busuanzi.site_pv)</span><br><span class="line">        if(theme.busuanzi.site_pv)</span><br><span class="line">          span.footer-separator |</span><br><span class="line">        span#busuanzi_container_site_pv!&#x3D; theme.busuanzi.site_pv_header       &lt;----æ”¹</span><br><span class="line">          span#busuanzi_value_site_pv</span><br><span class="line">          span!&#x3D;theme.busuanzi.site_pv_footer</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åæ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">.busuanzi</span><br><span class="line">  script(async src&#x3D;&quot;&#x2F;&#x2F;busuanzi.ibruce.info&#x2F;busuanzi&#x2F;2.3&#x2F;busuanzi.pure.mini.js&quot;)</span><br><span class="line">  if(!is_post())</span><br><span class="line">    if(theme.busuanzi.site_uv)</span><br><span class="line">      span!&#x3D; theme.busuanzi.site_uv_header</span><br><span class="line">        span#busuanzi_value_site_uv</span><br><span class="line">        span!&#x3D;theme.busuanzi.site_uv_footer</span><br><span class="line">    if(theme.busuanzi.site_pv)</span><br><span class="line">      if(theme.busuanzi.site_pv)</span><br><span class="line">        span.footer-separator |</span><br><span class="line">      span!&#x3D; theme.busuanzi.site_pv_header</span><br><span class="line">        span#busuanzi_value_site_pv</span><br><span class="line">        span!&#x3D;theme.busuanzi.site_pv_footer</span><br><span class="line">  else</span><br><span class="line">    if(theme.busuanzi.page_pv)</span><br><span class="line">      span!&#x3D; theme.busuanzi.page_pv_header</span><br><span class="line">        span#busuanzi_value_page_pv</span><br><span class="line">        span!&#x3D;theme.busuanzi.page_pv_footer</span><br><span class="line">    else</span><br><span class="line">      if(theme.busuanzi.site_uv)</span><br><span class="line">        span!&#x3D; theme.busuanzi.site_uv_header</span><br><span class="line">          span#busuanzi_value_site_uv</span><br><span class="line">          span!&#x3D;theme.busuanzi.site_uv_footer</span><br><span class="line">      if(theme.busuanzi.site_pv)</span><br><span class="line">        if(theme.busuanzi.site_pv)</span><br><span class="line">          span.footer-separator |</span><br><span class="line">        span!&#x3D; theme.busuanzi.site_pv_header</span><br><span class="line">          span#busuanzi_value_site_pv</span><br><span class="line">          span!&#x3D;theme.busuanzi.site_pv_footer</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åä¸è’œå­æ˜¾ç¤ºæ­£å¸¸ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Melody </tag>
            
            <tag> åšå®¢ç¾åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ˜Ÿå…‰ä¸è´Ÿèµ¶è·¯äºº...</title>
      <link href="/2020/08/11/Starlight-lives-up-to-the-traveler/"/>
      <url>/2020/08/11/Starlight-lives-up-to-the-traveler/</url>
      
        <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Welcome to my blog, enter password to read.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="041166ff4c12570141e825e24b8f1037ad570f6b0dbb39a24673ca7d1b8e2178">d0d703fa332139beb12ceb85f23df7fc2dd2ad6c1e2d88c79a07ca82a4c752383c4b274b70abf24c2627b91511ca38c6827a85fb24bb1d405ef366f63d449475cc7e7021b2f42aea7973805ef690a099be12a8caa2ffdf6dbc9f6212144592fad5a584f16d9cbcc534663cce7d13c5205693b5799467cdca4f31b1eb3da117c4464e9d65e8d2ea086423bfac557b55b88f807ccf0b25016324b2051db850900f99f12708a26a6549e44778d76c46ce31d1a6d64c5e9d8db63da0630457acc014c67941c9a3f8ca646afc155801e88b3509b175e7ac010b442778b88935322dc16758351f90281084ecfd1b06f21cb5a1c4e1255c460c67ea328840963b1ad7b1f852cafe5fdc6953ede3c0673d806bfa3992f6dd31de32c90c355e64e61f782a01dd4ec9754b3e58ce682d7ebafa8936892e07cc0e9ad798833c0cef755a13e67ad45bb2fe8786847e49cd7f05b40f337d3fa9e88d4a34a1b40f82dbaf94cca5a1e56745f5d7142fd61df013d5559425344050fa67e0d3b8063cd0fca30baaa9953891ba1fb89a1c6bca41865c52fe33c02abb579bf67cbb95937dd057cc086349c1477d3b9afdc4f684a1fb23e181bca72b825f582f1e38c37cc156e788bb623f2a7d451e18ac030fa0c04cbd2b28a472519ff52826d31d4a013a00910a82a6432aca1d25277880315953a0b34158427562c6804989f1a32271460b6660c99bba95445298cc42709d2a56c12bfdf4c0faaea1588fb134f69f65935a5e0c6b1fc3518140bb26c35b9eb599fe47ebc63a9404b21daa7f89931e259baf01b7e5256c5450a57c29ce4a7ea7e457108666e8cf001800e44b04608d62c1ac06b4b4d5c1edb1b3aff8e74249fff98c699f8f9e8c998368a557c38c07584c809205c8138a91b6f774bf15582315a60e43736f7576da3f45e598c92f5292cedc7bee97c12c1c12e5b1b1f8e479f50b995ae13780a9e92b521165ce912519184d5c2642ed329d2c45dac2b0d90279103026deaa18b6d09c5553948bd70f892d9dcd04342f6cde9c9afa36c0fd3c852ae8f4386f49f12d8d20b72e80ebb7298bb440e67334e00a3c6b5d2ae9e4086906e8266a4732e6d6e9b38293d4ff9fc4df6fe4d72333d7faf76b8fc9cf2bfd2df68297b3dc9faeb46d52225b8477b45cdd1c58379b78fa2dceef18862ad6437942384d0257d070dca81740ba87f33fad03b7493cbbc159158406cecad04d0668ce8e21557b43e7d49d17f6c3c3636a4fd52ae0809666845a961f7bec20db60fc8e53ca4c508af57b58c242cde427bbf815cc36ad851a7eaad5ab7487bdd941da4ecb969dc7ec1689efb832e0ba990e2e7da29a9289cf093c9492978980bcebbf56a1ae6e402886b4ab7c8e97098655c0c607ca68af147e73cd337891a589f616f71a45cfce865d4c4ffe7dd7d5fddcfdb65059ddbbb27ff431cdb0f42833aae158e126a3886d57161fc24194f3d10a9470a04f76092c33ef060d2a72051d475a61fff2677e85a2b393399e795f287716f9e97228bbb14406c2eb7d904d6c05e90d6f7db9db768c7e2f9e84070e1aad55a34d6ca41538855c0493ac397cff052ba74c9752fb05f0026ed29711c5f18e85853b37f4cc3045338258e62b16dec88503353faf2a023244516c299dd8a696d58554c25f1e9f8d1a021a5550c73d0ebfadf1d4c5f60adadc95fa219e3ef8169f517a8e2988e8d9480da31dcdbcb3b414e4b55b2091ffb2c3079977a535de96e77562664f5d9ae8ddea1282e12f4c3d357fadb3a971588e9221d153ee8a0427920e21c810964bfce016d91c15fc4329eff47521e3159f96acd9e872b480cca17829e991979a3f8ea613a4f6935ae72bc7de3b154af2ac9eac970891f6ee4406dbb7a812044bf8455f7744805459c25698ba1c27cc0534ca85e502f147e1c0a266a5de64a3a20504230868188d86a7077dd7f8db289e1b722f5fcc39b41fddec8366061d06511dfdf939b23b944001b1167dae5b795292c03f686a3dc9dcdfcffc71dc35d12106735c5ff2ee3c447d97d6e0c883b06fab2ce76ca1953c6b5439b69f4fc3d6744fbe4fbb9b65fa05c1c27546cab816a617562057bec889979b53a72c0ebcf5b4f330054eeb7b4dc5e87b4ce959413794844bf0ab020e517fe241bd53a3be51181c72c39436e328484c3b6923c98031d889273af786fb6fca29fb5e6a4fc4ea25c98f94c4412a3e4e173a7b05772d1facdf0804b9e4261e79c71e3cfe468bc3072061530d405f1f3c4f0931b7632337304731d0df617732d1c803a663ba80e9462823b0e6243d4439abe0bbde13fbe1d671b6662f58ec2b3776ac454cf2cbb6582f46c4ad6cef499f91a3696ce6a764c83aca0daa1851265bbf71b4005939bd587ecf3c10c2cc7f87630138b13696a437de48aa63b83b69a7ee070444a2c87616450ea2e3a7f49aae14fb4c88ddee2fee213e77d8c7b25cdfa9a24dbbdc0574a10e7cb3d26bb1d692bc5bec27811a1594f7588b85fed273afbf9a019e6ca7cd1f17434d1f0e7c37f6d17ed85b779c34083aadb6a14d9b83bc6a41d2548ba6195b10310eff31afa17e6c6b0cbefa0fbce570624296d118ac491310ad9bfb31c4fa273a9a1c0b3fbfd5127b7c0e79177441ecac05ee58465f68a88ed82b422b252c2c74242718d84ac88ec08addf6af7588eb6fd7855ab9813d76941ff98df72cb0018f301a0000b09ba8ef3540444b7a08f6a85ce1885e28c0c4c42be1b1f593a7c6b3a9d60443187af13dba92356586abaa077e936867bbffd5f99d9070e6a5e4eebe329d7796b210b139b6243f70e4758b670f7656146b09c353c23de41626fcf9e0dc04893928a26c4415dc92c89d14eeae985a77603f29e92a2f64c3a4511f37c6810a6165eb70a6644b31cadf1f3aab8c90906626a9b907f5f81b31e8885442f224b3e477369e8630e9c5c6736cc3bf069cb6d09a55ba15f5f8a410d162e9899a7ae305c4e2f89fc9627eeae4e51fea6b1c4052ecf554506fc403464f1393050bf09bdec91c30f82caa0ee124b21f1f647d37a372f89f2f1e3b448f75a5755d455cf52c9422fff68a114c64c252831ca49839117b63dd5f0a148703faffdd43ddfe0053a7b1170ae42be4563fa110ce8642cafebc712a4c3e6a370ee8ac4c0114ebfc70b13ffd63e35840d47ddf9d2eacf1dfc05c38c36374a7bf7b6d0f81251a00b4a6950d9a604934782a14c2f4e57db11d780174abc28a4f073d6cc42adb164b46771fd2d1532ef8348548b0741fdc7a30ad38aec863f4c4fdeed4f8b51677d67ccb67e0469d6fc400b9bdf41bd47332a66db77c70ccbed3f96c671fd7657ad084e14e69405d344378a5f81385f4626158bd0d5f2c63b0df9d20b97b72b0616f7bc039aadcaf1d1142d2a2bb1a64c76d7815a270f006760ac65d523316e805f9c4d9028cc7f882377ab9e4e1a77981ea6703ab4fd00a4519e3ad0405d0944ec5fc8385bd2dc52dc615f36f6190f18faf867109d6fc8fddcae1924ea463af50efd905cf1d1f2f394151ad904e46ee6f03f8c14a294e1848190797d8fd3daf70f41eee0ee224d96ab6dead4af929500cb9e808b63b543c38171c0c6fa5c3646f6c2343bcb28e35f329557efcef2095c0b25a1f8199fefbfbc16e26ba23c51f0481a2975b6749b02ce6245e2ee6d668c1ee2b9b2b0d66268fd002c9793a7fd5558afde5113321eb00cd7a6dfa98a8ba9dad4eb74e406eed6e13f0b56964437f3f0383193f0522118457420bd2c8bf3d3a1b31010adff8237f1999e9053688bf5796403ff331cd94387ad3e7897aa3eced58da39a05e162ed3b3af4eaeb4cec6dcbd4ce5847d303f30c27b3e2b57c4cc65aac8474e23846fd9b7e4514122a9ac19dca922467feeb3b50a074f8fc1542ec9a79d8da0e1a47ee3ade2ae473ea295688c81dbab7a9ab34e0467a710aca232a40e04d6872fa2d675438751cf1fe888d6b48a3fcf3477142ccfe4adacffcd415a21d832b836198114b318eb86878f58c6bd0a8728b72d611d5b64013b31a9b814b4ac59cebe55bcc8902f048b81ac06fe049e272253d574881a448fcda568364ba643fc33d89dae6583ceb7c149b3c946a3c2513e06da4c8e9d948d210494c611a1c68020fc52b51c53430e0e6e838066b5d8d9c40557c5df2a04a4e60ff17e14c0dc0e97a04d2217cf85821f3ad194a1ae907e7335ddf37d823b50fc8cdebc8303adb3a4c6033119458a1eb539a7cd897ee02557a99d999ad5d9e2249d19c6a3edb85583c8bb5f2d3dab59bc65436e2b1bee6e305ef662b1b94d91c16ace8b</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> éšç¬”/æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èå°”æ—¥è®° </tag>
            
            <tag> è€ƒç ” </tag>
            
            <tag> rainæ‚è´§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>github-readme-statsåˆ¶ä½œä¸ªæ€§GitHubç®€ä»‹page</title>
      <link href="/2020/07/20/github-readme-stats-Make-a-personalized-GitHub-profile-page/"/>
      <url>/2020/07/20/github-readme-stats-Make-a-personalized-GitHub-profile-page/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>åœ¨GitHubåˆ›å»ºä¸€ä¸ªè·Ÿç”¨æˆ·åä¸€æ ·çš„é¡¹ç›®ï¼Œæœ€ç»ˆä¼šåœ¨è‡ªå·±çš„GitHubé¦–é¡µç”Ÿæˆä¸€ä¸ªä¸ªæ€§ä»‹ç»æ¿å—ã€‚</p><blockquote><p>You found a secret! <strong>nxyrain/nxyrain</strong>is a âœ¨<em>special</em> âœ¨ repository that you can use to add a <code>README.md</code> to your GitHub profile. Make sure itâ€™s public and initialize it with a <strong>README</strong> to get started.</p></blockquote><a id="more"></a><h3 id="ä¸€ã€åˆ›å»ºé¡¹ç›®"><a href="#ä¸€ã€åˆ›å»ºé¡¹ç›®" class="headerlink" title="ä¸€ã€åˆ›å»ºé¡¹ç›®"></a>ä¸€ã€åˆ›å»ºé¡¹ç›®</h3><p><a href="https://imgchr.com/i/UfzoAx" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/07/20/UfzoAx.md.png" alt="åˆ›å»ºé¡¹ç›®"></a></p><p><strong>æ³¨æ„ï¼š</strong></p><p><strong>1ã€é¡¹ç›®åå’Œç”¨æˆ·åè¦ä¸€è‡´ã€‚</strong></p><p><strong>2ã€é¡¹ç›®è¦å…¬å¼€ï¼Œå‹¾é€‰Publicã€‚</strong></p><p><strong>3ã€é¡¹ç›®éœ€è¦åˆå§‹åŒ–ï¼Œå‹¾é€‰åˆ›å»ºREADMEã€‚</strong></p><p>ä¸ªäººé¦–é¡µæœ€ä¸Šé¢å°±å‡ºç°äº†ä¸ªæ€§ä»‹ç»æ¿å—ã€‚</p><p><a href="https://imgchr.com/i/UhC2I1" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/07/20/UhC2I1.md.png" alt="Hi there"></a></p><h3 id="äºŒã€ç¼–è¾‘ä¸ªæ€§ä»‹ç»æ¿å—"><a href="#äºŒã€ç¼–è¾‘ä¸ªæ€§ä»‹ç»æ¿å—" class="headerlink" title="äºŒã€ç¼–è¾‘ä¸ªæ€§ä»‹ç»æ¿å—"></a>äºŒã€ç¼–è¾‘ä¸ªæ€§ä»‹ç»æ¿å—</h3><p><a href="https://imgchr.com/i/UhFGrD" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/07/20/UhFGrD.md.png" alt=""></a></p><p>æ·»åŠ å†…å®¹</p><p><a href="https://imgchr.com/i/UhknOS" target="_blank" rel="noopener"><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/07/20/UhknOS.md.png" alt=""></a></p><p>READMEæ”¯æŒMarkdownè¯­æ³•ï¼Œç¼–è¾‘å®Œæˆç‚¹å‡»Preview Changesé¢„è§ˆç¼–è¾‘æ•ˆæœï¼Œç¼–è¾‘å®Œæˆæäº¤ä¿®æ”¹å³å¯çœ‹è§ä¸ªæ€§ä»‹ç»é¡µæ•ˆæœã€‚</p><p>æœ€åï¼Œå®‰åˆ©ä¸€ä¸ªGitHub Readme Statsé¡¹ç›®ï¼Œç”¨æ¥åœ¨ä½ çš„ README ä¸­ è·å–åŠ¨æ€ç”Ÿæˆçš„GitHubç»Ÿè®¡ä¿¡æ¯ï¼<a href="https://github.com/anuraghazra/github-readme-stats" target="_blank" rel="noopener">é¡¹ç›®åœ°å€</a></p><p>å®ç°æ•ˆæœï¼š</p><p><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/07/20/UhEmVg.png" alt=""></p><p><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/07/20/UhEu5j.png" alt=""></p><p><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/07/20/UhEnaQ.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
            <tag> å¼€æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯•ä¸šå­£â€”â€”å¤§å­¦è·¯1å·çš„æ—¶å…‰</title>
      <link href="/2020/06/22/Graduation-season-Time-at-No.1-University-Road/"/>
      <url>/2020/06/22/Graduation-season-Time-at-No.1-University-Road/</url>
      
        <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Welcome to my blog, enter password to read.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="a9009c374d4b7cfb1d66a661a08dea589685c97ea8d62e599fb0b1c5ef40fe7c">d0d703fa332139beb12ceb85f23df7fc2dd2ad6c1e2d88c79a07ca82a4c752383c4b274b70abf24c2627b91511ca38c6827a85fb24bb1d405ef366f63d449475cc7e7021b2f42aea7973805ef690a099be12a8caa2ffdf6dbc9f6212144592fad5a584f16d9cbcc534663cce7d13c5205693b5799467cdca4f31b1eb3da117c4464e9d65e8d2ea086423bfac557b55b88f807ccf0b25016324b2051db850900f99f12708a26a6549e44778d76c46ce31d1a6d64c5e9d8db63da0630457acc014c67941c9a3f8ca646afc155801e88b3509b175e7ac010b442778b88935322dc16758351f90281084ecfd1b06f21cb5a1c4e1255c460c67ea328840963b1ad7b1f852cafe5fdc6953ede3c0673d806bfa009d3f5d6a00029084c1de6625e741a784f379c02f0721a131959f1754ef211784435f41555f56afffad6533146505632b14f921d8750f0e4c7c1c00230d7bf628979ea09ed966d3eb55372d38ff3bf805c1c77805ec55aba2a2aeb328eda1fe8b8169f03e8b9a67f46a326a164afca24fc5e4f68331ae95c4ace625a9715501c1f198e83f5a061c903b49d1b720ebd326b3fe72c0a073b053ba765a89d24dc176f1197e14d1acc1edbae8a2adceaf26af7f71d43eed341e7fabc01247053c938587d7882cc4f4d2312f08d6c1d3856ae6b39dd68e8a3b12db06d3f57467ef61ad68acd01050cfe046ad60a33908dc4904aff04670232a78751cf9607065641672daa569e559928628f784eb84fba585ba639dcee4ff4d2f17fb4aef454bfc4606bc37babe88146bb8d166260ab698a30c7370fa34c4cd9245872ca0276c2a1ecb235a19365668cfdc764907a1fc9337abd11e735c6ae36493d751da296cebaf47bd83dcd6d9d3e1698088b7bfafb1dde530cbdaec0ef7e395981db0ac70f38d9b93c0ea9235909716ebae4618fb20641f81a1709157837ce2062fbc60968004573d7e254edb23d7ad1540d8269d7ca1abef74fc6c257b73d3a031c15ec2ccbd66cb55a8eb7d8beb2dc712cb5e2a6f01420ce6b899e465e8a1336acce4304fda944a9e55f59d4a50786c3350dea77cf6fb6962eecea5d0b17e314ca50100e0da1b217d0d9fbe163fc1bb2c90697b4fdb0ec645efcf45d0f534d779a712f8d6503ac27c44783ef95a247944997e91efb1f74272e55d4ebab9e67333a64843f1081cd1dde55291d48d2632dfeb02aa30bd0ad4b9995d27496b12a7934a2907f635d8e847bb0f828cdfdfae317267d8f3d7d2efd4ed9c99c064d49778ede73d5aa93335110746f4e2acca0c0287e6fe9492060dcf7dccc1cec632cf3318ea4c410a198d24a71893d0ab57c105b268f2f5dd1cfc63bd52fdd54ae1ecd0c333e6f7554d5bc3bd9d6cefd4316954e9d142c398ff4b087609b2d154a5821df49cc15ad61b43660529fc4b2ebc2d4360d31636bf82b375820a4dcec56fcbca7f2daccf7581f37607856a5b6cefd54402a9d279b9e7a26e5298ede8df2d4c5c40ddcc9825b3d98ee7384d243bfb7e78796cb090635f38e406ce270998a698c8d43e21a9a6a9407a7a9f2e3d0c6de171b49876fdf1c848ae2d2f427c098a47e1fbbdac89f0cfdee868dc6c02f7b8462753fa245184245faee85f857c201b24b8704ec07328644f0377982ab9f01db118ec24d01a33e8977b417077daa07a8ae0ecee51500cb2b590cfccefee8b4c77e1f314aaabf5597290ae0d8d384e38c107502f8d5aad</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> éšç¬”/æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èå°”æ—¥è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¦æ¯•ä¸šäº†</title>
      <link href="/2020/05/30/School-celebration/"/>
      <url>/2020/05/30/School-celebration/</url>
      
        <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Welcome to my blog, enter password to read.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="04022c98e28eb804d78d6977517d525189fd6f278d9eba6271e33bc3795648a6">d0d703fa332139beb12ceb85f23df7fc2dd2ad6c1e2d88c79a07ca82a4c752383c4b274b70abf24c2627b91511ca38c6827a85fb24bb1d405ef366f63d449475cc7e7021b2f42aea7973805ef690a099be12a8caa2ffdf6dbc9f6212144592fad5a584f16d9cbcc534663cce7d13c5205693b5799467cdca4f31b1eb3da117c4464e9d65e8d2ea086423bfac557b55b88f807ccf0b25016324b2051db850900f99f12708a26a6549e44778d76c46ce31d1a6d64c5e9d8db63da0630457acc014c67941c9a3f8ca646afc155801e88b3509b175e7ac010b442778b88935322dc16758351f90281084ecfd1b06f21cb5a1c4e1255c460c67ea328840963b1ad7b1f852cafe5fdc6953ede3c0673d806bfab465055b76af0e55bfe15eea492ea750f9a0a07e1f42b385e4284b5c65df12f42604da7fab383df45f251f283e52995def43ebd728f6f41974639c9fd13d56ff246f847dbe18edb14c3416549ecd240c36fc7171724f671ff0c674be23902d3afff100a1a5cbd1e50a86512065b5bb8f74259b7ddd119983283ef678bb214d79937fb73c4ec90a09ac2e344eb4349b176b010dbd2ccd3b9361c981c69e072a00b46092b1b7cc4137d0ba09bf4810a9d678d3c124114184ad2f97060ce8f2073d</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> éšç¬”/æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èå°”æ—¥è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C/C++äºŒç»´æ•°ç»„å‚æ•°ä¼ é€’</title>
      <link href="/2020/05/01/C-or-C++_two-dimensional-array-parameter-transfer/"/>
      <url>/2020/05/01/C-or-C++_two-dimensional-array-parameter-transfer/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="C-C-è¯­è¨€ä¸­äºŒç»´æ•°ç»„å‚æ•°ä¼ é€’å¸¸ç”¨ä¸‰ç§æ–¹æ³•ï¼š"><a href="#C-C-è¯­è¨€ä¸­äºŒç»´æ•°ç»„å‚æ•°ä¼ é€’å¸¸ç”¨ä¸‰ç§æ–¹æ³•ï¼š" class="headerlink" title="C/C++è¯­è¨€ä¸­äºŒç»´æ•°ç»„å‚æ•°ä¼ é€’å¸¸ç”¨ä¸‰ç§æ–¹æ³•ï¼š"></a>C/C++è¯­è¨€ä¸­äºŒç»´æ•°ç»„å‚æ•°ä¼ é€’å¸¸ç”¨ä¸‰ç§æ–¹æ³•ï¼š</h3><ul><li><p>æ–¹æ³•ä¸€ï¼šå½¢å‚ä¸ºäºŒç»´æ•°ç»„å¹¶ç»™å‡ºç¬¬äºŒç»´çš„å¤§å°</p><p>å¦‚ï¼š<code>void sum(int a[][3])</code></p><a id="more"></a><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a[][<span class="number">3</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">s += a[<span class="number">0</span>][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> b[<span class="number">2</span>][<span class="number">3</span>] = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125; &#125;;</span><br><span class="line">sum(b);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•äºŒï¼šå½¢å‚ä¸ºæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆå¹¶ç»™å‡ºæ•°ç»„çš„é•¿åº¦</p><p>å¦‚ï¼š<code>void sum(int (*a)[3])</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sum1</span><span class="params">(<span class="keyword">int</span>(*a)[<span class="number">3</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">s += a[<span class="number">0</span>][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•ä¸‰ï¼šå½¢å‚ä¸ºæŒ‡é’ˆçš„æŒ‡é’ˆä¸”å®å‚å¿…é¡»ä¸ºæŒ‡é’ˆï¼Œè€Œä¸èƒ½æ˜¯æ•°ç»„å</p><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> **a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">s += a[<span class="number">0</span>][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> *a[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> b[<span class="number">2</span>][<span class="number">3</span>] = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125; &#125;;</span><br><span class="line">a[<span class="number">0</span>] = b[<span class="number">0</span>];</span><br><span class="line">a[<span class="number">1</span>] = b[<span class="number">1</span>];</span><br><span class="line">sum(a);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> äºŒç»´æ•°ç»„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¦è¾†è½¨è¿¹è¿½è¸ªç³»ç»Ÿå¼€å‘æ–‡æ¡£</title>
      <link href="/2020/04/29/Development-document-of-vehicle-trajectory-tracking-system/"/>
      <url>/2020/04/29/Development-document-of-vehicle-trajectory-tracking-system/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è½¦è¾†å¤§è§„æ¨¡GPSæ•°æ®é‡‡é›†é¢„å¤„ç†ç³»ç»Ÿ</p><p>ç»ˆç«¯ç®¡ç†APIæ¥å£ï¼š</p><div class="table-container"><table><thead><tr><th>æ¨¡å—</th><th>æ¥å£åç§°</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td>entity</td><td>add</td><td>åˆ›å»ºentity</td></tr><tr><td></td><td>update</td><td>æ›´æ–°entity</td></tr><tr><td></td><td>delete</td><td>åˆ é™¤entity</td></tr><tr><td></td><td>list</td><td>æ£€ç´¢ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„entityï¼Œè¿”å›entityå±æ€§ä¿¡æ¯å’Œæœ€æ–°ä½ç½®ï¼Œå¯ç”¨äºåˆ—å‡ºentityï¼Œä¹Ÿå¯ç”¨äºæ‰¹é‡æŸ¥è¯¢å¤šä¸ªentityçš„ä½ç½®ã€‚</td></tr></tbody></table></div><p>APIæ¥å£æ€»è§ˆï¼š<a href="http://lbsyun.baidu.com/index.php?title=yingyan/api/v3/entity" target="_blank" rel="noopener">http://lbsyun.baidu.com/index.php?title=yingyan/api/v3/entity</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ ˆçš„åº”ç”¨â€”â€”æ‹¬å·åŒ¹é…</title>
      <link href="/2020/03/27/Stack-application-bracket-matching/"/>
      <url>/2020/03/27/Stack-application-bracket-matching/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>é¢˜ç›®æè¿°ï¼šç¼–å†™ç¨‹åºï¼Œåˆ¤å®šç»™å®šè¡¨è¾¾å¼ä¸­çš„æ‹¬å·æ˜¯å¦åŒ¹é…ï¼Œè¡¨è¾¾å¼ä¸­çš„åˆæ³•æ‹¬å·ä½ â€œ(â€ï¼Œâ€œ)â€ï¼Œâ€œ[â€ï¼Œâ€œ]â€ï¼Œâ€œ{â€ï¼Œâ€œ}â€ï¼Œæ‹¬å·å¯æŒ‰ä»»æ„æ¬¡åºåµŒå¥—ä½¿ç”¨ã€‚</p><p>è¾“å…¥è¯´æ˜ï¼šæœ‰å¤šä¸ªè¡¨è¾¾å¼ï¼Œè¾“å…¥æ•°æ®ç¬¬ä¸€è¡Œæ˜¯è¡¨è¾¾å¼çš„æ•°ç›®ï¼Œæ¯ä¸ªè¡¨è¾¾å¼å ä¸€è¡Œã€‚</p><p>è¾“å‡ºè¯´æ˜ï¼šå¯¹æ¯ä¸ªè¡¨è¾¾å¼ï¼Œè‹¥å…¶æ‹¬å·åŒ¹é…åˆ™è¾“å‡ºâ€œYesâ€ï¼Œå¦åˆ™è¾“å‡ºâ€œNoâ€ã€‚</p><a id="more"></a><p>C++å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">char</span> ch[<span class="number">100</span>];</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt;s;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">while</span> (n--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; ch;</span><br><span class="line">flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; ch[i] != <span class="string">'\0'</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">'('</span> || ch[i] == <span class="string">'['</span> || ch[i] == <span class="string">'&#123;'</span>)</span><br><span class="line">&#123;</span><br><span class="line">s.push(ch[i]);</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!s.empty())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">')'</span>&amp;&amp;s.top() == <span class="string">'('</span>)</span><br><span class="line">&#123;</span><br><span class="line">s.pop();</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">']'</span>&amp;&amp;s.top() == <span class="string">'['</span>)</span><br><span class="line">&#123;</span><br><span class="line">s.pop();</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">'&#125;'</span>&amp;&amp;s.top() == <span class="string">'&#123;'</span>)</span><br><span class="line">&#123;</span><br><span class="line">s.pop();</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">')'</span>&amp;&amp;s.top() != <span class="string">'('</span>)</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">']'</span>&amp;&amp;s.top() != <span class="string">'['</span>)</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">'&#125;'</span>&amp;&amp;s.top() != <span class="string">'&#123;'</span>)</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (ch[i] == <span class="string">')'</span> || ch[i] == <span class="string">']'</span> || ch[i] == <span class="string">'&#125;'</span>)</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Yes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"No"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>/<em>â€”â€”æµ‹è¯•ç”¨ä¾‹â€”â€”</em>/<br>/<em><br>[(d+f)</em>{}]<br>[(2+3)]<br>()}<br>[4(6]7)9<br>*/</p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ˆ </tag>
            
            <tag> C/C++ </tag>
            
            <tag> æ‹¬å·åŒ¹é… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ˆå’Œé˜Ÿåˆ—çš„å®šä¹‰ä¸ä½¿ç”¨</title>
      <link href="/2020/03/26/Definition-and-use-of-stacks-and-queues/"/>
      <url>/2020/03/26/Definition-and-use-of-stacks-and-queues/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>æ ˆï¼ˆStackï¼‰ï¼šåªå…è®¸åœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ã€‚</p><p>é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼šåªå…è®¸åœ¨è¡¨çš„ä¸€ç«¯è¿›è¡Œæ’å…¥ï¼Œè€Œåœ¨è¡¨çš„å¦ä¸€ç«¯è¿›è¡Œåˆ é™¤çš„çº¿æ€§è¡¨ã€‚</p><p>æ ˆçš„åŸºæœ¬æ“ä½œï¼š</p><p><code>s.empty()               è‹¥æ ˆä¸ºç©ºè¿”å›trueï¼Œå¦åˆ™è¿”å›false</code><br><code>s.size()                   è¿”å›æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°</code><br><code>s.pop()                   å¼¹å‡ºæ ˆé¡¶å…ƒç´ ä½†ä¸è¿”å›å…¶å€¼</code><br><code>s.top()                    è‹¥æ ˆséç©ºï¼Œè¿”å›æ ˆé¡¶çš„å…ƒç´ </code><br><code>s.push()                 åœ¨æ ˆé¡¶å‹å…¥æ–°å…ƒç´ </code></p><a id="more"></a><p>é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œï¼š</p><p><code>q.empty()               è‹¥é˜Ÿåˆ—ä¸ºç©ºè¿”å›trueï¼Œå¦åˆ™è¿”å›false</code><br><code>q.size()                   è¿”å›é˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•°</code><br><code>q.pop()                    å¼¹å‡ºé˜Ÿåˆ—é¦–å…ƒç´ ä½†ä¸è¿”å›å…¶å€¼</code><br><code>q.front()                   è¿”å›é˜Ÿé¦–å…ƒç´ çš„å€¼ï¼Œä½†ä¸åˆ é™¤è¯¥å…ƒç´ </code><br><code>q.push()                  åœ¨é˜Ÿå°¾å‹å…¥æ–°å…ƒç´ </code><br><code>q.back()                  è¿”å›é˜Ÿåˆ—å°¾å…ƒç´ çš„å€¼ï¼Œä½†ä¸åˆ é™¤è¯¥å…ƒç´ </code></p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>å¼•å…¥å¤´æ–‡ä»¶ï¼š</p><p><code>#include&lt;stack&gt;</code></p><p><code>#include&lt;queue&gt;</code></p><p>å®šä¹‰æ ˆï¼š<code>stack&lt;int&gt; s;</code></p><p>å®šä¹‰é˜Ÿåˆ—ï¼š<code>queue&lt;int&gt; q;</code></p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;  </span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt;s;<span class="comment">//å®šä¹‰ä¸€ä¸ªæ ˆ  </span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">s.push(i);</span><br><span class="line"><span class="keyword">while</span> (!s.empty())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s.top() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">s.pop();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ ˆå†…çš„å…ƒç´ çš„ä¸ªæ•°ä¸ºï¼š"</span> &lt;&lt; s.<span class="built_in">size</span>() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/tham_/article/details/44733101" target="_blank" rel="noopener">æ›´å¤šå‚è€ƒ</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ˆ </tag>
            
            <tag> C/C++ </tag>
            
            <tag> é˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æ ‘æ„å»ºä¸éå†â€”â€”å‰åºå’Œä¸­åºæˆ–ä¸­åºå’Œååºç¡®å®šäºŒå‰æ ‘</title>
      <link href="/2020/03/25/Bitree-construction-and-traversal/"/>
      <url>/2020/03/25/Bitree-construction-and-traversal/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="äºŒå‰æ ‘æµ‹è¯•ç”¨ä¾‹ï¼š"><a href="#äºŒå‰æ ‘æµ‹è¯•ç”¨ä¾‹ï¼š" class="headerlink" title="äºŒå‰æ ‘æµ‹è¯•ç”¨ä¾‹ï¼š"></a>äºŒå‰æ ‘æµ‹è¯•ç”¨ä¾‹ï¼š</h3><p><img src="/loading.gif" data-original="https://s1.ax1x.com/2020/04/04/GdqXuD.png" alt="äºŒå‰æ ‘"></p><p>preOrder: ABDGCEFH<br>inOrder: DGBAECHF<br>postOrder: GDBEHFCA</p><ol><li>å·²çŸ¥äºŒå‰æ ‘å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—å¯ä»¥ç¡®å®šä¸€é¢—äºŒå‰æ ‘ã€‚</li><li>å·²çŸ¥äºŒå‰æ ‘ä¸­åºéå†åºåˆ—å’Œååºéå†åºåˆ—å¯ä»¥ç¡®å®šä¸€é¢—äºŒå‰æ ‘ã€‚</li><li><u>å·²çŸ¥äºŒå‰æ ‘å‰åºéå†åºåˆ—å’Œååºéå†åºåˆ—ä¸èƒ½ç¡®å®šä¸€é¢—äºŒå‰æ ‘ã€‚</u></li></ol><h3 id="å·²çŸ¥äºŒå‰æ ‘å‰åºå’Œä¸­åºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC-å®ç°ï¼š"><a href="#å·²çŸ¥äºŒå‰æ ‘å‰åºå’Œä¸­åºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC-å®ç°ï¼š" class="headerlink" title="å·²çŸ¥äºŒå‰æ ‘å‰åºå’Œä¸­åºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC++å®ç°ï¼š"></a>å·²çŸ¥äºŒå‰æ ‘å‰åºå’Œä¸­åºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC++å®ç°ï¼š</h3><a id="more"></a><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒå‰æ ‘ç»“ç‚¹å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line"><span class="keyword">char</span> value;</span><br><span class="line">node *lchild;</span><br><span class="line">node *rchild;</span><br><span class="line">node(<span class="keyword">char</span> ch) &#123;</span><br><span class="line">value = ch;</span><br><span class="line">lchild = <span class="literal">NULL</span>;</span><br><span class="line">rchild = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€’å½’ äºŒå‰æ ‘å‰åºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(node *root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (root)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; root-&gt;value;</span><br><span class="line">preOrder(root-&gt;lchild);</span><br><span class="line">preOrder(root-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€’å½’ äºŒå‰æ ‘ä¸­åºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(node *root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (root)</span><br><span class="line">&#123;</span><br><span class="line">inOrder(root-&gt;lchild);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; root-&gt;value;</span><br><span class="line">inOrder(root-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€’å½’ äºŒå‰æ ‘ååºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(node *root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (root)</span><br><span class="line">&#123;</span><br><span class="line">postOrder(root-&gt;lchild);</span><br><span class="line">postOrder(root-&gt;rchild);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; root-&gt;value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">node *<span class="title">buildBitree</span><span class="params">(<span class="built_in">string</span> pre, <span class="built_in">string</span> in)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = pre.length();</span><br><span class="line"><span class="keyword">if</span> (len &lt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">node *root = <span class="keyword">new</span> node(pre[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">int</span> n = in.<span class="built_in">find</span>(pre[<span class="number">0</span>]);</span><br><span class="line">root-&gt;lchild = buildBitree(pre.substr(<span class="number">1</span>, n), in.substr(<span class="number">0</span>, n));</span><br><span class="line">root-&gt;rchild = buildBitree(pre.substr(n + <span class="number">1</span>, len - n - <span class="number">1</span>), in.substr(n + <span class="number">1</span>, len - n - <span class="number">1</span>));</span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">char</span> pre[<span class="number">100</span>], in[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; pre &gt;&gt; in)</span><br><span class="line">&#123;</span><br><span class="line">node *root = buildBitree(pre, in);</span><br><span class="line">postOrder(root);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//inOrder(root);</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//preOrder(root);</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å·²çŸ¥äºŒå‰æ ‘ä¸­åºå’Œååºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC-å®ç°ï¼š"><a href="#å·²çŸ¥äºŒå‰æ ‘ä¸­åºå’Œååºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC-å®ç°ï¼š" class="headerlink" title="å·²çŸ¥äºŒå‰æ ‘ä¸­åºå’Œååºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC++å®ç°ï¼š"></a>å·²çŸ¥äºŒå‰æ ‘ä¸­åºå’Œååºéå†åºåˆ—ï¼Œæ„é€ äºŒå‰æ ‘ï¼ŒC++å®ç°ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">node *<span class="title">buildBitree</span><span class="params">(<span class="built_in">string</span> post, <span class="built_in">string</span> in)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = post.length();</span><br><span class="line"><span class="keyword">if</span> (len &lt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">node *root = <span class="keyword">new</span> node(post[len - <span class="number">1</span>]);</span><br><span class="line"><span class="keyword">int</span> n = in.<span class="built_in">find</span>(post[len - <span class="number">1</span>]);</span><br><span class="line">root-&gt;lchild = buildBitree(post.substr(<span class="number">0</span>, n), in.substr(<span class="number">0</span>, n));</span><br><span class="line">root-&gt;rchild = buildBitree(post.substr(n, len - n - <span class="number">1</span>), in.substr(n + <span class="number">1</span>, len - n - <span class="number">1</span>));</span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Notes:</strong> </p><p>&emsp;&emsp;str.length()ã€str.size()å‡ç”¨æ¥æ±‚å–å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> äºŒå‰æ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦æ ¡èˆªæ‹</title>
      <link href="/2020/03/21/Cumt-aerial/"/>
      <url>/2020/03/21/Cumt-aerial/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>å£°æ˜ï¼šè§†é¢‘èµ„æºæ¥è‡ªç½‘ç»œï¼Œå› ä¸ºå–œæ¬¢ï¼Œæ‰€ä»¥ä¸Šä¼ åˆ°åšå®¢ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ï¼</strong></p><script src='//player.polyv.net/script/polyvplayer.min.js'></script><div id='plv_8bb758cd63a75137b984b867c33dce10_8'></div><script>var player = polyvObject('#plv_8bb758cd63a75137b984b867c33dce10_8').videoPlayer({    'width':'900',  'height':'506',    'vid' : '8bb758cd63a75137b984b867c33dce10_8' , 'forceH5':true });</script>]]></content>
      
      
      <categories>
          
          <category> éšç¬”/æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å½±éŸ³è§†é¢‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡‘åŸå…°å·</title>
      <link href="/2020/03/20/Jincheng-lanzhou/"/>
      <url>/2020/03/20/Jincheng-lanzhou/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>å£°æ˜ï¼šè§†é¢‘èµ„æºæ¥è‡ªç½‘ç»œï¼Œå› ä¸ºå–œæ¬¢ï¼Œæ‰€ä»¥ä¸Šä¼ åˆ°åšå®¢ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ï¼</strong></p><script src='//player.polyv.net/script/polyvplayer.min.js'></script><div id='plv_8bb758cd63e385239d8290fedb7e5dd7_8'></div><script>var player = polyvObject('#plv_8bb758cd63e385239d8290fedb7e5dd7_8').videoPlayer({    'width':'900',  'height':'506',    'vid' : '8bb758cd63e385239d8290fedb7e5dd7_8' , 'forceH5':true });</script>]]></content>
      
      
      <categories>
          
          <category> éšç¬”/æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å½±éŸ³è§†é¢‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++åè¿›åˆ¶ä¸äºŒè¿›åˆ¶çš„äº’ç›¸è½¬æ¢</title>
      <link href="/2020/02/10/C++_decimal-and-binary-conversion/"/>
      <url>/2020/02/10/C++_decimal-and-binary-conversion/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æ‰‹åŠ¨å®ç°è¿›åˆ¶è½¬æ¢</p><p>åè¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">decTobin</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> h,w=<span class="number">1</span>,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (n)</span><br><span class="line">&#123;</span><br><span class="line">h = n % <span class="number">2</span>;</span><br><span class="line">sum += h * w;</span><br><span class="line">w *= <span class="number">10</span>;</span><br><span class="line">n = n / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binTodec</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> h,w=<span class="number">1</span>,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (n)</span><br><span class="line">&#123;</span><br><span class="line">h = n % <span class="number">10</span>;</span><br><span class="line">sum += h * w;</span><br><span class="line">w *= <span class="number">2</span>;</span><br><span class="line">n = n / <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> è¿›åˆ¶è½¬æ¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C/C++åŠ¨æ€æ•°ç»„ä½¿ç”¨</title>
      <link href="/2020/01/10/C-or-C++_dynamic-array/"/>
      <url>/2020/01/10/C-or-C++_dynamic-array/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è¿‘æ¥åˆ·é¢˜ï¼Œé‡åˆ°å¥½å‡ é“é¢˜ç›®éœ€è¦åŠ¨æ€æ•°ç»„è§£å†³ï¼Œç°åœ¨æ•´ç†ä¸€ä¸‹ã€‚C/C++ä¸­åŠ¨æ€å¼€è¾Ÿä¸€ç»´ã€äºŒç»´æ•°ç»„å¾ˆå¸¸è§ï¼Œä¹Ÿå¾ˆå®ç”¨ã€‚</p><p><strong>2021/3/18 æ›´</strong></p><h2 id="Cä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨"><a href="#Cä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨" class="headerlink" title="Cä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨"></a>Cä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨</h2><p>Cè¯­è¨€ä½¿ç”¨<code>calloc()</code>å‡½æ•°/<code>malloc()</code>å‡½æ•°åˆ†é…å†…å­˜ç©ºé—´ï¼Œå‡å¯ç”¨æ¥åŠ¨æ€ç”³è¯·ä¸€ç»´æ•°ç»„/äºŒç»´æ•°ç»„ã€‚</p><p>å¤´æ–‡ä»¶ï¼š<code>#include&lt;stdlib.h&gt;</code></p><p>calloc()å‡½æ•°ç”¨æ¥åŠ¨æ€çš„åˆ†é…å†…å­˜ç©ºé—´<strong>å¹¶åˆå§‹åŒ–ä¸º0</strong>ï¼Œå…¶åŸå‹ä¸ºï¼š</p><a id="more"></a><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> * <span class="title">calloc</span><span class="params">(<span class="keyword">size_t</span> num, <span class="keyword">size_t</span> <span class="built_in">size</span>)</span></span>;</span><br></pre></td></tr></table></figure><p><code>calloc()</code> åœ¨å†…å­˜ä¸­åŠ¨æ€åœ°åˆ†é… <code>num</code> ä¸ªé•¿åº¦ä¸º <code>size</code> çš„è¿ç»­ç©ºé—´ï¼Œå¹¶å°†æ¯ä¸€ä¸ªå­—èŠ‚éƒ½åˆå§‹åŒ–ä¸º 0ã€‚æ‰€ä»¥å®ƒçš„ç»“æœæ˜¯åˆ†é…äº† <code>num*size</code> ä¸ªå­—èŠ‚é•¿åº¦çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”æ¯ä¸ªå­—èŠ‚çš„å€¼éƒ½æ˜¯0ã€‚</p><p>ã€è¿”å›å€¼ã€‘åˆ†é…æˆåŠŸè¿”å›æŒ‡å‘è¯¥å†…å­˜çš„åœ°å€ï¼Œå¤±è´¥åˆ™è¿”å› NULLã€‚</p><p>æ³¨æ„ï¼šå‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯ <code>void *</code>ï¼Œ<code>void</code> å¹¶ä¸æ˜¯è¯´æ²¡æœ‰è¿”å›å€¼æˆ–è€…è¿”å›ç©ºæŒ‡é’ˆï¼Œè€Œæ˜¯è¿”å›çš„æŒ‡é’ˆç±»å‹æœªçŸ¥ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨ <code>calloc()</code> æ—¶é€šå¸¸éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå°† <code>void</code> æŒ‡é’ˆè½¬æ¢æˆæˆ‘ä»¬å¸Œæœ›çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *ptr = (<span class="keyword">char</span> *)<span class="built_in">calloc</span>(<span class="number">10</span>, <span class="number">10</span>);  <span class="comment">// åˆ†é…100ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´</span></span><br></pre></td></tr></table></figure><p>malloc()å‡½æ•°åŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´ï¼Œä¸åšåˆå§‹åŒ–ï¼Œå…¶åŸå‹ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> * <span class="title">malloc</span><span class="params">(<span class="keyword">size_t</span> <span class="built_in">size</span>)</span></span>;</span><br></pre></td></tr></table></figure><p>ã€è¿”å›å€¼ã€‘åˆ†é…æˆåŠŸè¿”å›æŒ‡å‘è¯¥å†…å­˜çš„åœ°å€ï¼Œå¤±è´¥åˆ™è¿”å› NULLã€‚</p><h3 id="ä½¿ç”¨ç¤ºä¾‹ï¼š"><a href="#ä½¿ç”¨ç¤ºä¾‹ï¼š" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹ï¼š"></a>ä½¿ç”¨ç¤ºä¾‹ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç”³è¯·ä¸€ä¸ªåŠ¨æ€æ•°ç»„ å­˜å‚¨å›¾åƒçŸ©é˜µ*/</span></span><br><span class="line">    <span class="keyword">char</span> **bufarray;</span><br><span class="line">    bufarray = (<span class="keyword">char</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">char</span>*) * infoHeader-&gt;biHeight); <span class="comment">// åˆ†é…æ‰€æœ‰è¡Œçš„é¦–åœ°å€</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; infoHeader-&gt;biHeight; i++) &#123; <span class="comment">// æŒ‰è¡Œåˆ†é…æ¯ä¸€åˆ—</span></span><br><span class="line">        bufarray[i] = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">char</span>) * infoHeader-&gt;biWidth);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡Šæ”¾å¼€è¾Ÿçš„äºŒç»´æ•°ç»„ç©ºé—´</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; infoHeader-&gt;biWidth; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(*(bufarray + i));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç”³è¯·ä¸€ä¸ªåŠ¨æ€æ•°ç»„ å­˜å‚¨å»é™¤ç™½è¾¹åçš„GMç å›¾ç‰‡çŸ©é˜µ*/</span></span><br><span class="line">    <span class="keyword">char</span>** imgarray;</span><br><span class="line">    imgarray = (<span class="keyword">char</span>**)<span class="built_in">calloc</span>(macroblock_num * macroblock_len, <span class="keyword">sizeof</span>(<span class="keyword">char</span>*)); <span class="comment">// åˆ†é…æ‰€æœ‰è¡Œçš„é¦–åœ°å€</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; macroblock_num * macroblock_len; i++) &#123; <span class="comment">// æŒ‰è¡Œåˆ†é…æ¯ä¸€åˆ—</span></span><br><span class="line">        imgarray[i] = (<span class="keyword">char</span>*)<span class="built_in">calloc</span>(macroblock_num * macroblock_len, <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡Šæ”¾å¼€è¾Ÿçš„äºŒç»´æ•°ç»„ç©ºé—´</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; macroblock_num * macroblock_len; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(*(imgarray + i));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”³è¯·ä¸€ä¸ªåŠ¨æ€ä¸€ç»´æ•°ç»„</span></span><br><span class="line"><span class="keyword">char</span>* data_stream;</span><br><span class="line">data_stream = (<span class="keyword">char</span>*)<span class="built_in">calloc</span>(data_correct_num * <span class="number">7</span>, <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡Šæ”¾å¼€è¾Ÿçš„ä¸€ç»´æ•°ç»„ç©ºé—´</span></span><br><span class="line">    <span class="built_in">free</span>(data_stream);</span><br></pre></td></tr></table></figure><h2 id="C-ä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨"><a href="#C-ä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨" class="headerlink" title="C++ä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨"></a>C++ä¸­åŠ¨æ€æ•°ç»„çš„ä½¿ç”¨</h2><ol><li><h3 id="åŠ¨æ€å¼€è¾Ÿä¸€ç»´æ•°ç»„"><a href="#åŠ¨æ€å¼€è¾Ÿä¸€ç»´æ•°ç»„" class="headerlink" title="åŠ¨æ€å¼€è¾Ÿä¸€ç»´æ•°ç»„"></a>åŠ¨æ€å¼€è¾Ÿä¸€ç»´æ•°ç»„</h3><p>åŠ¨æ€å¼€è¾Ÿä¸€ç»´æ•°ç»„ç®€å•ï¼Œä»£ç å®ç°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DynamicCreate1Array</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;len;</span><br><span class="line">    <span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;p[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[] p;         <span class="comment">//åŠ¨æ€æ•°ç»„ä½¿ç”¨å®Œä¸€å®šè¦é‡Šæ”¾</span></span><br></pre></td></tr></table></figure><p><strong>2020/1/10æ›´</strong></p></li><li><h3 id="åŠ¨æ€å¼€è¾ŸäºŒç»´æ•°ç»„"><a href="#åŠ¨æ€å¼€è¾ŸäºŒç»´æ•°ç»„" class="headerlink" title="åŠ¨æ€å¼€è¾ŸäºŒç»´æ•°ç»„"></a>åŠ¨æ€å¼€è¾ŸäºŒç»´æ•°ç»„</h3><ul><li><p>å·²çŸ¥äºŒç»´æ•°ç»„åˆ—æ•°ï¼ŒæœªçŸ¥è¡Œæ•°ã€‚å‡è®¾å»ºç«‹ä¸€ä¸ªnè¡Œ4åˆ—çš„åŠ¨æ€æ•°ç»„ï¼ˆåˆ—å·²çŸ¥ï¼‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DynamicCreate2Array</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">int</span>(*p)[<span class="number">4</span>] = <span class="keyword">new</span> <span class="keyword">int</span>[n][<span class="number">4</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; p[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[] p;         <span class="comment">//åŠ¨æ€æ•°ç»„ä½¿ç”¨å®Œä¸€å®šè¦é‡Šæ”¾</span></span><br></pre></td></tr></table></figure></li><li><p>äºŒç»´æ•°ç»„è¡Œæ•°ã€åˆ—æ•°å‡æœªçŸ¥</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DynamicCreate2Array</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> row, column;</span><br><span class="line"><span class="keyword">char</span> **p = <span class="keyword">new</span> <span class="keyword">char</span>*[row];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p[i] = <span class="keyword">new</span> <span class="keyword">char</span>[column];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; column; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; p[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åŠ¨æ€æ•°ç»„é‡Šæ”¾</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span>[] p[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]p;</span><br></pre></td></tr></table></figure><p>ä¾‹ï¼šæœºå™¨äººèµ°è¿·å®«</p><p>è¿·å®«ç”±N W S Eç»„æˆï¼Œè¸©åˆ°Nå‘ä¸Šèµ°ä¸€æ ¼ï¼Œè¸©åˆ°Wå‘å·¦èµ°ä¸€æ ¼ï¼Œè¸©åˆ°Så‘ä¸‹èµ°ä¸€æ ¼ï¼Œè¸©åˆ°Eå‘å³èµ°ä¸€æ ¼ã€‚</p><p>è¾“å…¥è¿·å®«è¡Œæ•°ã€åˆ—æ•°ã€æœºå™¨äººå¼€å§‹çš„åˆè¯•åˆ—æ•°ï¼ˆä¸å¤§äº10ï¼Œåˆ—æ•°ä»1å¼€å§‹æ•°ï¼‰ï¼Œåˆ¤æ–­èƒ½å¦èµ°å‡ºè¿·å®«ã€‚èƒ½èµ°å‡ºè¾“å‡ºæ­¥æ•°ï¼Œä¸èƒ½èµ°å‡ºè¾“å‡ºâ€NOâ€ï¼Œå¤šç»„è¾“å…¥ï¼Œé‡ 0 0 0 ç»“æŸè¾“å…¥ã€‚</p><p>ä¾‹ï¼š</p><p>è¾“å…¥ï¼š</p><p>4 5 6</p><p>NNNNSN</p><p>NNNSWN</p><p>NNSWNN</p><p>NSWNNN</p><p>3 6 2</p><p>NSNNNN</p><p>NSWNNN</p><p>NENNNN</p><p>0 0 0</p><p>è¾“å‡ºï¼š</p><p>7</p><p>No</p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*----æœºå™¨äººèµ°è¿·å®«----*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> row, column, <span class="built_in">begin</span>, <span class="built_in">step</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; row &gt;&gt; column &gt;&gt; <span class="built_in">begin</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (row == <span class="number">0</span> &amp;&amp; column == <span class="number">0</span> &amp;&amp; <span class="built_in">begin</span> == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">step</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> **p = <span class="keyword">new</span> <span class="keyword">char</span>*[row];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">p[i] = <span class="keyword">new</span> <span class="keyword">char</span>[column];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; column; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; p[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> j = <span class="built_in">begin</span> - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; row &amp;&amp; i &gt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (j &lt; column &amp;&amp; j &gt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (p[i][j] == <span class="string">'N'</span>)</span><br><span class="line">&#123;</span><br><span class="line">p[i][j] = <span class="string">'0'</span>;</span><br><span class="line"><span class="built_in">step</span>++;</span><br><span class="line">i--;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p[i][j] == <span class="string">'S'</span>)</span><br><span class="line">&#123;</span><br><span class="line">p[i][j] = <span class="string">'0'</span>;</span><br><span class="line"><span class="built_in">step</span>++;</span><br><span class="line">i++;</span><br><span class="line"><span class="keyword">break</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p[i][j] == <span class="string">'W'</span>)</span><br><span class="line">&#123;</span><br><span class="line">p[i][j] = <span class="string">'0'</span>;</span><br><span class="line">j--;</span><br><span class="line"><span class="built_in">step</span>++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p[i][j] == <span class="string">'E'</span>)</span><br><span class="line">&#123;</span><br><span class="line">p[i][j] = <span class="string">'0'</span>;</span><br><span class="line">j++;</span><br><span class="line"><span class="built_in">step</span>++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">step</span> = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">step</span> == <span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">step</span> != <span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">step</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"No"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[] p[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">```</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> åŠ¨æ€æ•°ç»„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python 100å¤©</title>
      <link href="/2019/11/02/Python-100-days/"/>
      <url>/2019/11/02/Python-100-days/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="ã€ç¨‹åº1ã€‘"><a href="#ã€ç¨‹åº1ã€‘" class="headerlink" title="ã€ç¨‹åº1ã€‘"></a>ã€ç¨‹åº1ã€‘</h3><p>é¢˜ç›®ï¼šæœ‰1ã€2ã€3ã€4ä¸ªæ•°å­—ï¼Œèƒ½ç»„æˆå¤šå°‘ä¸ªäº’ä¸ç›¸åŒä¸”æ— é‡å¤æ•°å­—çš„ä¸‰ä½æ•°ï¼Ÿéƒ½æ˜¯å¤šå°‘ï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonå‡½æ•°å­˜å‚¨åœ¨æ¨¡å—ä¸­çš„å‡½æ•°è°ƒç”¨</title>
      <link href="/2019/10/04/Python-function-call-and-module/"/>
      <url>/2019/10/04/Python-function-call-and-module/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>pythonä¸­å¸¸è§å°†å‡½æ•°å­˜å‚¨åœ¨è¢«ç§°ä¸ºæ¨¡å—çš„ç‹¬ç«‹æ–‡ä»¶ä¸­ï¼Œå†å°†æ¨¡å—å¯¼å…¥åˆ°ä¸»ç¨‹åºä¸­ï¼Œimportè¯­å¥å®ç°å½“å‰è¿è¡Œçš„ç¨‹åºæ–‡ä»¶ä¸­å¯¼å…¥æ¨¡å—ä¸­çš„ä»£ç ã€‚</p><p>è¦è®©å‡½æ•°æ˜¯å¯å¯¼å…¥çš„ï¼Œå¾—å…ˆåˆ›å»ºæ¨¡å—ã€‚æ¨¡å—æ˜¯æ‰©å±•åä¸º.pyçš„æ–‡ä»¶ï¼ŒåŒ…å«è¦å¯¼å…¥åˆ°ç¨‹åºä¸­çš„ä»£ç ã€‚</p><a id="more"></a><h2 id="1-å¯¼å…¥æ•´ä¸ªæ¨¡å—"><a href="#1-å¯¼å…¥æ•´ä¸ªæ¨¡å—" class="headerlink" title="1.å¯¼å…¥æ•´ä¸ªæ¨¡å—"></a>1.å¯¼å…¥æ•´ä¸ªæ¨¡å—</h2><p>è¯­æ³•è§„åˆ™ï¼š</p><p>module_name.function_name()</p><h2 id="2-å¯¼å…¥ç‰¹å®šçš„å‡½æ•°"><a href="#2-å¯¼å…¥ç‰¹å®šçš„å‡½æ•°" class="headerlink" title="2.å¯¼å…¥ç‰¹å®šçš„å‡½æ•°"></a>2.å¯¼å…¥ç‰¹å®šçš„å‡½æ•°</h2><p>è¯­æ³•è§„åˆ™ï¼š</p><p>from module_name import function_name</p><p>é€šè¿‡ç”¨é€—å·åˆ†éš”å‡½æ•°åï¼Œå¯æ ¹æ®éœ€è¦ä»æ¨¡å—ä¸­å¯¼å…¥ä»»æ„æ•°é‡çš„å‡½æ•°ï¼š</p><p>from module_name import function_0, function_1, function_2</p><h2 id="3-ä½¿ç”¨asç»™å‡½æ•°æŒ‡å®šåˆ«å"><a href="#3-ä½¿ç”¨asç»™å‡½æ•°æŒ‡å®šåˆ«å" class="headerlink" title="3.ä½¿ç”¨asç»™å‡½æ•°æŒ‡å®šåˆ«å"></a>3.ä½¿ç”¨asç»™å‡½æ•°æŒ‡å®šåˆ«å</h2><p>è¯­æ³•è§„åˆ™ï¼š</p><p>from module_name import function_name as fn</p><h2 id="4-ä½¿ç”¨asç»™æ¨¡å—æŒ‡å®šåˆ«å"><a href="#4-ä½¿ç”¨asç»™æ¨¡å—æŒ‡å®šåˆ«å" class="headerlink" title="4.ä½¿ç”¨asç»™æ¨¡å—æŒ‡å®šåˆ«å"></a>4.ä½¿ç”¨asç»™æ¨¡å—æŒ‡å®šåˆ«å</h2><p>è¯­æ³•è§„åˆ™ï¼š</p><p>import module_name as mn</p><h2 id="5-å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°"><a href="#5-å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°" class="headerlink" title="5.å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°"></a>5.å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°</h2><p>è¯­æ³•è§„åˆ™ï¼š</p><p>from module_name import * </p><p>ï¼ˆä¸å»ºè®®ä½¿ç”¨æ­¤æ–¹æ³•ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> å‡½æ•°è°ƒç”¨ </tag>
            
            <tag> æ¨¡å— </tag>
            
            <tag> import </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux socketé€šä¿¡ç¼–ç¨‹</title>
      <link href="/2019/07/01/Linux-socket-communication-programming/"/>
      <url>/2019/07/01/Linux-socket-communication-programming/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç¤ºä¾‹ï¼šç”¨Cè¯­è¨€ï¼ŒåŸºäºlinuxæä¾›çš„socketå‡½æ•°ï¼Œç¼–å†™ä¸€ä¸ªå®ç°â€œä»å®¢æˆ·ç«¯è¾“å…¥åä¸ªå­—ç¬¦ä¸²ï¼Œåœ¨æœåŠ¡å™¨ç«¯å®Œæˆå­—ç¬¦æ•°å’Œå•è¯æ•°ç»Ÿè®¡ï¼Œå¹¶æŒ‰é¦–ä½å­—æ¯æ’åºâ€çš„è¿œç¨‹è®¡ç®—çš„ç½‘ç»œæœåŠ¡ç¨‹åºã€‚ </p><a id="more"></a><h3 id="1ã€UDPç¼–ç¨‹è¯´æ˜"><a href="#1ã€UDPç¼–ç¨‹è¯´æ˜" class="headerlink" title="1ã€UDPç¼–ç¨‹è¯´æ˜"></a>1ã€UDPç¼–ç¨‹è¯´æ˜</h3><p>UDPåè®®çš„æœåŠ¡å™¨ç«¯æµç¨‹ï¼š</p><p>(1)å»ºç«‹å¥—æ¥å­—æ–‡ä»¶æè¿°ç¬¦ï¼Œä½¿ç”¨å‡½æ•°socket()ï¼Œç”Ÿæˆå¥—æ¥å­—æ–‡ä»¶æè¿°ç¬¦ã€‚</p><p>(2)è®¾ç½®æœåŠ¡å™¨åœ°å€å’Œä¾¦å¬ç«¯å£ï¼Œåˆå§‹åŒ–è¦ç»‘å®šçš„ç½‘ç»œåœ°å€ç»“æ„ã€‚</p><p>(3)ç»‘å®šä¾¦å¬ç«¯å£ï¼Œä½¿ç”¨bind()å‡½æ•°ï¼Œå°†å¥—æ¥å­—æ–‡ä»¶æè¿°ç¬¦å’Œä¸€ä¸ªåœ°å€ç±»å‹å˜é‡è¿›è¡Œç»‘å®šã€‚</p><p>(4)æ¥æ”¶å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œä½¿ç”¨recvfrom()å‡½æ•°æ¥æ”¶å®¢æˆ·ç«¯çš„ç½‘ç»œæ•°æ®ã€‚</p><p>(5)å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œä½¿ç”¨sendto()å‡½æ•°å‘æœåŠ¡å™¨ä¸»æœºå‘é€æ•°æ®ã€‚</p><p>(6)å…³é—­å¥—æ¥å­—ï¼Œä½¿ç”¨close()å‡½æ•°é‡Šæ”¾èµ„æºã€‚UDPåè®®çš„å®¢æˆ·ç«¯æµç¨‹</p><p>UDPåè®®çš„å®¢æˆ·ç«¯æµç¨‹ï¼š</p><p>(1)å»ºç«‹å¥—æ¥å­—æ–‡ä»¶æè¿°ç¬¦ï¼Œsocket()ï¼›</p><p>(2)è®¾ç½®æœåŠ¡å™¨åœ°å€å’Œç«¯å£ï¼Œstruct sockaddrï¼›</p><p>(3)å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œsendto()ï¼›</p><p>(4)æ¥æ”¶æœåŠ¡å™¨çš„æ•°æ®ï¼Œrecvfrom()ï¼›</p><p>(5)å…³é—­å¥—æ¥å­—ï¼Œclose()ã€‚</p><p><img src="/loading.gif" data-original="https://i.loli.net/2019/12/31/kU7i4GObXKWndrw.png" alt="UDPç¼–ç¨‹æµç¨‹"></p><h3 id="2ã€ç›¸å…³å‡½æ•°"><a href="#2ã€ç›¸å…³å‡½æ•°" class="headerlink" title="2ã€ç›¸å…³å‡½æ•°"></a>2ã€ç›¸å…³å‡½æ•°</h3><p>(1)  int socket(AF_INET, SOCK_DGRAM, 0);</p><p>åˆ›å»ºudp socketï¼Œè¿”å›å¥—æ¥å­—æè¿°ç¬¦ï¼ŒUDPåè®®å»ºç«‹å¥—æ¥å­—çš„æ–¹å¼åŒTCPæ–¹å¼ä¸€æ ·ï¼Œä½¿ç”¨socket()å‡½æ•°ï¼Œåªä¸è¿‡åè®®çš„ç±»å‹ä½¿ç”¨SOCK_DGRAMï¼Œè€Œä¸æ˜¯SOCK_STREAMã€‚</p><p>(2) int sendto(int sockfd, const void <em>data, int data_len, unsigned int flags, struct sockaddr </em>remaddr,sock_lenremaddr_len)</p><p>åŠŸèƒ½ï¼šåŸºäºUDPå‘é€æ•°æ®æŠ¥ï¼Œè¿”å›å®é™…å‘é€çš„æ•°æ®é•¿åº¦ï¼Œå‡ºé”™æ—¶è¿”å›ï¼1</p><p>å‚æ•°è¯´æ˜ï¼š</p><p>sockfd:å¥—æ¥å­—æè¿°ç¬¦</p><p>data:æŒ‡å‘è¦å‘é€æ•°æ®çš„æŒ‡é’ˆ</p><p>data_len:æ•°æ®é•¿åº¦</p><p>flags:é€šå¸¸ä¸º0</p><p>remaddr:è¿œç«¯åœ°å€ï¼šIPåœ°å€å’Œç«¯å£å·</p><p>remaddr_len:åœ°å€é•¿åº¦</p><p>(3) int recvfrom(int sockfd, void <em>buf,int buf_len,unsigned int flags,struct sockaddr </em>from,sock_len *fromlen);</p><p>åŠŸèƒ½ï¼šä»UDPæ¥æ”¶æ•°æ®ï¼Œè¿”å›å®é™…æ¥æ”¶çš„å­—èŠ‚æ•°ï¼Œå¤±è´¥æ—¶è¿”å›ï¼1</p><p>å‚æ•°è¯´æ˜ï¼š</p><p>Sockfd:å¥—æ¥å­—æè¿°ç¬¦</p><p>buf:æŒ‡å‘å†…å­˜å—çš„æŒ‡é’ˆ</p><p>buf_len:å†…å­˜å—å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½</p><p>flags:ä¸€èˆ¬ä¸º0</p><p>from:è¿œç«¯çš„åœ°å€ï¼ŒIPåœ°å€å’Œç«¯å£å·</p><p>fromlen:è¿œç«¯åœ°å€é•¿åº¦</p><h3 id="3ã€ç¨‹åºç¼–å†™"><a href="#3ã€ç¨‹åºç¼–å†™" class="headerlink" title="3ã€ç¨‹åºç¼–å†™"></a>3ã€ç¨‹åºç¼–å†™</h3><p>(1) ç”¨Cè¯­è¨€ç¼–å†™å®¢æˆ·ç«¯ç¨‹åºï¼Œåˆ›å»ºä¸€ä¸ªsocketé€šä¿¡ï¼Œä»å®¢æˆ·ç«¯è¾“å…¥åä¸ªå­—ç¬¦ä¸²ã€‚</p><p>(2) ç¼–è¯‘å®¢æˆ·ç«¯ç¨‹åºç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</p><p>è¾“å…¥å‘½ä»¤ï¼šgcc client1.c -o client1</p><p>â€‹              ./client1</p><p><img src="/loading.gif" data-original="https://i.loli.net/2019/12/31/nDbKUhktrEle2AM.png" alt="ç¼–è¯‘å®¢æˆ·ç«¯ç¨‹åº"></p><p>(3) ç”¨Cè¯­è¨€ç¼–å†™æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œç»‘å®šå®¢æˆ·ç«¯é€šä¿¡ï¼Œæ¥æ”¶ä»å®¢æˆ·ç«¯è¾“å…¥çš„åä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå¹¶ç»Ÿè®¡è¾“å…¥çš„å­—ç¬¦ä¸²ä¸­æ€»çš„å•è¯æ•°å’Œå­—ç¬¦æ•°ï¼Œå¹¶æŒ‰é¦–ä½å­—æ¯çš„ASCIIç å€¼ä»é«˜åˆ°ä½è¿›è¡Œæ’åˆ—ï¼Œè¾“å‡ºæ˜¾ç¤ºåˆ°å±å¹•ã€‚</p><p>(4) ç¼–è¯‘æœåŠ¡å™¨ç«¯ç¨‹åºç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</p><p>è¾“å…¥å‘½ä»¤ï¼šgcc server1.c -o server1</p><p>â€‹              ./server1</p><p><img src="/loading.gif" data-original="https://i.loli.net/2019/12/31/P57M3ksLFhqHdyK.png" alt="ç¼–è¯‘æœåŠ¡å™¨ç«¯ç¨‹åº"></p><h3 id="4ã€ç¨‹åºè¿è¡Œæ•ˆæœ"><a href="#4ã€ç¨‹åºè¿è¡Œæ•ˆæœ" class="headerlink" title="4ã€ç¨‹åºè¿è¡Œæ•ˆæœ"></a>4ã€ç¨‹åºè¿è¡Œæ•ˆæœ</h3><p>(1) å®¢æˆ·ç«¯è¾“å…¥åä¸ªå­—ç¬¦ä¸²ã€‚</p><p>æ³¨ï¼šè¾“å…¥10ä¸ªå­—ç¬¦ä¸²æ—¶æ¯è¡Œä»£è¡¨1ä¸ªå­—ç¬¦ä¸²ï¼Œ10å­—ç¬¦ä¸²10è¡Œï¼Œç”±äºå­—ç¬¦ä¸²çš„è¾“å…¥æ˜¯ç”± fgets() å‡½æ•°å®ç°çš„ï¼Œæ‰€ä»¥è·å–å­—ç¬¦ä¸²çš„æ—¶å€™ä¼šå°†ç©ºæ ¼ç¬¦å’Œæ¢è¡Œç¬¦ä¹Ÿè¿›è¡Œä¿å­˜ï¼Œè¿™ç‚¹åœ¨åé¢è¿›è¡Œæ€»å­—ç¬¦æ•°çš„ç»Ÿè®¡æ—¶ä¹Ÿä½“ç°äº†å‡ºæ¥ï¼Œè·å–çš„å­—ç¬¦ä¸²ç”±ç»“æ„ä½“sendbuf[10]è¿›è¡Œå­˜å‚¨ã€‚</p><p><img src="/loading.gif" data-original="https://i.loli.net/2019/12/31/HqKkpUYsr7o6OVA.png" alt="å®¢æˆ·ç«¯è¿è¡Œæ•ˆæœ"></p><p>(2) æœåŠ¡å™¨ç«¯æ¥æ”¶æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå¹¶ç»Ÿè®¡è¾“å…¥çš„å­—ç¬¦ä¸²ä¸­æ€»çš„å•è¯æ•°å’Œå­—ç¬¦æ•°ï¼Œå¹¶æŒ‰é¦–ä½å­—æ¯çš„ASCIIç å€¼ä»é«˜åˆ°ä½è¿›è¡Œæ’åˆ—ï¼Œè¾“å‡ºæ˜¾ç¤ºåˆ°å±å¹•ã€‚</p><p>æ³¨ï¼šç»Ÿè®¡æ€»å•è¯æ•°ç›¸å½“äºç»Ÿè®¡æ€»ç©ºæ ¼æ•°ï¼Œç©ºæ ¼æ•°+1å³ä¸ºæ€»å•è¯æ•°ï¼Œå­—ç¬¦æ•°çš„ç»Ÿè®¡ç»“æœåŒ…æ‹¬äº†æ¯ä¸ªå­—ç¬¦ä¸²çš„ç©ºæ ¼å’Œæ¢è¡Œç¬¦ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²éƒ½æœ‰ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œå¦‚å›¾9ï¼Œå¯ä»¥çœ‹åˆ°å¾—åˆ°çš„æ€»å­—ç¬¦æ•°85ä¸­åŒ…å«äº†æ‰€æœ‰çš„ç©ºæ ¼ç¬¦å’Œæ¢è¡Œç¬¦ã€‚åˆ©ç”¨å†’æ³¡æ’åºï¼Œç›´æ¥æ¯”è¾ƒè¾“å…¥çš„10ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—æ¯ï¼Œå®ç°å­—ç¬¦ä¸²æŒ‰é¦–å­—æ¯ASCIIç å€¼ä»å¤§åˆ°å°æ’åˆ—ã€‚</p><p><img src="/loading.gif" data-original="https://i.loli.net/2019/12/31/ezErBTlbW7FoQSx.png" alt="æœåŠ¡å™¨ç«¯è¿è¡Œæ•ˆæœ"></p><h3 id="5ã€å­—ç¬¦ä¸²æ’åºè¯´æ˜"><a href="#5ã€å­—ç¬¦ä¸²æ’åºè¯´æ˜" class="headerlink" title="5ã€å­—ç¬¦ä¸²æ’åºè¯´æ˜"></a>5ã€å­—ç¬¦ä¸²æ’åºè¯´æ˜</h3><p>(1) å®ç°å°†10ä¸ªå­—ç¬¦ä¸²æŒ‰é¦–å­—æ¯çš„ASCIIç å€¼ä»é«˜åˆ°ä½è¿›è¡Œæ’åˆ—å¹¶ä¾æ¬¡è¾“å‡ºæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚</p><p>åŠŸèƒ½å®ç°ï¼šè¾“å…¥çš„10ä¸ªå­—ç¬¦ä¸²è®¾ç½®ç»“æ„ä½“sendbuf[10]ä¿å­˜ï¼Œå†æœåŠ¡å™¨ç«¯è®¾ç½®ç»“æ„ä½“recvbuf[10]æ¥æ”¶æ•°æ®ï¼Œåˆ©ç”¨å†’æ³¡æ’åºï¼Œå…ˆå°†æ¯ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—æ¯å–å‡ºæ¥ï¼Œå°†å…¶å€¼èµ‹ç»™æœåŠ¡ç«¯æ¥æ”¶ç¼“å†²åŒºç»“æ„ä½“çš„recvbuf[i].initæˆå‘˜ï¼ˆä¸“é—¨ç”¨äºå­˜å‚¨å­—ç¬¦ä¸²çš„é¦–å­—æ¯ï¼‰ï¼Œå†ç›´æ¥æ¯”è¾ƒrecvbuf[i].initæˆå‘˜å€¼çš„ASCIIç å€¼å¤§å°ï¼Œå®ç°ä»é«˜åˆ°åº•æ’åˆ—å¹¶è¾“å‡ºåˆ°å±å¹•ä¸Šã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">10</span>; n++)</span><br><span class="line">â€‹    &#123;</span><br><span class="line">â€‹        <span class="keyword">int</span> k = n;</span><br><span class="line">â€‹        <span class="keyword">for</span> (<span class="keyword">int</span> m = n + <span class="number">1</span>; m &lt; <span class="number">10</span>; m++)</span><br><span class="line">â€‹        &#123;</span><br><span class="line">â€‹            <span class="keyword">if</span> (recvbuf[k].init &lt; recvbuf[m].init)</span><br><span class="line">â€‹                k = m;</span><br><span class="line">â€‹        &#125;</span><br><span class="line">â€‹        <span class="keyword">if</span> (k != n)</span><br><span class="line">â€‹        &#123;</span><br><span class="line">â€‹            temp = recvbuf[n];</span><br><span class="line">â€‹            recvbuf[n] = recvbuf[k];</span><br><span class="line">â€‹            recvbuf[k] = temp;</span><br><span class="line">â€‹        &#125;</span><br><span class="line">â€‹    &#125;</span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"å­—ç¬¦ä¸²æŒ‰é¦–å­—æ¯ASCIIç å€¼ä»å¤§åˆ°å°æ’åˆ—ä¸ºï¼š\n"</span>);</span><br><span class="line">â€‹    <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">10</span>; n++)</span><br><span class="line">â€‹    &#123;</span><br><span class="line">â€‹        <span class="built_in">printf</span>(<span class="string">"%s"</span>, recvbuf[n].string_client);</span><br><span class="line">â€‹    &#125;</span><br></pre></td></tr></table></figure><h3 id="6ã€å®Œæ•´å®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯ç¨‹åºä»£ç "><a href="#6ã€å®Œæ•´å®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯ç¨‹åºä»£ç " class="headerlink" title="6ã€å®Œæ•´å®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯ç¨‹åºä»£ç "></a>6ã€å®Œæ•´å®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯ç¨‹åºä»£ç </h3><p>å®¢æˆ·ç«¯ç¨‹åºæºç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">define</span> MYPORT 8886</span></span><br><span class="line"><span class="keyword">char</span>* SERVERIP = <span class="string">"127.0.0.1"</span>;</span><br><span class="line">\<span class="meta">#<span class="meta-keyword">define</span> ERR_EXIT(m) \</span></span><br><span class="line">â€‹    <span class="keyword">do</span> \</span><br><span class="line">&#123; \</span><br><span class="line">â€‹    perror(m); \</span><br><span class="line">â€‹    <span class="built_in">exit</span>(EXIT_FAILURE); \</span><br><span class="line">â€‹    &#125; <span class="keyword">while</span>(<span class="number">0</span>)</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">echo_cli</span><span class="params">(<span class="keyword">int</span> sock)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">servaddr</span>;</span></span><br><span class="line">â€‹    <span class="built_in">memset</span>(&amp;servaddr, <span class="number">0</span>, <span class="keyword">sizeof</span>(servaddr));</span><br><span class="line">â€‹    servaddr.sin_family = AF_INET;</span><br><span class="line">â€‹    servaddr.sin_port = htons(MYPORT);</span><br><span class="line">â€‹    servaddr.sin_addr.s_addr = inet_addr(SERVERIP);</span><br><span class="line">â€‹    <span class="keyword">int</span> ret;</span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">client</span></span></span><br><span class="line"><span class="class">â€‹    &#123;</span></span><br><span class="line">â€‹        <span class="keyword">char</span> string_client[<span class="number">100</span>];</span><br><span class="line">â€‹    &#125;sendbuf[<span class="number">10</span>];</span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">server</span></span></span><br><span class="line"><span class="class">â€‹    &#123;</span></span><br><span class="line">â€‹        <span class="keyword">char</span> string_client[<span class="number">100</span>];</span><br><span class="line">â€‹    &#125;recvbuf[<span class="number">10</span>];</span><br><span class="line">â€‹    <span class="comment">//struct client temp;</span></span><br><span class="line">â€‹    <span class="comment">//struct server temp;</span></span><br><span class="line">â€‹    <span class="keyword">int</span> i;</span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥10å­—ç¬¦ä¸²ï¼š\n"</span>);</span><br><span class="line">â€‹    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">â€‹    &#123;</span><br><span class="line">â€‹        fgets(sendbuf[i].string_client,<span class="number">100</span>,<span class="built_in">stdin</span>);</span><br><span class="line">â€‹    &#125;</span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"å‘æœåŠ¡å™¨å‘é€ï¼š\n"</span>);</span><br><span class="line">â€‹    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">â€‹    &#123;</span><br><span class="line">â€‹        <span class="built_in">printf</span>(<span class="string">"%s"</span>, sendbuf[i].string_client);</span><br><span class="line">â€‹        sendto(sock, sendbuf[i].string_client, <span class="built_in">strlen</span>(sendbuf[i].string_client), <span class="number">0</span>, (struct sockaddr *)&amp;servaddr, <span class="keyword">sizeof</span>(servaddr));</span><br><span class="line">â€‹        <span class="built_in">memset</span>(sendbuf, <span class="number">0</span>, <span class="keyword">sizeof</span>(sendbuf[i].string_client));</span><br><span class="line">â€‹    &#125;</span><br><span class="line">â€‹    <span class="built_in">close</span>(sock);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">â€‹    <span class="keyword">int</span> sock;</span><br><span class="line">â€‹    <span class="keyword">if</span> ((sock = socket(PF_INET, SOCK_DGRAM, <span class="number">0</span>)) &lt; <span class="number">0</span>)</span><br><span class="line">â€‹        ERR_EXIT(<span class="string">"socket"</span>);</span><br><span class="line">â€‹    echo_cli(sock);</span><br><span class="line">â€‹    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœåŠ¡å™¨ç«¯ç¨‹åºæºç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">define</span> MYPORT 8886</span></span><br><span class="line">\<span class="meta">#<span class="meta-keyword">define</span> ERR_EXIT(m) \</span></span><br><span class="line">â€‹    <span class="keyword">do</span> &#123; \</span><br><span class="line">â€‹    perror(m); \</span><br><span class="line">â€‹    <span class="built_in">exit</span>(EXIT_FAILURE); \</span><br><span class="line">â€‹    &#125; <span class="keyword">while</span> (<span class="number">0</span>)</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">echo_ser</span><span class="params">(<span class="keyword">int</span> sock)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">â€‹    <span class="comment">//char recvbuf[1024] = &#123;0&#125;;</span></span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">server</span></span></span><br><span class="line"><span class="class">â€‹    &#123;</span></span><br><span class="line">â€‹        <span class="keyword">char</span> string_client[<span class="number">100</span>];</span><br><span class="line">â€‹        <span class="keyword">char</span> init;</span><br><span class="line">â€‹    &#125;recvbuf[<span class="number">10</span>];</span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">server</span> <span class="title">temp</span>;</span></span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">peeraddr</span>;</span></span><br><span class="line">â€‹    <span class="keyword">socklen_t</span> peerlen;</span><br><span class="line">â€‹    <span class="keyword">int</span> n;</span><br><span class="line">â€‹    <span class="keyword">int</span> i, nword=<span class="number">0</span>, nchar=<span class="number">0</span>;</span><br><span class="line">â€‹    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">â€‹    &#123;       </span><br><span class="line">â€‹        peerlen = <span class="keyword">sizeof</span>(peeraddr);</span><br><span class="line">â€‹        <span class="built_in">memset</span>(recvbuf[i].string_client, <span class="number">0</span>, <span class="keyword">sizeof</span>(recvbuf[i].string_client));</span><br><span class="line">â€‹        n = recvfrom(sock, recvbuf[i].string_client, <span class="keyword">sizeof</span>(recvbuf[i].string_client), <span class="number">0</span>,</span><br><span class="line">â€‹                     (struct sockaddr *)&amp;peeraddr, &amp;peerlen);</span><br><span class="line">â€‹        <span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">â€‹        &#123;            </span><br><span class="line">â€‹            <span class="keyword">if</span> (errno == EINTR)</span><br><span class="line">â€‹                <span class="keyword">continue</span>;          </span><br><span class="line">â€‹            ERR_EXIT(<span class="string">"recvfrom error"</span>);</span><br><span class="line">â€‹        &#125;</span><br><span class="line">â€‹        <span class="keyword">else</span> <span class="keyword">if</span>(n &gt; <span class="number">0</span>)</span><br><span class="line">â€‹        &#123;</span><br><span class="line">â€‹            <span class="built_in">printf</span>(<span class="string">"æ¥æ”¶åˆ°çš„æ•°æ®ï¼š%s"</span>,recvbuf[i].string_client);</span><br><span class="line">â€‹            <span class="comment">//printf("%s",recvbuf[i].string_client);</span></span><br><span class="line">â€‹            <span class="comment">//sendto(sock, recvbuf, n, 0,</span></span><br><span class="line">â€‹            <span class="comment">//       (struct sockaddr *)&amp;peeraddr, peerlen);</span></span><br><span class="line">â€‹            <span class="comment">//printf("å›é€çš„æ•°æ®ï¼š%s\n",recvbuf[i].string_client);</span></span><br><span class="line">â€‹        &#125;</span><br><span class="line">â€‹    &#125;</span><br><span class="line">â€‹    <span class="keyword">int</span> numWhiteSpace = <span class="number">0</span>;</span><br><span class="line">â€‹    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">â€‹    <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">10</span>; n++)</span><br><span class="line">â€‹    &#123;</span><br><span class="line">â€‹        <span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">â€‹        <span class="built_in">strcpy</span>(str, recvbuf[n].string_client);</span><br><span class="line">â€‹        <span class="comment">//printf("å­—ç¬¦ä¸²ï¼š%s\n", str);</span></span><br><span class="line">â€‹        recvbuf[n].init = str[<span class="number">0</span>];</span><br><span class="line">â€‹        <span class="keyword">while</span> (<span class="string">'\0'</span> != str[j])</span><br><span class="line">â€‹        &#123;</span><br><span class="line">â€‹            <span class="keyword">if</span> (<span class="string">' '</span> == str[j])&#123;</span><br><span class="line">â€‹                ++numWhiteSpace;   <span class="comment">//ç©ºæ ¼æ•°</span></span><br><span class="line">â€‹            &#125;</span><br><span class="line">â€‹            ++j; <span class="comment">//å­—ç¬¦æ•°</span></span><br><span class="line">â€‹        &#125;</span><br><span class="line">â€‹        nchar = j + nchar;</span><br><span class="line">â€‹        nword = numWhiteSpace + <span class="number">1</span>+nword;</span><br><span class="line">â€‹        j = <span class="number">0</span>;</span><br><span class="line">â€‹        numWhiteSpace = <span class="number">0</span>;</span><br><span class="line">â€‹    &#125;</span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"è¾“å…¥å­—ç¬¦ä¸²çš„æ€»å•è¯æ•°ï¼š%d\n"</span>, nword);</span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"è¾“å…¥å­—ç¬¦ä¸²çš„æ€»å­—ç¬¦æ•°ï¼ˆåŒ…æ‹¬ç©ºæ ¼ã€æ¢è¡Œç¬¦ï¼‰ï¼š%d\n"</span>, nchar); </span><br><span class="line">â€‹    <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">10</span>; n++)</span><br><span class="line">â€‹    &#123;</span><br><span class="line">â€‹        <span class="keyword">int</span> k = n;</span><br><span class="line">â€‹        <span class="keyword">for</span> (<span class="keyword">int</span> m = n + <span class="number">1</span>; m &lt; <span class="number">10</span>; m++)</span><br><span class="line">â€‹        &#123;</span><br><span class="line">â€‹            <span class="keyword">if</span> (recvbuf[k].init &lt; recvbuf[m].init)</span><br><span class="line">â€‹                k = m;</span><br><span class="line">â€‹        &#125;</span><br><span class="line">â€‹        <span class="keyword">if</span> (k != n)</span><br><span class="line">â€‹        &#123;</span><br><span class="line">â€‹            temp = recvbuf[n];</span><br><span class="line">â€‹            recvbuf[n] = recvbuf[k];</span><br><span class="line">â€‹            recvbuf[k] = temp;</span><br><span class="line">â€‹        &#125;</span><br><span class="line">â€‹    &#125;</span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"å­—ç¬¦ä¸²æŒ‰é¦–å­—æ¯ASCIIç å€¼ä»å¤§åˆ°å°æ’åˆ—ä¸ºï¼š\n"</span>);</span><br><span class="line">â€‹    <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">10</span>; n++)</span><br><span class="line">â€‹    &#123;</span><br><span class="line">â€‹        <span class="built_in">printf</span>(<span class="string">"%s"</span>, recvbuf[n].string_client);</span><br><span class="line">â€‹    &#125;</span><br><span class="line">â€‹    <span class="built_in">close</span>(sock);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">â€‹    <span class="keyword">int</span> sock;</span><br><span class="line">â€‹    <span class="keyword">if</span> ((sock = socket(PF_INET, SOCK_DGRAM, <span class="number">0</span>)) &lt; <span class="number">0</span>)</span><br><span class="line">â€‹        ERR_EXIT(<span class="string">"socket error"</span>);</span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">servaddr</span>;</span></span><br><span class="line">â€‹    <span class="built_in">memset</span>(&amp;servaddr, <span class="number">0</span>, <span class="keyword">sizeof</span>(servaddr));</span><br><span class="line">â€‹    servaddr.sin_family = AF_INET;</span><br><span class="line">â€‹    servaddr.sin_port = htons(MYPORT);</span><br><span class="line">â€‹    servaddr.sin_addr.s_addr = htonl(INADDR_ANY);  </span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"ç›‘å¬%dç«¯å£\n"</span>,MYPORT);</span><br><span class="line">â€‹    <span class="keyword">if</span> (bind(sock, (struct sockaddr *)&amp;servaddr, <span class="keyword">sizeof</span>(servaddr)) &lt; <span class="number">0</span>)</span><br><span class="line">â€‹        ERR_EXIT(<span class="string">"bind error"</span>);   </span><br><span class="line">â€‹    echo_ser(sock);  </span><br><span class="line">â€‹    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> socketé€šä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨åŸºç¡€çŸ¥è¯†ä¸é…ç½®</title>
      <link href="/2019/06/10/Server-basics-and-configuration/"/>
      <url>/2019/06/10/Server-basics-and-configuration/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>1ã€ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹ï¼Ÿå®ˆæŠ¤è¿›ç¨‹çš„ç±»å‹å’Œä½œç”¨æœ‰å“ªäº›ï¼Ÿ</p><p>Linux æœåŠ¡å™¨åœ¨å¯åŠ¨æ—¶éœ€è¦å¯åŠ¨å¾ˆå¤šç³»ç»ŸæœåŠ¡ï¼Œå®ƒä»¬å‘æœ¬åœ°å’Œç½‘ç»œç”¨æˆ·æä¾›äº†Linuxçš„ç³»ç»ŸåŠŸèƒ½æ¥å£ï¼Œç›´æ¥é¢å‘åº”ç”¨ç¨‹åºå’Œç”¨æˆ·ã€‚æä¾›è¿™äº›æœåŠ¡çš„ç¨‹åºæ˜¯ç”±è¿è¡Œåœ¨åå°çš„å®ˆæŠ¤è¿›ç¨‹æ¥æ‰§è¡Œçš„ã€‚å®ˆæŠ¤è¿›ç¨‹æ˜¯ç”Ÿå­˜æœŸé•¿çš„ä¸€ç§è¿›ç¨‹ã€‚å®ƒä»¬ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚ä»–ä»¬å¸¸å¸¸åœ¨ç³»ç»Ÿå¼•å¯¼è£…å…¥æ—¶å¯åŠ¨ï¼Œåœ¨ç³»ç»Ÿå…³é—­æ—¶ç»ˆæ­¢ã€‚linuxç³»ç»Ÿæœ‰å¾ˆå¤šå®ˆæŠ¤è¿›ç¨‹ï¼Œå¤§å¤šæ•°æœåŠ¡å™¨éƒ½æ˜¯ç”¨å®ˆæŠ¤è¿›ç¨‹å®ç°çš„ã€‚åŒæ—¶ï¼Œå®ˆæŠ¤è¿›ç¨‹å®Œæˆè®¸å¤šç³»ç»Ÿä»»åŠ¡ï¼Œæ¯”å¦‚ï¼Œä½œä¸šè§„åˆ’è¿›ç¨‹crondã€æ‰“å°è¿›ç¨‹lqdç­‰ã€‚</p><a id="more"></a><p>æ ¹æ®å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨å’Œç®¡ç†æ–¹å¼ï¼Œå¯ä»¥åˆ†ä¸ºç‹¬ç«‹å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹å’Œè¶…çº§å®ˆæŠ¤è¿›ç¨‹ä¸¤ç±»ï¼š</p><p>ç‹¬ç«‹å¯åŠ¨ï¼ˆstand_alone):è¯¥ç±»è¿›ç¨‹å¯åŠ¨åå°±å¸¸é©»å†…å­˜ï¼Œæ‰€ä»¥ä¼šä¸€ç›´å ç”¨ç³»ç»Ÿèµ„æºã€‚å…¶æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å®ƒä¼šä¸€ç›´å¯åŠ¨ï¼Œå½“å¤–ç•Œæœ‰è¦æ±‚æ—¶ç›¸åº”é€Ÿåº¦è¾ƒå¿«ï¼Œåƒhttpdç­‰è¿›ç¨‹ã€‚</p><p>è¶…çº§å®ˆæŠ¤è¿›ç¨‹ï¼šç³»ç»Ÿå¯åŠ¨æ—¶ç”±ä¸€ä¸ªç»Ÿä¸€çš„å®ˆæŠ¤è¿›ç¨‹xinetæ¥è´Ÿè´£ç®¡ç†ä¸€äº›è¿›ç¨‹ï¼Œå½“ç›¸åº”è¯·æ±‚åˆ°æ¥æ—¶éœ€è¦é€šè¿‡xinetçš„è½¬æ¥æ‰å¯ä»¥å”¤é†’è¢«xinetç®¡ç†çš„è¿› ç¨‹ã€‚è¿™ç§è¿›ç¨‹çš„ä¼˜ç‚¹æ—¶æœ€åˆåªæœ‰xinetè¿™ä¸€å®ˆæŠ¤è¿›ç¨‹å æœ‰ç³»ç»Ÿèµ„æºï¼Œå…¶ä»–çš„å†…éƒ¨æœåŠ¡å¹¶ä¸ä¸€ç›´å æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæœ‰æ•°æ®åŒ…åˆ°æ¥æ—¶æ‰ä¼šè¢«xinetç®¡ç†å‘˜æ¥å”¤é†’ã€‚å¹¶ä¸”æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡xinetæ¥å¯¹å®ƒæ‰€ç®¡ç†çš„è¿›ç¨‹è®¾ç½®ä¸€äº›è®¿é—®æƒé™ï¼Œç›¸å½“äºå¤šäº†ä¸€å±‚ç®¡ç†æœºåˆ¶ã€‚</p><p>2.linuxçš„initè¿›ç¨‹æ˜¯æ€æ ·çš„è¿›ç¨‹ï¼Ÿç»†è¯´initå’Œlinuxä¸Šçš„å„æœåŠ¡è¿›ç¨‹ä¹‹é—´çš„å…³ç³»ï¼Ÿ</p><p>initæ˜¯Linuxç³»ç»Ÿæ“ä½œä¸­ä¸å¯ç¼ºå°‘çš„ç¨‹åºä¹‹ä¸€ã€‚æ‰€è°“çš„initè¿›ç¨‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”±å†…æ ¸å¯åŠ¨çš„ç”¨æˆ·çº§è¿›ç¨‹ã€‚å†…æ ¸è‡ªè¡Œå¯åŠ¨ï¼ˆå·²ç»è¢«è½½å…¥å†…å­˜ï¼Œå¼€å§‹è¿è¡Œï¼Œå¹¶å·²åˆå§‹åŒ–æ‰€æœ‰çš„è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œæ•°æ®ç»“æ„ç­‰ï¼‰ä¹‹åï¼Œå°±é€šè¿‡å¯åŠ¨ä¸€ä¸ªç”¨æˆ·çº§ç¨‹åºinitçš„æ–¹å¼ï¼Œå®Œæˆå¼•å¯¼è¿›ç¨‹ã€‚</p><p>æ‰€ä»¥,initå§‹ç»ˆæ˜¯ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼ˆå…¶è¿›ç¨‹ç¼–å·å§‹ç»ˆä¸º1ï¼‰ã€‚å†…æ ¸ä¼šåœ¨è¿‡å»æ›¾ä½¿ç”¨è¿‡initçš„å‡ ä¸ªåœ°æ–¹æŸ¥æ‰¾å®ƒï¼Œå®ƒçš„æ­£ç¡®ä½ç½®ï¼ˆå¯¹Linuxç³»ç»Ÿæ¥è¯´ï¼‰æ˜¯/sbin/initã€‚å¦‚æœå†…æ ¸æ‰¾ä¸åˆ°initï¼Œå®ƒå°±ä¼šè¯•ç€è¿è¡Œ/bin/shï¼Œå¦‚æœè¿è¡Œå¤±è´¥ï¼Œç³»ç»Ÿçš„å¯åŠ¨ä¹Ÿä¼šå¤±è´¥ã€‚</p><p>initè¿›ç¨‹ç”±0è¿›ç¨‹åˆ›å»ºï¼Œå®Œæˆç³»ç»Ÿçš„åˆå§‹åŒ–ï¼Œæ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰å…¶ä»–ç”¨æˆ·è¿›ç¨‹çš„ç¥–å…ˆè¿›ç¨‹ã€‚</p><p>3.ApacheæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶httpd.confä¸­æœ‰å¾ˆå¤šå†…å®¹ï¼Œè¯·è§£é‡Šå¦‚ä¸‹é…ç½®é¡¹ï¼š</p><p>ï¼ˆ1ï¼‰MaxKeepAliveRequests 200 </p><p>å…è®¸æ¯æ¬¡è¿æ¥çš„æœ€å¤§è¯·æ±‚æ•°ç›®ï¼Œæ­¤ä¸º200ã€‚</p><p>ï¼ˆ2ï¼‰UserDir public_html</p><p>è®¾å®šç”¨æˆ·æ”¾ç½®ç½‘é¡µçš„ç›®å½•ã€‚</p><p>ï¼ˆ3ï¼‰DefaultType text/plain </p><p>è®¾ç½®æœåŠ¡å™¨å¯¹äºä¸è®¤è¯†çš„æ–‡ä»¶ç±»å‹çš„é¢„è®¾æ ¼å¼ã€‚</p><p>ï¼ˆ4ï¼‰AddLanguare en.en</p><p>è®¾ç½®å¯ä¼ é€è¯­è¨€çš„æ–‡ä»¶ç»™æµè§ˆå™¨ã€‚</p><p>ï¼ˆ5ï¼‰DocumentRootâ€œ/usr/local/httpd/htdocsâ€</p><p>è¯¥ç›®å½•ä¸ºApacheæ”¾ç½®ç½‘é¡µçš„åœ°æ–¹ã€‚</p><p>ï¼ˆ6ï¼‰AddType application/x-httpd-php.php.php.php4</p><p>æœåŠ¡å™¨é€‰æ‹©ä½¿ç”¨php4ã€‚</p><p>ï¼ˆ7ï¼‰port 1080 </p><p>å°†apacheæœåŠ¡å™¨çš„ç«¯å£å·è®¾å®šä¸º1080ã€‚</p><p>ï¼ˆ8ï¼‰UserDir userdoc</p><p>è®¾å®šç”¨æˆ·ç½‘é¡µç›®å½•ä¸ºuserdocã€‚</p><p>ï¼ˆ9ï¼‰DocumentRoot â€œ/home/htdocsâ€</p><p>è®¾å®šapacheæœåŠ¡å™¨çš„ç½‘é¡µæ ¹ç›®å½•:/home/htdocsã€‚</p><p>ï¼ˆ10ï¼‰Options Indexes FollowSymLinks   AllowOverride None </p><p>Order deny,allow     deny from all     allow from 192.168.1.5</p><p>åœ¨æ­¤apacheæœåŠ¡å™¨ä¸Šè®¾å®šä¸€ä¸ªç›®å½•/home/htdocs/insideï¼Œä¸”æ­¤ç›®å½•åªå…è®¸IPåœ°å€ä¸º192.168.1.5çš„ä¸»æœºè®¿é—®ã€‚</p><p>ï¼ˆ11ï¼‰Server Type Standlone</p><p>å®šä¹‰apacheæœåŠ¡å™¨ä»¥ç‹¬ç«‹è¿›ç¨‹çš„æ–¹å¼è¿è¡Œã€‚</p><p>4.ä»€ä¹ˆæ˜¯Apacheçš„è™šæ‹Ÿä¸»æœºï¼Ÿå…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸApacheè™šæ‹Ÿä¸»æœºå®ç°æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</p><p>Apacheæ˜¯å¼€æºçš„webæœåŠ¡è½¯ä»¶ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯ç°åœ¨å¼€æºç³»ç»Ÿæ¯”å¦‚centosä¸Šå®‰è£…webæœåŠ¡å¸¸è§è½¯ä»¶ï¼›è™šæ‹Ÿä¸»æœºæ˜¯æä¾›ç½‘ç«™æœåŠ¡çš„é›†æˆç¯å¢ƒï¼Œæ¯”å¦‚ï¼šlinux Apache+php+mysqã€LAMPã€‚å°±æ˜¯å¸¸è¯´çš„å»ºç«™å¼€é€šçš„è™šæ‹Ÿç©ºé—´ï¼Œæ‰€ä»¥ApacheæœåŠ¡å™¨åªæ˜¯è™šæ‹Ÿç©ºé—´çš„ä¸€ç§æ¶æ„ã€‚åœ¨ä¸€ä¸ªApacheæœåŠ¡å™¨ä¸Šå¯ä»¥é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºï¼Œå®ç°ä¸€ä¸ªæœåŠ¡å™¨æä¾›å¤šç«™ç‚¹æœåŠ¡ï¼Œå…¶å®å°±æ˜¯è®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ä¸åŒç›®å½•ã€‚</p><p>Apacheè™šæ‹Ÿä¸»æœºçš„é…ç½®æ–¹å¼ä¸»è¦æœ‰ä¸‰ç§ï¼Œå³åŸºäºIPã€åŸºäºportã€ä»¥åŠåŸºäºåŸŸåã€‚</p><p>5.ç®€è¿°ä½¿ç”¨ftpè¿›è¡Œæ–‡ä»¶ä¼ è¾“æ—¶çš„ä¸¤ç§ç™»å½•æ–¹å¼ï¼Ÿå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¸¸ç”¨çš„ftpæ–‡ä»¶ä¼ è¾“å‘½ä»¤æœ‰å“ªäº›ï¼Ÿ</p><p>ftpæœ‰ä¸¤ç§ç™»å½•æ–¹å¼ï¼šåŒ¿åç™»å½•å’Œæˆæƒç™»å½•ã€‚ä½¿ç”¨åŒ¿åç™»å½•æ—¶ï¼Œç”¨æˆ·åä¸ºï¼šanonymousï¼Œå¯†ç ä¸ºï¼šä»»ä½•åˆæ³•emailåœ°å€ï¼›ä½¿ç”¨æˆæƒç™»å½•æ—¶ï¼Œç”¨æˆ·åä¸ºç”¨æˆ·åœ¨è¿œç¨‹ç³»ç»Ÿä¸­çš„ç”¨æˆ·å¸å·ï¼Œå¯†ç ä¸ºç”¨æˆ·åœ¨è¿œç¨‹ç³»ç»Ÿä¸­çš„ç”¨æˆ·å¯†ç ã€‚</p><p>åŒºåˆ«ï¼šä½¿ç”¨åŒ¿åç™»å½•åªèƒ½è®¿é—®ftpç›®å½•ä¸‹çš„èµ„æºï¼Œé»˜è®¤é…ç½®ä¸‹åªèƒ½ä¸‹è½½ï¼›è€Œæˆæƒç™»å½•è®¿é—®çš„æƒé™å¤§äºåŒ¿åç™»å½•ï¼Œä¸”ä¸Šè½½ã€ä¸‹è½½å‡å¯ã€‚</p><p>ftpæ–‡ä»¶ä¼ è¾“æœ‰ä¸¤ç§æ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼šASCIIæ¨¡å¼å’ŒäºŒè¿›åˆ¶æ•°æ®æ¨¡å¼ã€‚ASCIIæ¨¡å¼ç”¨æ¥ä¼ è¾“æ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶çš„ä¼ è¾“ä½¿ç”¨binaryæ¨¡å¼ã€‚</p><p>å¸¸ç”¨çš„ftpæ–‡ä»¶ä¼ è¾“å‘½ä»¤ä¸ºï¼šbinã€ascã€putã€getã€mputã€mgetã€promptã€byeã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> æœåŠ¡å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux ç¼–ç¨‹å®ä¾‹</title>
      <link href="/2019/06/03/Linux-programming-examples/"/>
      <url>/2019/06/03/Linux-programming-examples/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç¤ºä¾‹ï¼šç”¨Cè¯­è¨€ç¼–å†™ä¸€ä¸ªä»é”®ç›˜è¾“å…¥10åå­¦ç”Ÿçš„å§“åã€æ€§åˆ«ã€å­¦å·å’Œå®¶åº­ä½å€ï¼Œç„¶åæŒ‰ç…§å­¦å·æ’åºï¼Œå¹¶å°†æ’åºåçš„ç»“æœåœ¨å±å¹•ä¸ŠæŒ‰å¯¹é½çš„æ–¹å¼æ‰“å°è¾“å‡ºçš„ç¨‹åºã€‚</p><a id="more"></a><p>Cè¯­è¨€æ’åºç¨‹åºæºç  (å­¦å·æŒ‰ä»é«˜åˆ°ä½æ’åº)ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;  </span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥10åå­¦ç”Ÿçš„å§“åï¼Œæ€§åˆ«ï¼Œå­¦å·ï¼Œå®¶åº­ä½å€ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">char</span> sex[<span class="number">4</span>];  </span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">char</span> address[<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line">&#125;info[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">temp</span>;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">int</span> i,j, k;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥10ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯:å§“åã€æ€§åˆ«ã€å­¦å·ã€å®¶åº­ä½å€\n"</span>);</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line"></span><br><span class="line">â€‹    &#123;</span><br><span class="line"></span><br><span class="line">â€‹       <span class="comment">//printf("è¯·è¾“å…¥ç¬¬%dä½å­¦ç”Ÿçš„ä¿¡æ¯:å§“åã€æ€§åˆ«ã€å­¦å·ã€å®¶åº­ä½å€\n", i + 1);</span></span><br><span class="line"></span><br><span class="line">â€‹       <span class="built_in">scanf</span>(<span class="string">"%s%s%d%s"</span>, info[i].name, &amp;info[i].sex, &amp;info[i].id, &amp;info[i].address);</span><br><span class="line"></span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line"></span><br><span class="line">â€‹    &#123;</span><br><span class="line"></span><br><span class="line">â€‹       k = i;</span><br><span class="line"></span><br><span class="line">â€‹       <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line"></span><br><span class="line">â€‹       &#123;</span><br><span class="line"></span><br><span class="line">â€‹              <span class="keyword">if</span> (info[k].id &lt; info[j].id)</span><br><span class="line"></span><br><span class="line">â€‹                     k = j;</span><br><span class="line"></span><br><span class="line">â€‹       &#125;</span><br><span class="line"></span><br><span class="line">â€‹       <span class="keyword">if</span> (k != i)</span><br><span class="line"></span><br><span class="line">â€‹       &#123;</span><br><span class="line"></span><br><span class="line">â€‹              temp = info[i];</span><br><span class="line"></span><br><span class="line">â€‹              info[i] = info[k];</span><br><span class="line"></span><br><span class="line">â€‹              info[k] = temp;</span><br><span class="line"></span><br><span class="line">â€‹       &#125;</span><br><span class="line"></span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="built_in">printf</span>(<span class="string">"10ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯æŒ‰åºå·ç”±é«˜åˆ°ä½æ’åºä¸º\n"</span>);</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line"></span><br><span class="line">â€‹    &#123;</span><br><span class="line"></span><br><span class="line">â€‹       <span class="built_in">printf</span>(<span class="string">"%s\t%s\t%d\t%s\n"</span>, info[i].name, info[i].sex, info[i].id, info[i].address);</span><br><span class="line"></span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢å‘å¯¹è±¡è¯­è¨€çš„ç¼ºç‚¹å’Œé—®é¢˜</title>
      <link href="/2019/01/01/Disadvantages-and-problems-of-object-oriented-languages/"/>
      <url>/2019/01/01/Disadvantages-and-problems-of-object-oriented-languages/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯ä¸€ç§è®¡ç®—æœºç¼–ç¨‹æ¶æ„ã€‚é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€æ¡åŸºæœ¬åŸåˆ™æ˜¯è®¡ç®—æœºç¨‹åºæ˜¯ç”±å•ä¸ªèƒ½å¤Ÿèµ·åˆ°å­ç¨‹åºä½œç”¨çš„å•å…ƒæˆ–å¯¹è±¡ç»„åˆè€Œæˆã€‚é¢å‘å¯¹è±¡ç¼–ç¨‹è¾¾åˆ°äº†è½¯ä»¶å·¥ç¨‹çš„ä¸‰ä¸ªä¸»è¦ç›®æ ‡ï¼šé‡ç”¨æ€§ã€çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚ä¸ºäº†å®ç°æ•´ä½“è¿ç®—ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½èƒ½å¤Ÿæ¥æ”¶ä¿¡æ¯ã€å¤„ç†æ•°æ®å’Œå‘å…¶å®ƒå¯¹è±¡å‘é€ä¿¡æ¯ã€‚</p><a id="more"></a><p>åˆšå¼€å§‹å­¦ä¹ C++ æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆäº†è§£åˆ°çš„å°±æ˜¯é¢å‘å¯¹è±¡è¯­è¨€çš„å››ä¸ªåŸºæœ¬ç‰¹å¾ï¼šæŠ½è±¡ã€ç»§æ‰¿ã€å°è£…ã€å¤šæ€ã€ä»¥åŠä¸€å¤§å †é¢å‘å¯¹è±¡è¯­è¨€çš„ä¼˜ç‚¹åŒ…æ‹¬ä»£ç é‡ç”¨ï¼Œæƒé™æ§åˆ¶ï¼Œæ˜“æ‰©å±•ï¼Œå¼€å‘æ•ˆç‡é«˜ä¹‹ç±»çš„ã€‚æ¯«æ— ç–‘é—®é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å‡ºç°ä½¿äººä»¬çš„ç¼–ç¨‹ä¸å®é™…çš„ä¸–ç•Œæ›´åŠ æ¥è¿‘ï¼Œæ‰€æœ‰çš„å¯¹è±¡è¢«èµ‹äºˆå±æ€§å’Œæ–¹æ³•ï¼Œç»“æœç¼–ç¨‹å°±æ›´åŠ å¯Œæœ‰äººæ€§åŒ–ï¼Œä½†åŒæ—¶é¢å‘å¯¹è±¡è¯­è¨€ä»è¯ç”Ÿä¹‹æ—¥èµ·å°±ä¸€ç›´ä¼´éšç€è®¸å¤šçš„ç¼ºé™·ã€‚ </p><h3 id="1ã€è¿è¡Œé€Ÿåº¦æ…¢"><a href="#1ã€è¿è¡Œé€Ÿåº¦æ…¢" class="headerlink" title="1ã€è¿è¡Œé€Ÿåº¦æ…¢"></a>1ã€è¿è¡Œé€Ÿåº¦æ…¢</h3><p>å°± C++ è€Œè¨€ï¼Œç”±äºé¢å‘æ›´é«˜çš„é€»è¾‘æŠ½è±¡å±‚ï¼Œä½¿å¾— C++ åœ¨å®ç°çš„æ—¶å€™ï¼Œä¸å¾—ä¸åšå‡ºæ€§èƒ½ä¸Šé¢çš„ç‰ºç‰²ï¼Œæœ‰æ—¶å€™ç”šè‡³æ˜¯è‡´å‘½çš„ ( æ‰€æœ‰å¯¹è±¡çš„å±æ€§éƒ½ç»è¿‡å†…ç½®å¤šé‡æŒ‡é’ˆçš„é—´æ¥å¼•ç”¨æ˜¯å…¶æ€§èƒ½æŸå¤±çš„ä¸»è¦åŸå› ä¹‹ä¸€)ã€‚<br>åœ¨è®¡ç®—æœºé€Ÿåº¦é£é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œä¸€ä¸ç‚¹çš„æ€§èƒ½ç‰ºç‰²æ²¡ä»€ä¹ˆå¤§ä¸äº†ã€‚æ˜¯çš„ï¼Œä»é¢å‘å¯¹è±¡çš„è§’åº¦ï¼Œä½¿çš„ç¼–ç¨‹çš„ç»“æ„æ›´åŠ æ¸…æ™°å®Œæ•´ï¼Œæ•°æ®æ›´åŠ ç‹¬ç«‹å’Œæ˜“äºç®¡ç†ï¼Œæ€§èƒ½çš„ç‰ºç‰²å¯ä»¥å¸¦æ¥è¿™ä¹ˆå¤šçš„å¥½å¤„ï¼Œæ²¡æœ‰ç†ç”±ä¸åšç¨³èµšçš„ç”Ÿæ„å§ï¼Ÿ<br>ä¸è¿‡ï¼Œåœ¨æŸäº›å¯¹é€Ÿåº¦è¦æ±‚æé«˜ç‰¹æ®Šåœºåˆï¼Œä¾‹å¦‚ä½ åšçš„æ˜¯ç”µä¿¡çš„äº¤æ¢ç³»ç»Ÿï¼Œæ¯ç§’é’Ÿæœ‰è¶…è¿‡ç™¾ä¸‡çš„äººåŒæ—¶è¿›è¡Œç”µè¯äº¤æ¢ï¼Œå¦‚æœï¼Œæ¯ä¸€ä¸ªæ•°æ®äº¤æ¢è¿‡ç¨‹éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆæ€»çš„æ€§èƒ½æŸå¤±å°†æ˜¯å¤©æ–‡æ•°å­—ï¼ï¼<br>æˆ–è€…è¿™ä¸ªä¾‹å­ä¸å¤Ÿè´´èº«ï¼Œå†ä¸¾ä¸ªä¾‹å­å§ã€‚å‡å¦‚ä½ å—è˜äºä¸€ä¸ªæ¸¸æˆè®¾è®¡å…¬å¸ï¼Œè€æ¿å¸Œæœ›åšå‡ºæ¥çš„æ¸¸æˆå¯ä»¥æ›´å¤šçš„å…¼é¡¾åˆ°æ›´å¤šçš„ç”µè„‘ä½¿ç”¨è€…ï¼Œæ¸¸æˆæ¯ç§’é’Ÿçš„è¿è¡Œçš„å¸§å¯ä»¥ æ›´å¤šï¼Œå­å¼¹å’Œçˆ†ç‚¸ç‰©å¯ä»¥æ›´å¤šã€æ›´åä¸½ã€‚é‚£ä¹ˆï¼Œä½ ä¼šå‘ç°ä½¿ç”¨ C++ ä¼šä½¿ä½ çš„ç¨‹åºå˜å¾—ç¬¨æ‹™ï¼Œæ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚</p><h3 id="2ã€ç»§æ‰¿çš„ä»£ä»·åºå¤§ï¼Œå¢åŠ äº†ä»£ç é‡"><a href="#2ã€ç»§æ‰¿çš„ä»£ä»·åºå¤§ï¼Œå¢åŠ äº†ä»£ç é‡" class="headerlink" title="2ã€ç»§æ‰¿çš„ä»£ä»·åºå¤§ï¼Œå¢åŠ äº†ä»£ç é‡"></a>2ã€ç»§æ‰¿çš„ä»£ä»·åºå¤§ï¼Œå¢åŠ äº†ä»£ç é‡</h3><p>å¯¹äºé¢å‘è¿‡ç¨‹è¯­è¨€æ¥è¯´ï¼Œç¼–ç¨‹æ—¶éœ€è¦å“ªäº›å˜é‡å’Œæ–¹æ³•å°±åªç¼–å†™è¿™äº›å˜é‡å’Œæ–¹æ³•ï¼Œè€Œå¯¹äºé¢å‘å¯¹è±¡è¯­è¨€æ¥è¯´ï¼Œæ¯æ¬¡æ— è®ºä½ è¦ä½¿ç”¨ä»€ä¹ˆéƒ½è¦å…ˆå†™ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªç±»éƒ½è¦æœ‰ç‹¬ç«‹çš„å˜é‡å’Œæ–¹æ³•ï¼Œè¿™æ ·å°±ä¼šé€ æˆå¯èƒ½å¾ˆç®€å•çš„é—®é¢˜ä¹Ÿè¦å¾ˆå¤šçš„ç±»ä»£ç ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªç¼ºç‚¹ï¼Œç»§æ‰¿ä¾¿å‡ºç°äº†ï¼Œç»§æ‰¿å¯ä»¥è®©ç±»ä¸ç±»å¯ä»¥å…±äº«ä»£ç ï¼Œè·å¾—ä»£ç çš„å¯é‡ç”¨æ€§ï¼Œä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†ä»£ç é‡ã€‚ä½†æ˜¯ï¼Œéšç€ç»§æ‰¿å±‚æ¬¡çš„å¢åŠ ï¼Œä»£ç çš„å¤æ‚æ€§ä¼šåŠ é€Ÿå¢é•¿ï¼Œéšä¹‹è€Œæ¥çš„bugä¹Ÿä¼šè¶Šæ¥è¶Šéš¾ä»¥å‘ç°ã€‚</p><h3 id="3ã€å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œè€¦åˆæ€§å¤ªé«˜"><a href="#3ã€å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œè€¦åˆæ€§å¤ªé«˜" class="headerlink" title="3ã€å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œè€¦åˆæ€§å¤ªé«˜"></a>3ã€å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œè€¦åˆæ€§å¤ªé«˜</h3><p>ç”±äºé¢å‘å¯¹è±¡è¯­è¨€ä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡å»åˆ›å»ºå¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰èƒ½ä½¿ç”¨å…¶å†…éƒ¨æ–¹æ³•ï¼Œè¿™æ ·å°±é€ æˆäº†è¿™äº›å¯¹è±¡ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œä¸ºäº†æ¶ˆé™¤è¿™äº›ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåˆ›å»ºå¯¹è±¡çš„ä»£ç å…¨éƒ¨é›†ä¸­åˆ°ä¸€ä¸ªå¯¹è±¡ä¹‹ä¸­ï¼Œå…¶ä»–çš„å¯¹è±¡éƒ½é€šè¿‡è°ƒç”¨è¯¥å¯¹è±¡çš„æ–¹æ³•æ¥åŠ¨æ€çš„è·å–æ‰€éœ€è¦çš„å¯¹è±¡ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å·¥å‚æ¨¡å¼ã€‚è¿›ä¸€æ­¥åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ä½¿ç”¨å·¥å‚ï¼Œè€Œæ˜¯ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Œè¯¥æ’ä»¶å¯ä»¥æŠŠæˆ‘ä»¬æ‰€éœ€è¦çš„å¯¹è±¡åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°â€œå¡â€ç»™æˆ‘ä»¬ï¼Œè¿™å°±æ˜¯ä¾èµ–æ³¨å…¥ï¼Œä¹Ÿå°±æ˜¯æ§åˆ¶åè½¬ã€‚è¿™ä¸ªæ’ä»¶å°±ç›¸å½“äºSpring IOCã€‚</p><h3 id="4ã€å¤±å»äº†çµæ´»æ€§"><a href="#4ã€å¤±å»äº†çµæ´»æ€§" class="headerlink" title="4ã€å¤±å»äº†çµæ´»æ€§"></a>4ã€å¤±å»äº†çµæ´»æ€§</h3><p>é¢å‘å¯¹è±¡è¯­è¨€ä»£ç éƒ½å¾ˆæ­»æ¿ï¼Œç»§æ‰¿ä¹Ÿæ²¡æœ‰è¿è¡Œæ—¶åŠ¨æ€ï¼Œä½†æ˜¯javaçš„å¤šæ€æœºåˆ¶ï¼Œå…¶ä¸åŒäºé¢å‘è¿‡ç¨‹è¯­è¨€çš„æ–¹æ³•åæœŸç»‘å®šï¼Œåœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šå…·ä½“è°ƒç”¨çš„æ˜¯å“ªä¸ªæ–¹æ³•ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†å…¶çµæ´»æ€§ã€‚é¢å‘å¯¹è±¡è¯­è¨€ä¸€ç›´æå€¡çš„ç»„åˆå¤§äºç»§æ‰¿çš„æ€æƒ³è¯ç”Ÿäº†è®¸è®¸å¤šå¤šçš„è®¾è®¡æ¨¡å¼ï¼Œè¿™äº›è®¾è®¡æ¨¡å¼é€šè¿‡å¯¹ç»„åˆå’Œå¤šæ€çš„å¥‡å¦™è¿ç”¨å¤§å¤§çš„å¢åŠ äº†é¢å‘å¯¹è±¡è¯­è¨€çš„çµæ´»æ€§ã€‚</p><h3 id="5ã€éœ€è¦ä¸€å®šçš„è½¯ä»¶æ”¯æŒç¯å¢ƒ"><a href="#5ã€éœ€è¦ä¸€å®šçš„è½¯ä»¶æ”¯æŒç¯å¢ƒ" class="headerlink" title="5ã€éœ€è¦ä¸€å®šçš„è½¯ä»¶æ”¯æŒç¯å¢ƒ"></a>5ã€éœ€è¦ä¸€å®šçš„è½¯ä»¶æ”¯æŒç¯å¢ƒ</h3><p>é¢å‘å¯¹è±¡æ–¹æ³•å­¦æŠŠåˆ†æã€è®¾è®¡å’Œå®ç°å¾ˆè‡ªç„¶åœ°è”ç³»åœ¨ä¸€èµ·äº†ã€‚è™½ç„¶é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ä¸Šä¸ä¾èµ–äºç‰¹å®šçš„å®ç°ç¯å¢ƒï¼Œä½†æ˜¯å®ç°ç»“æœå’Œå®ç°æˆæœ¬å´åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå®ç°ç¯å¢ƒã€‚å› æ­¤ï¼Œç›´æ¥æ”¯æŒé¢å‘å¯¹è±¡è®¾è®¡èŒƒå¼çš„é¢å‘å¯¹è±¡ç¨‹åºè¯­è¨€ã€å¼€å‘ç¯å¢ƒåŠç±»åº“ï¼Œå¯¹äºé¢å‘å¯¹è±¡å®ç°æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ã€‚<br>ç»¼ä¸Šæ‰€è¿°ï¼Œå…¶å®åœ¨æˆ‘ä»¬çš„å­¦ä¹ è¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ°é¢å‘å¯¹è±¡è¯­è¨€æœ‰è®¸å¤šä¼˜ç§€çš„åœ°æ–¹ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ç¼ºé™·ï¼Œè€Œæˆ‘ä»¬ä¸€ç›´éƒ½åœ¨åŠªåŠ›åœ°æƒ³å°½å„ç§åŠæ³•å»å¼¥è¡¥è¿™äº›ç¼ºé™·ï¼Œé€šè¿‡ä¸€äº›æœºåˆ¶è®©é¢å‘å¯¹è±¡è¯­è¨€è¶Šæ¥è¶Šæ¥è¶‹äºå®Œå–„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬”/æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
            <tag> ç¨‹åºè®¾è®¡è¯­è¨€åŸç† </tag>
            
            <tag> é¢å‘å¯¹è±¡ </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…¥å‘</title>
      <link href="/2017/02/01/Begin-Hexo/"/>
      <url>/2017/02/01/Begin-Hexo/</url>
      
        <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Welcome to my blog, enter password to read.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="6f243a2e385d84d5ccc11900fcb31266158822ebce9a6a801ddb57f32c6608e4">d0d703fa332139beb12ceb85f23df7fc2dd2ad6c1e2d88c79a07ca82a4c752383c4b274b70abf24c2627b91511ca38c6827a85fb24bb1d405ef366f63d449475cc7e7021b2f42aea7973805ef690a099be12a8caa2ffdf6dbc9f6212144592fad5a584f16d9cbcc534663cce7d13c5205693b5799467cdca4f31b1eb3da117c4464e9d65e8d2ea086423bfac557b55b88f807ccf0b25016324b2051db850900f99f12708a26a6549e44778d76c46ce31d1a6d64c5e9d8db63da0630457acc014c67941c9a3f8ca646afc155801e88b3509b175e7ac010b442778b88935322dc16758351f90281084ecfd1b06f21cb5a1c4e1255c460c67ea328840963b1ad7b1f852cafe5fdc6953ede3c0673d806bfabe27886bcda6e231bc5cd1f5cb677b296f51da1bb1989bfaa6cf0b0660f35891bbd99b26a0896e78d57842dee264d016baceb99e3f13092237c93684670c6e88cfff33da6d7349a6cf40be699e8284ef10b4eb241453682469c77ad2f090a4e373b2180742907a573045ec4249741ead90025684de14d2c211fe00e6607198734334ea439dae591f201d9490b798cbfd6d3587ac9b9ad81396def3061e6a23e6c7f9ccdbb7275a2809aef139d0a9c9778d50c2180804a2063d7974f0290a762bdb2f9ab0a607f00dc611f48b6c45ad7a18fb4b0531aafa273afa651a226af26f05b880027af884671dec90c608d7654df07ed93288cb5ef405b58fd5836a91aeba11d07a72696ca368791b14474e45a25ee9c4d515f02b78b4bff644290ac0cffe4cf1ef6c1dd1e44107ebabe897fe81d6288a1a427bae0728eead5416c712ebadf1518b2d30149d7e0dc4b75fecb6994f618f69f0c2c45338af3e35f7cf2e3acbba3222363f11403d04e2fbd73ea3ed57170c8a5d1038d5d9c2b314a05e4b2793aa3cec2ed7e22ef6ea5bcef5b4121fc3b2383c08c835fa47d03ba9715ccbe2eb07d83a91eca74a3ef651e17c1f55e1</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> npm </tag>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2017/02/01/hello-world/"/>
      <url>/2017/02/01/hello-world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
